-- Base64 解码器（Roblox 可用）
local b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
local b64lookup = {}
for i = 1, #b64chars do
    b64lookup[b64chars:sub(i, i)] = i - 1
end

local function base64_decode(data)
    data = data:gsub('[^%w%+%/%=]', '')
    local result = {}
    local n = 1
    while n <= #data do
        local a = b64lookup[data:sub(n, n)]
        local b = b64lookup[data:sub(n+1, n+1)]
        local c = b64lookup[data:sub(n+2, n+2)]
        local d = b64lookup[data:sub(n+3, n+3)]

        local x = (a * 262144) + (b * 4096) + ((c or 0) * 64) + (d or 0)
        result[#result+1] = string.char(
            math.floor(x / 65536) % 256,
            math.floor(x / 256) % 256,
            x % 256
        )
        n = n + 4
    end

    local pad = select(2, data:gsub('=', '='))
    if pad == 2 then
        result[#result] = result[#result]:sub(1, 1)
    elseif pad == 1 then
        result[#result] = result[#result]:sub(1, 2)
    end

    return table.concat(result)
end

-- ✅ 示例：解码并执行（仅限你自己的脚本）
local decoded = base64_decode("bG9jYWwgUmF5ZmllbGQgPSBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9zaXJpdXMubWVudS9yYXlmaWVsZCcpKSgpCgotLSDpq5jnuqflrZDlvLnov73ouKrlkozlrZDlvLnnqb/lopnns7vnu58KbG9jYWwgUGxheWVycyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpCmxvY2FsIFJ1blNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKQpsb2NhbCBVc2VySW5wdXRTZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJVc2VySW5wdXRTZXJ2aWNlIikKbG9jYWwgV29ya3NwYWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKQpsb2NhbCBMb2NhbFBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgQ2FtZXJhID0gV29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKCi0tIOWtkOW8uei/vei4quezu+e7nwpsb2NhbCBCdWxsZXRUcmFjZXIgPSB7CiAgICBFbmFibGVkID0gZmFsc2UsCiAgICBUZWFtQ2hlY2sgPSB0cnVlLAogICAgV2FsbENoZWNrID0gdHJ1ZSwKICAgIFByZWRpY3Rpb24gPSAwLjE1LAogICAgU21vb3RobmVzcyA9IDAuOCwKICAgIE1heERpc3RhbmNlID0gMTAwMCwKICAgIAogICAgLS0g6L+96Liq6K6+572uCiAgICBUcmFja2luZyA9IHsKICAgICAgICBNb2RlID0gIlNtYXJ0IiwgLS0gU21hcnQsIERpcmVjdCwgUHJlZGljdGl2ZQogICAgICAgIFVwZGF0ZVJhdGUgPSAzMCwgLS0gSHoKICAgICAgICBMb2NrVGltZSA9IDAuNSwKICAgICAgICBCcmVha0Rpc3RhbmNlID0gNTAKICAgIH0sCiAgICAKICAgIC0tIOinhuinieiuvue9rgogICAgVmlzdWFsID0gewogICAgICAgIFNob3dUcmFjZXIgPSB0cnVlLAogICAgICAgIFRyYWNlckNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCA1MCwgNTApLAogICAgICAgIFRyYWNlclRoaWNrbmVzcyA9IDIsCiAgICAgICAgU2hvd1RhcmdldCA9IHRydWUsCiAgICAgICAgVGFyZ2V0Q29sb3IgPSBDb2xvcjMuZnJvbVJHQigwLCAyNTUsIDApCiAgICB9LAogICAgCiAgICAtLSDpq5jnuqforr7nva4KICAgIEFkdmFuY2VkID0gewogICAgICAgIEh1bWFuaXplciA9IHRydWUsCiAgICAgICAgSml0dGVyID0gMC4wNSwKICAgICAgICBDdXJ2ZSA9IDAuMSwKICAgICAgICBBZGFwdGl2ZVByZWRpY3Rpb24gPSB0cnVlCiAgICB9Cn0KCi0tIOWtkOW8ueepv+Wimeezu+e7nwpsb2NhbCBCdWxsZXRQZW5ldHJhdGlvbiA9IHsKICAgIEVuYWJsZWQgPSBmYWxzZSwKICAgIE1vZGUgPSAiQ29sbGlzaW9uIiwgLS0gQ29sbGlzaW9uLCBSYXljYXN0LCBIeWJyaWQKICAgIFBlbmV0cmF0aW9uRGVwdGggPSAzLAogICAgSWdub3JlTGlzdCA9IHt9LAogICAgCiAgICAtLSDnqb/lopnorr7nva4KICAgIFNldHRpbmdzID0gewogICAgICAgIFJlbW92ZUNvbGxpc2lvbiA9IHRydWUsCiAgICAgICAgSWdub3JlV2FsbHMgPSB0cnVlLAogICAgICAgIFBlbmV0cmF0ZVBsYXllcnMgPSB0cnVlLAogICAgICAgIE1heFBlbmV0cmF0aW9uID0gNQogICAgfSwKICAgIAogICAgLS0g5oCn6IO96K6+572uCiAgICBQZXJmb3JtYW5jZSA9IHsKICAgICAgICBDaGVja1JhdGUgPSA2MCwKICAgICAgICBNYXhDaGVja3MgPSAxMCwKICAgICAgICBPcHRpbWl6ZVJheWNhc3RzID0gdHJ1ZQogICAgfQp9CgotLSDlhajlsYDlj5jph48KbG9jYWwgQnVsbGV0VHJhY2VycyA9IHt9CmxvY2FsIFRhcmdldExvY2sgPSBuaWwKbG9jYWwgTGFzdExvY2tUaW1lID0gMApsb2NhbCBUcmFjZXJDb25uZWN0aW9ucyA9IHt9CmxvY2FsIE9yaWdpbmFsQ29sbGlzaW9ucyA9IHt9CmxvY2FsIFdhbGxJZ25vcmVMaXN0ID0ge30KCi0tIOWIm+W7uuWtkOW8uei/vei4quWZqOWPr+inhuWMlgpsb2NhbCBmdW5jdGlvbiBDcmVhdGVCdWxsZXRUcmFjZXJWaXN1YWwoKQogICAgbG9jYWwgdHJhY2VyID0gRHJhd2luZy5uZXcoIkxpbmUiKQogICAgdHJhY2VyLlZpc2libGUgPSBmYWxzZQogICAgdHJhY2VyLkNvbG9yID0gQnVsbGV0VHJhY2VyLlZpc3VhbC5UcmFjZXJDb2xvcgogICAgdHJhY2VyLlRoaWNrbmVzcyA9IEJ1bGxldFRyYWNlci5WaXN1YWwuVHJhY2VyVGhpY2tuZXNzCiAgICB0cmFjZXIuWkluZGV4ID0gMTAKICAgIHJldHVybiB0cmFjZXIKZW5kCgotLSDliJvlu7rnm67moIfmjIfnpLrlmagKbG9jYWwgZnVuY3Rpb24gQ3JlYXRlVGFyZ2V0SW5kaWNhdG9yKCkKICAgIGxvY2FsIGluZGljYXRvciA9IERyYXdpbmcubmV3KCJDaXJjbGUiKQogICAgaW5kaWNhdG9yLlZpc2libGUgPSBmYWxzZQogICAgaW5kaWNhdG9yLkNvbG9yID0gQnVsbGV0VHJhY2VyLlZpc3VhbC5UYXJnZXRDb2xvcgogICAgaW5kaWNhdG9yLlJhZGl1cyA9IDgKICAgIGluZGljYXRvci5UaGlja25lc3MgPSAyCiAgICBpbmRpY2F0b3IuRmlsbGVkID0gZmFsc2UKICAgIGluZGljYXRvci5aSW5kZXggPSAxMQogICAgcmV0dXJuIGluZGljYXRvcgplbmQKCi0tIOiOt+WPluinkuiJsuaguemDqOS9jQpsb2NhbCBmdW5jdGlvbiBHZXRDaGFyYWN0ZXJSb290KGNoYXJhY3RlcikKICAgIHJldHVybiBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBvciAKICAgICAgICAgICBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlRvcnNvIikgb3IgCiAgICAgICAgICAgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJVcHBlclRvcnNvIikKZW5kCgotLSDojrflj5bnm67moIfkvY3nva7vvIjluKbpq5jnuqfpooTmtYvvvIkKbG9jYWwgZnVuY3Rpb24gR2V0UHJlZGljdGVkUG9zaXRpb24odGFyZ2V0Q2hhcmFjdGVyLCBwcmVkaWN0aW9uVGltZSkKICAgIGxvY2FsIHJvb3QgPSBHZXRDaGFyYWN0ZXJSb290KHRhcmdldENoYXJhY3RlcikKICAgIGlmIG5vdCByb290IHRoZW4gcmV0dXJuIG5pbCBlbmQKICAgIAogICAgbG9jYWwgdGFyZ2V0UGFydCA9IHRhcmdldENoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSGVhZCIpIG9yIHJvb3QKICAgIGlmIG5vdCB0YXJnZXRQYXJ0IHRoZW4gcmV0dXJuIG5pbCBlbmQKICAgIAogICAgLS0g5Z+656GA6YCf5bqm6aKE5rWLCiAgICBsb2NhbCB2ZWxvY2l0eSA9IHJvb3QuVmVsb2NpdHkKICAgIGxvY2FsIGJhc2VQcmVkaWN0aW9uID0gdGFyZ2V0UGFydC5Qb3NpdGlvbiArICh2ZWxvY2l0eSAqIHByZWRpY3Rpb25UaW1lKQogICAgCiAgICAtLSDpq5jnuqfpooTmtYvvvIjogIPomZHliqDpgJ/luqblkoznp7vliqjmqKHlvI/vvIkKICAgIGlmIEJ1bGxldFRyYWNlci5BZHZhbmNlZC5BZGFwdGl2ZVByZWRpY3Rpb24gdGhlbgogICAgICAgIGxvY2FsIGh1bWFub2lkID0gdGFyZ2V0Q2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgIGlmIGh1bWFub2lkIHRoZW4KICAgICAgICAgICAgLS0g5qC55o2u56e75Yqo54q25oCB6LCD5pW06aKE5rWLCiAgICAgICAgICAgIGxvY2FsIG1vdmVEaXJlY3Rpb24gPSBodW1hbm9pZC5Nb3ZlRGlyZWN0aW9uCiAgICAgICAgICAgIGlmIG1vdmVEaXJlY3Rpb24uTWFnbml0dWRlID4gMCB0aGVuCiAgICAgICAgICAgICAgICBiYXNlUHJlZGljdGlvbiA9IGJhc2VQcmVkaWN0aW9uICsgKG1vdmVEaXJlY3Rpb24gKiBwcmVkaWN0aW9uVGltZSAqIDIpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgLS0g5re75Yqg5puy57q/6aKE5rWLCiAgICAgICAgICAgIGlmIEJ1bGxldFRyYWNlci5BZHZhbmNlZC5DdXJ2ZSA+IDAgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgY3VydmVPZmZzZXQgPSBWZWN0b3IzLm5ldygKICAgICAgICAgICAgICAgICAgICBtYXRoLnNpbih0aWNrKCkpICogQnVsbGV0VHJhY2VyLkFkdmFuY2VkLkN1cnZlLAogICAgICAgICAgICAgICAgICAgIG1hdGguY29zKHRpY2soKSAqIDAuOCkgKiBCdWxsZXRUcmFjZXIuQWR2YW5jZWQuQ3VydmUgKiAwLjUsCiAgICAgICAgICAgICAgICAgICAgbWF0aC5zaW4odGljaygpICogMS4yKSAqIEJ1bGxldFRyYWNlci5BZHZhbmNlZC5DdXJ2ZQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgYmFzZVByZWRpY3Rpb24gPSBiYXNlUHJlZGljdGlvbiArIGN1cnZlT2Zmc2V0CiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIC0tIOS6uuexu+WMluaKluWKqAogICAgaWYgQnVsbGV0VHJhY2VyLkFkdmFuY2VkLkh1bWFuaXplciB0aGVuCiAgICAgICAgYmFzZVByZWRpY3Rpb24gPSBiYXNlUHJlZGljdGlvbiArIFZlY3RvcjMubmV3KAogICAgICAgICAgICAobWF0aC5yYW5kb20oKSAqIDIgLSAxKSAqIEJ1bGxldFRyYWNlci5BZHZhbmNlZC5KaXR0ZXIsCiAgICAgICAgICAgIChtYXRoLnJhbmRvbSgpICogMiAtIDEpICogQnVsbGV0VHJhY2VyLkFkdmFuY2VkLkppdHRlciAqIDAuMywKICAgICAgICAgICAgKG1hdGgucmFuZG9tKCkgKiAyIC0gMSkgKiBCdWxsZXRUcmFjZXIuQWR2YW5jZWQuSml0dGVyCiAgICAgICAgKQogICAgZW5kCiAgICAKICAgIHJldHVybiBiYXNlUHJlZGljdGlvbgplbmQKCi0tIOWimeS9k+ajgOa1iwpsb2NhbCBmdW5jdGlvbiBJc1Zpc2libGUodGFyZ2V0UG9zaXRpb24sIHRhcmdldENoYXJhY3RlcikKICAgIGlmIG5vdCBCdWxsZXRUcmFjZXIuV2FsbENoZWNrIHRoZW4gcmV0dXJuIHRydWUgZW5kCiAgICAKICAgIGxvY2FsIG9yaWdpbiA9IENhbWVyYS5DRnJhbWUuUG9zaXRpb24KICAgIGxvY2FsIGRpcmVjdGlvbiA9ICh0YXJnZXRQb3NpdGlvbiAtIG9yaWdpbikuVW5pdAogICAgbG9jYWwgZGlzdGFuY2UgPSAodGFyZ2V0UG9zaXRpb24gLSBvcmlnaW4pLk1hZ25pdHVkZQogICAgCiAgICAtLSDliJvlu7rlsITnur/lj4LmlbAKICAgIGxvY2FsIHJheWNhc3RQYXJhbXMgPSBSYXljYXN0UGFyYW1zLm5ldygpCiAgICByYXljYXN0UGFyYW1zLkZpbHRlclR5cGUgPSBFbnVtLlJheWNhc3RGaWx0ZXJUeXBlLkJsYWNrbGlzdAogICAgcmF5Y2FzdFBhcmFtcy5GaWx0ZXJEZXNjZW5kYW50c0luc3RhbmNlcyA9IHtMb2NhbFBsYXllci5DaGFyYWN0ZXIsIENhbWVyYSwgdGFyZ2V0Q2hhcmFjdGVyfQogICAgCiAgICAtLSDmiafooYzlsITnur/mo4DmtYsKICAgIGxvY2FsIHJheWNhc3RSZXN1bHQgPSBXb3Jrc3BhY2U6UmF5Y2FzdChvcmlnaW4sIGRpcmVjdGlvbiAqIGRpc3RhbmNlLCByYXljYXN0UGFyYW1zKQogICAgCiAgICByZXR1cm4gcmF5Y2FzdFJlc3VsdCA9PSBuaWwKZW5kCgotLSDlm6LpmJ/mo4Dmn6UKbG9jYWwgZnVuY3Rpb24gSXNFbmVteShwbGF5ZXIpCiAgICBpZiBub3QgQnVsbGV0VHJhY2VyLlRlYW1DaGVjayB0aGVuIHJldHVybiB0cnVlIGVuZAogICAgCiAgICBpZiBwbGF5ZXIuVGVhbSBhbmQgTG9jYWxQbGF5ZXIuVGVhbSB0aGVuCiAgICAgICAgcmV0dXJuIHBsYXllci5UZWFtIH49IExvY2FsUGxheWVyLlRlYW0KICAgIGVuZAogICAgCiAgICByZXR1cm4gdHJ1ZQplbmQKCi0tIOiOt+WPluacgOS9s+ebruaghwpsb2NhbCBmdW5jdGlvbiBHZXRCZXN0VGFyZ2V0KCkKICAgIGxvY2FsIGJlc3RUYXJnZXQgPSBuaWwKICAgIGxvY2FsIGJlc3REaXN0YW5jZSA9IG1hdGguaHVnZQogICAgbG9jYWwgY2FtZXJhUG9zaXRpb24gPSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uCiAgICAKICAgIGZvciBfLCBwbGF5ZXIgaW4gaXBhaXJzKFBsYXllcnM6R2V0UGxheWVycygpKSBkbwogICAgICAgIGlmIHBsYXllciA9PSBMb2NhbFBsYXllciB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgIGlmIG5vdCBJc0VuZW15KHBsYXllcikgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBwbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgaWYgbm90IGNoYXJhY3RlciB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIGh1bWFub2lkID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgIGlmIG5vdCBodW1hbm9pZCBvciBodW1hbm9pZC5IZWFsdGggPD0gMCB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIHRhcmdldFBvc2l0aW9uID0gR2V0UHJlZGljdGVkUG9zaXRpb24oY2hhcmFjdGVyLCBCdWxsZXRUcmFjZXIuUHJlZGljdGlvbikKICAgICAgICBpZiBub3QgdGFyZ2V0UG9zaXRpb24gdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAKICAgICAgICBpZiBub3QgSXNWaXNpYmxlKHRhcmdldFBvc2l0aW9uLCBjaGFyYWN0ZXIpIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgZGlzdGFuY2UgPSAodGFyZ2V0UG9zaXRpb24gLSBjYW1lcmFQb3NpdGlvbikuTWFnbml0dWRlCiAgICAgICAgaWYgZGlzdGFuY2UgPD0gQnVsbGV0VHJhY2VyLk1heERpc3RhbmNlIGFuZCBkaXN0YW5jZSA8IGJlc3REaXN0YW5jZSB0aGVuCiAgICAgICAgICAgIGJlc3RUYXJnZXQgPSB7CiAgICAgICAgICAgICAgICBQbGF5ZXIgPSBwbGF5ZXIsCiAgICAgICAgICAgICAgICBDaGFyYWN0ZXIgPSBjaGFyYWN0ZXIsCiAgICAgICAgICAgICAgICBQb3NpdGlvbiA9IHRhcmdldFBvc2l0aW9uLAogICAgICAgICAgICAgICAgRGlzdGFuY2UgPSBkaXN0YW5jZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGJlc3REaXN0YW5jZSA9IGRpc3RhbmNlCiAgICAgICAgZW5kCiAgICBlbmQKICAgIAogICAgcmV0dXJuIGJlc3RUYXJnZXQKZW5kCgotLSDlrZDlvLnov73ouKrpgLvovpEKbG9jYWwgZnVuY3Rpb24gVHJhY2tCdWxsZXQoYnVsbGV0LCB0YXJnZXQpCiAgICBpZiBub3QgYnVsbGV0IG9yIG5vdCB0YXJnZXQgdGhlbiByZXR1cm4gZW5kCiAgICAKICAgIGxvY2FsIHRyYWNlcklkID0gI0J1bGxldFRyYWNlcnMgKyAxCiAgICBsb2NhbCB0cmFjZXJWaXN1YWwgPSBDcmVhdGVCdWxsZXRUcmFjZXJWaXN1YWwoKQogICAgbG9jYWwgc3RhcnRUaW1lID0gdGljaygpCiAgICAKICAgIEJ1bGxldFRyYWNlcnNbdHJhY2VySWRdID0gewogICAgICAgIEJ1bGxldCA9IGJ1bGxldCwKICAgICAgICBUYXJnZXQgPSB0YXJnZXQsCiAgICAgICAgVmlzdWFsID0gdHJhY2VyVmlzdWFsLAogICAgICAgIFN0YXJ0VGltZSA9IHN0YXJ0VGltZSwKICAgICAgICBBY3RpdmUgPSB0cnVlCiAgICB9CiAgICAKICAgIC0tIOi/vei4quW+queOrwogICAgbG9jYWwgY29ubmVjdGlvbiA9IFJ1blNlcnZpY2UuSGVhcnRiZWF0OkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgIGxvY2FsIHRyYWNlciA9IEJ1bGxldFRyYWNlcnNbdHJhY2VySWRdCiAgICAgICAgaWYgbm90IHRyYWNlciBvciBub3QgdHJhY2VyLkFjdGl2ZSB0aGVuCiAgICAgICAgICAgIGNvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIGJ1bGxldFBhcnQgPSB0cmFjZXIuQnVsbGV0CiAgICAgICAgbG9jYWwgdGFyZ2V0RGF0YSA9IHRyYWNlci5UYXJnZXQKICAgICAgICAKICAgICAgICBpZiBub3QgYnVsbGV0UGFydCBvciBub3QgYnVsbGV0UGFydC5QYXJlbnQgdGhlbgogICAgICAgICAgICB0cmFjZXIuQWN0aXZlID0gZmFsc2UKICAgICAgICAgICAgdHJhY2VyLlZpc3VhbC5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgY29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgLS0g5pu05paw55uu5qCH5L2N572uCiAgICAgICAgbG9jYWwgY3VycmVudFRhcmdldFBvc2l0aW9uID0gR2V0UHJlZGljdGVkUG9zaXRpb24odGFyZ2V0RGF0YS5DaGFyYWN0ZXIsIEJ1bGxldFRyYWNlci5QcmVkaWN0aW9uKQogICAgICAgIGlmIG5vdCBjdXJyZW50VGFyZ2V0UG9zaXRpb24gdGhlbgogICAgICAgICAgICB0cmFjZXIuQWN0aXZlID0gZmFsc2UKICAgICAgICAgICAgdHJhY2VyLlZpc3VhbC5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgY29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgLS0g5bqU55So6L+96LiqCiAgICAgICAgbG9jYWwgYnVsbGV0UG9zaXRpb24gPSBidWxsZXRQYXJ0LlBvc2l0aW9uCiAgICAgICAgbG9jYWwgZGlyZWN0aW9uID0gKGN1cnJlbnRUYXJnZXRQb3NpdGlvbiAtIGJ1bGxldFBvc2l0aW9uKS5Vbml0CiAgICAgICAgCiAgICAgICAgLS0g5qC55o2u5qih5byP6LCD5pW06L+96Liq5by65bqmCiAgICAgICAgbG9jYWwgdHJhY2tpbmdTdHJlbmd0aCA9IEJ1bGxldFRyYWNlci5TbW9vdGhuZXNzCiAgICAgICAgaWYgQnVsbGV0VHJhY2VyLlRyYWNraW5nLk1vZGUgPT0gIkRpcmVjdCIgdGhlbgogICAgICAgICAgICB0cmFja2luZ1N0cmVuZ3RoID0gMS4wCiAgICAgICAgZWxzZWlmIEJ1bGxldFRyYWNlci5UcmFja2luZy5Nb2RlID09ICJQcmVkaWN0aXZlIiB0aGVuCiAgICAgICAgICAgIHRyYWNraW5nU3RyZW5ndGggPSAwLjYKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICAtLSDmm7TmlrDlrZDlvLnpgJ/luqYKICAgICAgICBsb2NhbCBjdXJyZW50VmVsb2NpdHkgPSBidWxsZXRQYXJ0LlZlbG9jaXR5CiAgICAgICAgbG9jYWwgbmV3VmVsb2NpdHkgPSBjdXJyZW50VmVsb2NpdHk6TGVycChkaXJlY3Rpb24gKiBjdXJyZW50VmVsb2NpdHkuTWFnbml0dWRlLCB0cmFja2luZ1N0cmVuZ3RoKQogICAgICAgIGJ1bGxldFBhcnQuVmVsb2NpdHkgPSBuZXdWZWxvY2l0eQogICAgICAgIAogICAgICAgIC0tIOabtOaWsOWPr+inhuWMlgogICAgICAgIGlmIEJ1bGxldFRyYWNlci5WaXN1YWwuU2hvd1RyYWNlciB0aGVuCiAgICAgICAgICAgIGxvY2FsIHNjcmVlblN0YXJ0LCBvblNjcmVlbjEgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQoYnVsbGV0UG9zaXRpb24pCiAgICAgICAgICAgIGxvY2FsIHNjcmVlbkVuZCwgb25TY3JlZW4yID0gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KGN1cnJlbnRUYXJnZXRQb3NpdGlvbikKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG9uU2NyZWVuMSBhbmQgb25TY3JlZW4yIHRoZW4KICAgICAgICAgICAgICAgIHRyYWNlclZpc3VhbC5Gcm9tID0gVmVjdG9yMi5uZXcoc2NyZWVuU3RhcnQuWCwgc2NyZWVuU3RhcnQuWSkKICAgICAgICAgICAgICAgIHRyYWNlclZpc3VhbC5UbyA9IFZlY3RvcjIubmV3KHNjcmVlbkVuZC5YLCBzY3JlZW5FbmQuWSkKICAgICAgICAgICAgICAgIHRyYWNlclZpc3VhbC5WaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB0cmFjZXJWaXN1YWwuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIC0tIOajgOafpei/vei4que7k+adn+adoeS7tgogICAgICAgIGxvY2FsIGRpc3RhbmNlVG9UYXJnZXQgPSAoYnVsbGV0UG9zaXRpb24gLSBjdXJyZW50VGFyZ2V0UG9zaXRpb24pLk1hZ25pdHVkZQogICAgICAgIGlmIGRpc3RhbmNlVG9UYXJnZXQgPCBCdWxsZXRUcmFjZXIuVHJhY2tpbmcuQnJlYWtEaXN0YW5jZSBvciAKICAgICAgICAgICB0aWNrKCkgLSBzdGFydFRpbWUgPiBCdWxsZXRUcmFjZXIuVHJhY2tpbmcuTG9ja1RpbWUgdGhlbgogICAgICAgICAgICB0cmFjZXIuQWN0aXZlID0gZmFsc2UKICAgICAgICAgICAgdHJhY2VyLlZpc3VhbC5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgY29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICBlbmQKICAgIGVuZCkKICAgIAogICAgVHJhY2VyQ29ubmVjdGlvbnNbdHJhY2VySWRdID0gY29ubmVjdGlvbgplbmQKCi0tIOWtkOW8ueepv+Wimeezu+e7nwpsb2NhbCBmdW5jdGlvbiBTZXR1cEJ1bGxldFBlbmV0cmF0aW9uKCkKICAgIGlmIG5vdCBCdWxsZXRQZW5ldHJhdGlvbi5FbmFibGVkIHRoZW4gcmV0dXJuIGVuZAogICAgCiAgICAtLSDmlLbpm4blopnlo4Hlkozlhbbku5bpnIDopoHlv73nlaXnmoTlr7nosaEKICAgIFdhbGxJZ25vcmVMaXN0ID0ge30KICAgIGZvciBfLCBwYXJ0IGluIGlwYWlycyhXb3Jrc3BhY2U6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICBpZiBwYXJ0OklzQSgiQmFzZVBhcnQiKSB0aGVuCiAgICAgICAgICAgIC0tIOivhuWIq+WimeWjge+8iOWPr+S7peagueaNruWQjeensOOAgeadkOi0qOetie+8iQogICAgICAgICAgICBpZiBwYXJ0Lk5hbWU6bG93ZXIoKTpmaW5kKCJ3YWxsIikgb3IgCiAgICAgICAgICAgICAgIHBhcnQuTmFtZTpsb3dlcigpOmZpbmQoImJhcnJpZXIiKSBvcgogICAgICAgICAgICAgICBwYXJ0Lk5hbWU6bG93ZXIoKTpmaW5kKCJmZW5jZSIpIHRoZW4KICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChXYWxsSWdub3JlTGlzdCwgcGFydCkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLS0g5L+d5a2Y5Y6f5aeL56Kw5pKe6K6+572uCiAgICAgICAgICAgICAgICBpZiBCdWxsZXRQZW5ldHJhdGlvbi5TZXR0aW5ncy5SZW1vdmVDb2xsaXNpb24gdGhlbgogICAgICAgICAgICAgICAgICAgIE9yaWdpbmFsQ29sbGlzaW9uc1twYXJ0XSA9IHBhcnQuQ2FuQ29sbGlkZQogICAgICAgICAgICAgICAgICAgIHBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCgotLSDmgaLlpI3ljp/lp4vnorDmkp4KbG9jYWwgZnVuY3Rpb24gUmVzdG9yZUNvbGxpc2lvbnMoKQogICAgZm9yIHBhcnQsIGNhbkNvbGxpZGUgaW4gcGFpcnMoT3JpZ2luYWxDb2xsaXNpb25zKSBkbwogICAgICAgIGlmIHBhcnQgYW5kIHBhcnQuUGFyZW50IHRoZW4KICAgICAgICAgICAgcGFydC5DYW5Db2xsaWRlID0gY2FuQ29sbGlkZQogICAgICAgIGVuZAogICAgZW5kCiAgICBPcmlnaW5hbENvbGxpc2lvbnMgPSB7fQplbmQKCi0tIOajgOa1i+WtkOW8ueWPkeWwhApsb2NhbCBmdW5jdGlvbiBEZXRlY3RCdWxsZXRGaXJlKCkKICAgIC0tIOebkeWQrOatpuWZqOW8gOeBq+S6i+S7tu+8iOmcgOimgeagueaNruWFt+S9k+a4uOaIj+iwg+aVtO+8iQogICAgbG9jYWwgY2hhcmFjdGVyID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICBpZiBub3QgY2hhcmFjdGVyIHRoZW4gcmV0dXJuIGVuZAogICAgCiAgICAtLSDmlrnms5Ux77ya5qOA5rWL5bel5YW35L2/55SoCiAgICBmb3IgXywgdG9vbCBpbiBpcGFpcnMoY2hhcmFjdGVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgdG9vbDpJc0EoIlRvb2wiKSB0aGVuCiAgICAgICAgICAgIC0tIOebkeWQrOW3peWFt+a/gOa0u+S6i+S7tgogICAgICAgICAgICBsb2NhbCB0b29sQ29ubmVjdGlvbgogICAgICAgICAgICB0b29sQ29ubmVjdGlvbiA9IHRvb2wuQWN0aXZhdGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgQnVsbGV0VHJhY2VyLkVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIHRhcmdldCA9IEdldEJlc3RUYXJnZXQoKQogICAgICAgICAgICAgICAgICAgIGlmIHRhcmdldCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIC0tIOWvu+aJvuWtkOW8ue+8iOmcgOimgeagueaNrua4uOaIj+WFt+S9k+e7k+aehOiwg+aVtO+8iQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBidWxsZXRzID0gV29ya3NwYWNlOkdldERlc2NlbmRhbnRzKCkKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBpcGFpcnMoYnVsbGV0cykgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9iajpJc0EoIkJhc2VQYXJ0IikgYW5kIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9iai5OYW1lOmxvd2VyKCk6ZmluZCgiYnVsbGV0Iikgb3IgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLk5hbWU6bG93ZXIoKTpmaW5kKCJwcm9qZWN0aWxlIikgb3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouTmFtZTpsb3dlcigpOmZpbmQoInNob3QiKSkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tIOW7tui/n+S4gOeCueaXtumXtOehruS/neWtkOW8ueW3sue7j+eUn+aIkAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMC4wNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFja0J1bGxldChvYmosIHRhcmdldCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOW3peWFt+enu+mZpOaXtuaWreW8gOi/nuaOpQogICAgICAgICAgICB0b29sLkFuY2VzdHJ5Q2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIG5vdCB0b29sLlBhcmVudCB0aGVuCiAgICAgICAgICAgICAgICAgICAgdG9vbENvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIC0tIOaWueazlTLvvJrmo4DmtYvmlrDnlJ/miJDnmoTlrZDlvLkKICAgIFdvcmtzcGFjZS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihkZXNjZW5kYW50KQogICAgICAgIGlmIEJ1bGxldFRyYWNlci5FbmFibGVkIGFuZCBkZXNjZW5kYW50OklzQSgiQmFzZVBhcnQiKSB0aGVuCiAgICAgICAgICAgIGlmIGRlc2NlbmRhbnQuTmFtZTpsb3dlcigpOmZpbmQoImJ1bGxldCIpIG9yIAogICAgICAgICAgICAgICBkZXNjZW5kYW50Lk5hbWU6bG93ZXIoKTpmaW5kKCJwcm9qZWN0aWxlIikgb3IKICAgICAgICAgICAgICAgZGVzY2VuZGFudC5OYW1lOmxvd2VyKCk6ZmluZCgic2hvdCIpIHRoZW4KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLS0g5qOA5p+l5piv5ZCm5bGe5LqO5pys5Zyw546p5a62CiAgICAgICAgICAgICAgICBsb2NhbCBpc1BsYXllckJ1bGxldCA9IGZhbHNlCiAgICAgICAgICAgICAgICBsb2NhbCBwYXJlbnQgPSBkZXNjZW5kYW50LlBhcmVudAogICAgICAgICAgICAgICAgd2hpbGUgcGFyZW50IGRvCiAgICAgICAgICAgICAgICAgICAgaWYgcGFyZW50ID09IExvY2FsUGxheWVyLkNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxheWVyQnVsbGV0ID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5QYXJlbnQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiBpc1BsYXllckJ1bGxldCB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdGFyZ2V0ID0gR2V0QmVzdFRhcmdldCgpCiAgICAgICAgICAgICAgICAgICAgaWYgdGFyZ2V0IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgVHJhY2tCdWxsZXQoZGVzY2VuZGFudCwgdGFyZ2V0KQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQplbmQKCi0tIOWIneWni+WMluezu+e7nwpsb2NhbCBmdW5jdGlvbiBJbml0aWFsaXplU3lzdGVtcygpCiAgICAtLSDorr7nva7lrZDlvLnnqb/lopkKICAgIGlmIEJ1bGxldFBlbmV0cmF0aW9uLkVuYWJsZWQgdGhlbgogICAgICAgIFNldHVwQnVsbGV0UGVuZXRyYXRpb24oKQogICAgZW5kCiAgICAKICAgIC0tIOW8gOWni+ajgOa1i+WtkOW8ueWPkeWwhAogICAgRGV0ZWN0QnVsbGV0RmlyZSgpCiAgICAKICAgIC0tIOinkuiJsumHjeeUn+aXtumHjeaWsOWIneWni+WMlgogICAgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgd2FpdCgxKSAtLSDnrYnlvoXop5LoibLlrozlhajliqDovb0KICAgICAgICBEZXRlY3RCdWxsZXRGaXJlKCkKICAgIGVuZCkKZW5kCgotLSDmuIXnkIblh73mlbAKbG9jYWwgZnVuY3Rpb24gQ2xlYW51cCgpCiAgICAtLSDlgZzmraLmiYDmnInov73ouKoKICAgIGZvciBpZCwgdHJhY2VyIGluIHBhaXJzKEJ1bGxldFRyYWNlcnMpIGRvCiAgICAgICAgdHJhY2VyLkFjdGl2ZSA9IGZhbHNlCiAgICAgICAgaWYgdHJhY2VyLlZpc3VhbCB0aGVuCiAgICAgICAgICAgIHRyYWNlci5WaXN1YWw6UmVtb3ZlKCkKICAgICAgICBlbmQKICAgIGVuZAogICAgCiAgICAtLSDmlq3lvIDmiYDmnInov57mjqUKICAgIGZvciBpZCwgY29ubmVjdGlvbiBpbiBwYWlycyhUcmFjZXJDb25uZWN0aW9ucykgZG8KICAgICAgICBjb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgZW5kCiAgICAKICAgIC0tIOaBouWkjeeisOaSngogICAgUmVzdG9yZUNvbGxpc2lvbnMoKQogICAgCiAgICBCdWxsZXRUcmFjZXJzID0ge30KICAgIFRyYWNlckNvbm5lY3Rpb25zID0ge30KZW5kCgotLSDlr7zlh7rmjqfliLblh73mlbAKbG9jYWwgQnVsbGV0U3lzdGVtID0gewogICAgLS0g5a2Q5by56L+96Liq5o6n5Yi2CiAgICBUb2dnbGVCdWxsZXRUcmFjZXIgPSBmdW5jdGlvbigpCiAgICAgICAgQnVsbGV0VHJhY2VyLkVuYWJsZWQgPSBub3QgQnVsbGV0VHJhY2VyLkVuYWJsZWQKICAgICAgICBpZiBCdWxsZXRUcmFjZXIuRW5hYmxlZCB0aGVuCiAgICAgICAgICAgIEluaXRpYWxpemVTeXN0ZW1zKCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIENsZWFudXAoKQogICAgICAgIGVuZAogICAgZW5kLAogICAgCiAgICBTZXRUcmFjZXJNb2RlID0gZnVuY3Rpb24obW9kZSkKICAgICAgICBpZiBtb2RlID09ICJTbWFydCIgb3IgbW9kZSA9PSAiRGlyZWN0IiBvciBtb2RlID09ICJQcmVkaWN0aXZlIiB0aGVuCiAgICAgICAgICAgIEJ1bGxldFRyYWNlci5UcmFja2luZy5Nb2RlID0gbW9kZQogICAgICAgIGVuZAogICAgZW5kLAogICAgCiAgICBTZXRQcmVkaWN0aW9uID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgQnVsbGV0VHJhY2VyLlByZWRpY3Rpb24gPSBtYXRoLmNsYW1wKHZhbHVlLCAwLjA1LCAwLjUpCiAgICBlbmQsCiAgICAKICAgIFNldFNtb290aG5lc3MgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBCdWxsZXRUcmFjZXIuU21vb3RobmVzcyA9IG1hdGguY2xhbXAodmFsdWUsIDAuMSwgMS4wKQogICAgZW5kLAogICAgCiAgICAtLSDlrZDlvLnnqb/lopnmjqfliLYKICAgIFRvZ2dsZUJ1bGxldFBlbmV0cmF0aW9uID0gZnVuY3Rpb24oKQogICAgICAgIEJ1bGxldFBlbmV0cmF0aW9uLkVuYWJsZWQgPSBub3QgQnVsbGV0UGVuZXRyYXRpb24uRW5hYmxlZAogICAgICAgIGlmIEJ1bGxldFBlbmV0cmF0aW9uLkVuYWJsZWQgdGhlbgogICAgICAgICAgICBTZXR1cEJ1bGxldFBlbmV0cmF0aW9uKCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIFJlc3RvcmVDb2xsaXNpb25zKCkKICAgICAgICBlbmQKICAgIGVuZCwKICAgIAogICAgU2V0UGVuZXRyYXRpb25Nb2RlID0gZnVuY3Rpb24obW9kZSkKICAgICAgICBpZiBtb2RlID09ICJDb2xsaXNpb24iIG9yIG1vZGUgPT0gIlJheWNhc3QiIG9yIG1vZGUgPT0gIkh5YnJpZCIgdGhlbgogICAgICAgICAgICBCdWxsZXRQZW5ldHJhdGlvbi5Nb2RlID0gbW9kZQogICAgICAgIGVuZAogICAgZW5kLAogICAgCiAgICAtLSDnirbmgIHojrflj5YKICAgIEdldFN0YXR1cyA9IGZ1bmN0aW9uKCkKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBUcmFjZXJFbmFibGVkID0gQnVsbGV0VHJhY2VyLkVuYWJsZWQsCiAgICAgICAgICAgIFBlbmV0cmF0aW9uRW5hYmxlZCA9IEJ1bGxldFBlbmV0cmF0aW9uLkVuYWJsZWQsCiAgICAgICAgICAgIEN1cnJlbnRUYXJnZXQgPSBUYXJnZXRMb2NrIGFuZCBUYXJnZXRMb2NrLlBsYXllci5OYW1lIG9yICJOb25lIiwKICAgICAgICAgICAgQWN0aXZlVHJhY2VycyA9ICNCdWxsZXRUcmFjZXJzCiAgICAgICAgfQogICAgZW5kLAogICAgCiAgICAtLSDmuIXnkIYKICAgIERlc3Ryb3kgPSBmdW5jdGlvbigpCiAgICAgICAgQ2xlYW51cCgpCiAgICBlbmQKfQoKLS0g5L2/55SoIFJheWZpZWxkIOWGhee9ruWvhumSpeezu+e7nwpsb2NhbCBXaW5kb3cgPSBSYXlmaWVsZDpDcmVhdGVXaW5kb3coewogICAgTmFtZSA9ICLlnaTlnaTlpKfluJ3ohJrmnKwgLSAiIC4uIChpZGVudGlmeWV4ZWN1dG9yIGFuZCBpZGVudGlmeWV4ZWN1dG9yKCkgb3IgIuacquefpeaJp+ihjOWZqCIpLAogICAgTG9hZGluZ1RpdGxlID0gIuWdpOWdpOWkp+W4neiEmuacrOWKoOi9veS4rSIsCiAgICBMb2FkaW5nU3VidGl0bGUgPSAi5bCK5Lqr54m55p2D54mIIiwKICAgIENvbmZpZ3VyYXRpb25TYXZpbmcgPSB7CiAgICAgICAgRW5hYmxlZCA9IHRydWUsCiAgICAgICAgRm9sZGVyTmFtZSA9ICJTdGl0Y2hDb25maWciLAogICAgICAgIEZpbGVOYW1lID0gIlNldHRpbmdzIgogICAgfSwKICAgIERpc2NvcmQgPSB7CiAgICAgICAgRW5hYmxlZCA9IGZhbHNlLAogICAgICAgIEludml0ZSA9ICJodHRwczovL2Rpc2NvcmQuZ2cvIiwKICAgICAgICBSZW1lbWJlckpvaW5zID0gdHJ1ZQogICAgfSwKICAgIEtleVN5c3RlbSA9IHRydWUsIC0tIOWQr+eUqOWGhee9ruWvhumSpeezu+e7nwogICAgS2V5U2V0dGluZ3MgPSB7CiAgICAgICAgVGl0bGUgPSAi5Z2k5Z2k5aSn5bid6ISa5pys6aqM6K+BIiwKICAgICAgICBTdWJ0aXRsZSA9ICLor7fovpPlhaXmnInmlYjlr4bpkqUiLAogICAgICAgIE5vdGUgPSAi5rKh5pyJ5a+G6ZKl77yf5Yqg5YWlRGlzY29yZOiOt+WPliIsCiAgICAgICAgRmlsZU5hbWUgPSAiU3RpdGNoS2V5IiwKICAgICAgICBTYXZlS2V5ID0gdHJ1ZSwKICAgICAgICBHcmFiS2V5RnJvbVNpdGUgPSBmYWxzZSwKICAgICAgICBLZXkgPSB7IjIwMjUiLCAiNjY2IiwgIktVTktVTjY2NiIsICI2NjZmcmVlIiwgIlRBSVlPVVlJU0lMRSJ9IC0tIOacieaViOWvhumSpeWIl+ihqAogICAgfQp9KQoKLS0g5pif56m66IOM5pmv5Yqo55S757O757ufCmxvY2FsIGZ1bmN0aW9uIENyZWF0ZVN0YXJyeUJhY2tncm91bmRBbmltYXRpb24oKQogICAgLS0g5Yib5bu65riQ5Y+Y6IOM5pmvCiAgICBsb2NhbCBiZyA9IERyYXdpbmcubmV3KCJTcXVhcmUiKQogICAgYmcuU2l6ZSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLlZpZXdwb3J0U2l6ZQogICAgYmcuUG9zaXRpb24gPSBWZWN0b3IyLm5ldygwLCAwKQogICAgYmcuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigxMCwgNSwgMjUpICAtLSDmt7HntKvoibLln7rosIMKICAgIGJnLkZpbGxlZCA9IHRydWUKICAgIGJnLlRyYW5zcGFyZW5jeSA9IDEKICAgIGJnLlZpc2libGUgPSB0cnVlCiAgICBiZy5aSW5kZXggPSA5OTgKICAgIAogICAgLS0g5Yib5bu65pif5pif57KS5a2QCiAgICBsb2NhbCBzdGFycyA9IHt9CiAgICBsb2NhbCBzdGFyQ291bnQgPSAxNTAgIC0tIOaYn+aYn+aVsOmHjwogICAgCiAgICBmb3IgaSA9IDEsIHN0YXJDb3VudCBkbwogICAgICAgIGxvY2FsIHN0YXIgPSBEcmF3aW5nLm5ldygiQ2lyY2xlIikKICAgICAgICBzdGFyLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoCiAgICAgICAgICAgIG1hdGgucmFuZG9tKDAsIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLlZpZXdwb3J0U2l6ZS5YKSwKICAgICAgICAgICAgbWF0aC5yYW5kb20oMCwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuVmlld3BvcnRTaXplLlkpCiAgICAgICAgKQogICAgICAgIHN0YXIuUmFkaXVzID0gbWF0aC5yYW5kb20oMSwgMykKICAgICAgICBzdGFyLkZpbGxlZCA9IHRydWUKICAgICAgICBzdGFyLlRyYW5zcGFyZW5jeSA9IDEKICAgICAgICBzdGFyLlpJbmRleCA9IDk5OQogICAgICAgIAogICAgICAgIC0tIOmaj+acuuaYn+aYn+minOiJsu+8iOiTnee0q+iJsuiwg++8iQogICAgICAgIGxvY2FsIGNvbG9yQ2hvaWNlID0gbWF0aC5yYW5kb20oMSwgMykKICAgICAgICBpZiBjb2xvckNob2ljZSA9PSAxIHRoZW4KICAgICAgICAgICAgc3Rhci5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEwMCwgMTUwLCAyNTUpICAtLSDok53oibIKICAgICAgICBlbHNlaWYgY29sb3JDaG9pY2UgPT0gMiB0aGVuCiAgICAgICAgICAgIHN0YXIuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigxNTAsIDEwMCwgMjU1KSAgLS0g57Sr6ImyCiAgICAgICAgZWxzZQogICAgICAgICAgICBzdGFyLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkgIC0tIOeZveiJsgogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIHRhYmxlLmluc2VydChzdGFycywgewogICAgICAgICAgICBkcmF3aW5nID0gc3RhciwKICAgICAgICAgICAgc3BlZWQgPSBtYXRoLnJhbmRvbSg1MCwgMTUwKSAvIDEwMCwKICAgICAgICAgICAgcGhhc2UgPSBtYXRoLnJhbmRvbSgpICogbWF0aC5waSAqIDIsCiAgICAgICAgICAgIG9yaWdpbmFsUmFkaXVzID0gc3Rhci5SYWRpdXMKICAgICAgICB9KQogICAgZW5kCiAgICAKICAgIC0tIOWIm+W7uuaYn+S6keaViOaenAogICAgbG9jYWwgbmVidWxhZSA9IHt9CiAgICBsb2NhbCBuZWJ1bGFDb3VudCA9IDgKICAgIAogICAgZm9yIGkgPSAxLCBuZWJ1bGFDb3VudCBkbwogICAgICAgIGxvY2FsIG5lYnVsYSA9IERyYXdpbmcubmV3KCJDaXJjbGUiKQogICAgICAgIGxvY2FsIHNpemUgPSBtYXRoLnJhbmRvbSgxMDAsIDMwMCkKICAgICAgICBuZWJ1bGEuUG9zaXRpb24gPSBWZWN0b3IyLm5ldygKICAgICAgICAgICAgbWF0aC5yYW5kb20oLTEwMCwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuVmlld3BvcnRTaXplLlggKyAxMDApLAogICAgICAgICAgICBtYXRoLnJhbmRvbSgtMTAwLCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUuWSArIDEwMCkKICAgICAgICApCiAgICAgICAgbmVidWxhLlJhZGl1cyA9IHNpemUKICAgICAgICBuZWJ1bGEuRmlsbGVkID0gdHJ1ZQogICAgICAgIG5lYnVsYS5UcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgbmVidWxhLlpJbmRleCA9IDk5NwogICAgICAgIAogICAgICAgIC0tIOaYn+S6keminOiJsu+8iOa3seiTnee0q+iJsu+8iQogICAgICAgIGxvY2FsIGNvbG9ycyA9IHsKICAgICAgICAgICAgQ29sb3IzLmZyb21SR0IoMzAsIDE1LCA2MCksCiAgICAgICAgICAgIENvbG9yMy5mcm9tUkdCKDQwLCAyMCwgODApLAogICAgICAgICAgICBDb2xvcjMuZnJvbVJHQigyNSwgMTAsIDUwKQogICAgICAgIH0KICAgICAgICBuZWJ1bGEuQ29sb3IgPSBjb2xvcnNbbWF0aC5yYW5kb20oMSwgMyldCiAgICAgICAgCiAgICAgICAgdGFibGUuaW5zZXJ0KG5lYnVsYWUsIHsKICAgICAgICAgICAgZHJhd2luZyA9IG5lYnVsYSwKICAgICAgICAgICAgbW92ZVNwZWVkID0gVmVjdG9yMi5uZXcobWF0aC5yYW5kb20oLTEwLCAxMCkgLyAxMDAsIG1hdGgucmFuZG9tKC0xMCwgMTApIC8gMTAwKSwKICAgICAgICAgICAgcHVsc2VTcGVlZCA9IG1hdGgucmFuZG9tKDUsIDE1KSAvIDEwMCwKICAgICAgICAgICAgcGhhc2UgPSBtYXRoLnJhbmRvbSgpICogbWF0aC5waSAqIDIKICAgICAgICB9KQogICAgZW5kCgogICAgLS0g5Z2k5Z2k5aSn5bid5paH5a2XCiAgICBsb2NhbCB0ZXh0ID0gRHJhd2luZy5uZXcoIlRleHQiKQogICAgdGV4dC5UZXh0ID0gIuWdpOWdpOWkp+W4neiEmuacrCIKICAgIHRleHQuU2l6ZSA9IDEwMAogICAgdGV4dC5DZW50ZXIgPSB0cnVlCiAgICB0ZXh0LlBvc2l0aW9uID0gVmVjdG9yMi5uZXcod29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuVmlld3BvcnRTaXplLlgvMiwgLTIwMCkKICAgIHRleHQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDIxNSwgMCkgIC0tIOmHkeiJsuaWh+WtlwogICAgdGV4dC5PdXRsaW5lID0gdHJ1ZQogICAgdGV4dC5PdXRsaW5lQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigxMzksIDY5LCAxOSkgIC0tIOajleiJsuaPj+i+uQogICAgdGV4dC5UcmFuc3BhcmVuY3kgPSAwCiAgICB0ZXh0LlZpc2libGUgPSB0cnVlCiAgICB0ZXh0LlpJbmRleCA9IDEwMDAKICAgIAogICAgLS0g5Ymv5qCH6aKYCiAgICBsb2NhbCBzdWJUZXh0ID0gRHJhd2luZy5uZXcoIlRleHQiKQogICAgc3ViVGV4dC5UZXh0ID0gIuWwiuS6q+eJueadg+eJiCAtIOWQr+WKqOaIkOWKnyIKICAgIHN1YlRleHQuU2l6ZSA9IDQwCiAgICBzdWJUZXh0LkNlbnRlciA9IHRydWUKICAgIHN1YlRleHQuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyh3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCAtMTAwKQogICAgc3ViVGV4dC5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDIwMCwgMTgwLCAyNTUpICAtLSDmtYXntKvoibIKICAgIHN1YlRleHQuT3V0bGluZSA9IHRydWUKICAgIHN1YlRleHQuT3V0bGluZUNvbG9yID0gQ29sb3IzLmZyb21SR0IoODAsIDQwLCAxMjApCiAgICBzdWJUZXh0LlRyYW5zcGFyZW5jeSA9IDAKICAgIHN1YlRleHQuVmlzaWJsZSA9IHRydWUKICAgIHN1YlRleHQuWkluZGV4ID0gMTAwMAogICAgCiAgICAtLSDmtYHmmJ/mlYjmnpwKICAgIGxvY2FsIG1ldGVvcnMgPSB7fQogICAgbG9jYWwgZnVuY3Rpb24gY3JlYXRlTWV0ZW9yKCkKICAgICAgICBsb2NhbCBtZXRlb3IgPSBEcmF3aW5nLm5ldygiTGluZSIpCiAgICAgICAgbG9jYWwgc3RhcnRYID0gbWF0aC5yYW5kb20od29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuVmlld3BvcnRTaXplLlggKyAxMDAsIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLlZpZXdwb3J0U2l6ZS5YICsgMzAwKQogICAgICAgIGxvY2FsIHN0YXJ0WSA9IG1hdGgucmFuZG9tKC0xMDAsIDIwMCkKICAgICAgICBtZXRlb3IuRnJvbSA9IFZlY3RvcjIubmV3KHN0YXJ0WCwgc3RhcnRZKQogICAgICAgIG1ldGVvci5UbyA9IFZlY3RvcjIubmV3KHN0YXJ0WCAtIDEwMCwgc3RhcnRZICsgNDApCiAgICAgICAgbWV0ZW9yLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjAwLCAyMjAsIDI1NSkKICAgICAgICBtZXRlb3IuVGhpY2tuZXNzID0gMgogICAgICAgIG1ldGVvci5UcmFuc3BhcmVuY3kgPSAwCiAgICAgICAgbWV0ZW9yLlZpc2libGUgPSB0cnVlCiAgICAgICAgbWV0ZW9yLlpJbmRleCA9IDk5OQogICAgICAgIAogICAgICAgIHRhYmxlLmluc2VydChtZXRlb3JzLCB7CiAgICAgICAgICAgIGRyYXdpbmcgPSBtZXRlb3IsCiAgICAgICAgICAgIHBvc2l0aW9uID0gVmVjdG9yMi5uZXcoc3RhcnRYLCBzdGFydFkpLAogICAgICAgICAgICBzcGVlZCA9IG1hdGgucmFuZG9tKDMwMCwgNjAwKSAvIDEwMCwKICAgICAgICAgICAgdHJhaWxMZW5ndGggPSAxMDAsCiAgICAgICAgICAgIGxpZmUgPSAxCiAgICAgICAgfSkKICAgIGVuZAoKICAgIC0tIOW8ueaAp+WKqOeUu+WHveaVsAogICAgbG9jYWwgZnVuY3Rpb24gZWxhc3RpY0FuaW1hdGlvbihvYmosIHRhcmdldFksIGR1cmF0aW9uKQogICAgICAgIGxvY2FsIHN0YXJ0WSA9IG9iai5Qb3NpdGlvbi5ZCiAgICAgICAgbG9jYWwgc3RhcnRUaW1lID0gdGljaygpCiAgICAgICAgbG9jYWwgZGFtcGluZyA9IDAuNwogICAgICAgIGxvY2FsIHN0aWZmbmVzcyA9IDAuMwogICAgICAgIAogICAgICAgIGxvY2FsIGNvbm5lY3Rpb24KICAgICAgICBjb25uZWN0aW9uID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuUmVuZGVyU3RlcHBlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgbG9jYWwgZWxhcHNlZCA9IHRpY2soKSAtIHN0YXJ0VGltZQogICAgICAgICAgICBsb2NhbCBwcm9ncmVzcyA9IGVsYXBzZWQgLyBkdXJhdGlvbgogICAgICAgICAgICAKICAgICAgICAgICAgaWYgcHJvZ3Jlc3MgPj0gMSB0aGVuCiAgICAgICAgICAgICAgICBvYmouUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhvYmouUG9zaXRpb24uWCwgdGFyZ2V0WSkKICAgICAgICAgICAgICAgIGNvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBvdmVyc2hvb3QgPSBtYXRoLnNpbihwcm9ncmVzcyAqIG1hdGgucGkgKiA0KSAqICgxIC0gcHJvZ3Jlc3MpCiAgICAgICAgICAgIGxvY2FsIG5ld1kgPSB0YXJnZXRZICsgKHN0YXJ0WSAtIHRhcmdldFkpICogbWF0aC5wb3coMSAtIHByb2dyZXNzLCAyKSAqIG92ZXJzaG9vdCAqIHN0aWZmbmVzcwogICAgICAgICAgICBzdGlmZm5lc3MgPSBzdGlmZm5lc3MgKiBkYW1waW5nCiAgICAgICAgICAgIG9iai5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KG9iai5Qb3NpdGlvbi5YLCBuZXdZKQogICAgICAgIGVuZCkKICAgIGVuZAogICAgCiAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgLS0g6IOM5pmv5ZKM5pif5pif5reh5YWlCiAgICAgICAgZm9yIGkgPSAwLCAxLCAwLjAyIGRvCiAgICAgICAgICAgIGJnLlRyYW5zcGFyZW5jeSA9IDEgLSBpICogMC45CiAgICAgICAgICAgIGZvciBfLCBzdGFyRGF0YSBpbiBpcGFpcnMoc3RhcnMpIGRvCiAgICAgICAgICAgICAgICBzdGFyRGF0YS5kcmF3aW5nLlRyYW5zcGFyZW5jeSA9IDEgLSBpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBmb3IgXywgbmVidWxhRGF0YSBpbiBpcGFpcnMobmVidWxhZSkgZG8KICAgICAgICAgICAgICAgIG5lYnVsYURhdGEuZHJhd2luZy5UcmFuc3BhcmVuY3kgPSAxIC0gaSAqIDAuNwogICAgICAgICAgICBlbmQKICAgICAgICAgICAgd2FpdCgwLjAxKQogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIC0tIOS4u+agh+mimOWKqOeUuwogICAgICAgIGVsYXN0aWNBbmltYXRpb24odGV4dCwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuVmlld3BvcnRTaXplLlkvMiAtIDEwMCwgMS41KQogICAgICAgIAogICAgICAgIHdhaXQoMC4yKQogICAgICAgIAogICAgICAgIC0tIOWJr+agh+mimOWKqOeUuwogICAgICAgIGVsYXN0aWNBbmltYXRpb24oc3ViVGV4dCwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuVmlld3BvcnRTaXplLlkvMiArIDIwLCAxLjMpCiAgICAgICAgCiAgICAgICAgLS0g5ZCv5Yqo5pif5pif6Zeq54OB5ZKM5rWB5pifCiAgICAgICAgbG9jYWwgc3RhcnRUaW1lID0gdGljaygpCiAgICAgICAgbG9jYWwgbWV0ZW9yVGltZXIgPSAwCiAgICAgICAgCiAgICAgICAgd2hpbGUgdGljaygpIC0gc3RhcnRUaW1lIDwgMy41IGRvCiAgICAgICAgICAgIGxvY2FsIGN1cnJlbnRUaW1lID0gdGljaygpCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDmmJ/mmJ/pl6rng4EKICAgICAgICAgICAgZm9yIF8sIHN0YXJEYXRhIGluIGlwYWlycyhzdGFycykgZG8KICAgICAgICAgICAgICAgIGxvY2FsIGFscGhhID0gKG1hdGguc2luKGN1cnJlbnRUaW1lICogc3RhckRhdGEuc3BlZWQgKyBzdGFyRGF0YS5waGFzZSkgKyAxKSAvIDIKICAgICAgICAgICAgICAgIHN0YXJEYXRhLmRyYXdpbmcuVHJhbnNwYXJlbmN5ID0gMC4yICsgYWxwaGEgKiAwLjgKICAgICAgICAgICAgICAgIHN0YXJEYXRhLmRyYXdpbmcuUmFkaXVzID0gc3RhckRhdGEub3JpZ2luYWxSYWRpdXMgKiAoMC44ICsgYWxwaGEgKiAwLjQpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgLS0g5pif5LqR6ISJ5YqoCiAgICAgICAgICAgIGZvciBfLCBuZWJ1bGFEYXRhIGluIGlwYWlycyhuZWJ1bGFlKSBkbwogICAgICAgICAgICAgICAgbG9jYWwgcHVsc2UgPSAobWF0aC5zaW4oY3VycmVudFRpbWUgKiBuZWJ1bGFEYXRhLnB1bHNlU3BlZWQgKyBuZWJ1bGFEYXRhLnBoYXNlKSArIDEpIC8gMgogICAgICAgICAgICAgICAgbmVidWxhRGF0YS5kcmF3aW5nLlRyYW5zcGFyZW5jeSA9IDAuMyArIHB1bHNlICogMC40CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC0tIOe8k+aFouenu+WKqOaYn+S6kQogICAgICAgICAgICAgICAgbmVidWxhRGF0YS5kcmF3aW5nLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoCiAgICAgICAgICAgICAgICAgICAgbmVidWxhRGF0YS5kcmF3aW5nLlBvc2l0aW9uLlggKyBuZWJ1bGFEYXRhLm1vdmVTcGVlZC5YLAogICAgICAgICAgICAgICAgICAgIG5lYnVsYURhdGEuZHJhd2luZy5Qb3NpdGlvbi5ZICsgbmVidWxhRGF0YS5tb3ZlU3BlZWQuWQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOa1geaYn+eUn+aIkAogICAgICAgICAgICBtZXRlb3JUaW1lciA9IG1ldGVvclRpbWVyICsgd2FpdCgpCiAgICAgICAgICAgIGlmIG1ldGVvclRpbWVyID4gMC44IGFuZCBtYXRoLnJhbmRvbSgpIDwgMC4zIHRoZW4KICAgICAgICAgICAgICAgIGNyZWF0ZU1ldGVvcigpCiAgICAgICAgICAgICAgICBtZXRlb3JUaW1lciA9IDAKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDmm7TmlrDmtYHmmJ8KICAgICAgICAgICAgZm9yIGkgPSAjbWV0ZW9ycywgMSwgLTEgZG8KICAgICAgICAgICAgICAgIGxvY2FsIG1ldGVvciA9IG1ldGVvcnNbaV0KICAgICAgICAgICAgICAgIG1ldGVvci5saWZlID0gbWV0ZW9yLmxpZmUgLSAwLjAyCiAgICAgICAgICAgICAgICBtZXRlb3IucG9zaXRpb24gPSBWZWN0b3IyLm5ldygKICAgICAgICAgICAgICAgICAgICBtZXRlb3IucG9zaXRpb24uWCAtIG1ldGVvci5zcGVlZCwKICAgICAgICAgICAgICAgICAgICBtZXRlb3IucG9zaXRpb24uWSArIG1ldGVvci5zcGVlZCAqIDAuNAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBtZXRlb3IuZHJhd2luZy5Gcm9tID0gbWV0ZW9yLnBvc2l0aW9uCiAgICAgICAgICAgICAgICBtZXRlb3IuZHJhd2luZy5UbyA9IFZlY3RvcjIubmV3KAogICAgICAgICAgICAgICAgICAgIG1ldGVvci5wb3NpdGlvbi5YIC0gbWV0ZW9yLnRyYWlsTGVuZ3RoLAogICAgICAgICAgICAgICAgICAgIG1ldGVvci5wb3NpdGlvbi5ZICsgbWV0ZW9yLnRyYWlsTGVuZ3RoICogMC40CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBtZXRlb3IuZHJhd2luZy5UcmFuc3BhcmVuY3kgPSAxIC0gbWV0ZW9yLmxpZmUKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgbWV0ZW9yLmxpZmUgPD0gMCBvciBtZXRlb3IucG9zaXRpb24uWCA8IC0yMDAgdGhlbgogICAgICAgICAgICAgICAgICAgIG1ldGVvci5kcmF3aW5nOlJlbW92ZSgpCiAgICAgICAgICAgICAgICAgICAgdGFibGUucmVtb3ZlKG1ldGVvcnMsIGkpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICB3YWl0KDAuMDMpCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgLS0g5reh5Ye65Yqo55S7CiAgICAgICAgZm9yIGkgPSAwLCAxLCAwLjAzIGRvCiAgICAgICAgICAgIHRleHQuVHJhbnNwYXJlbmN5ID0gaQogICAgICAgICAgICBzdWJUZXh0LlRyYW5zcGFyZW5jeSA9IGkKICAgICAgICAgICAgYmcuVHJhbnNwYXJlbmN5ID0gMC4xICsgaSAqIDAuOQogICAgICAgICAgICAKICAgICAgICAgICAgZm9yIF8sIHN0YXJEYXRhIGluIGlwYWlycyhzdGFycykgZG8KICAgICAgICAgICAgICAgIHN0YXJEYXRhLmRyYXdpbmcuVHJhbnNwYXJlbmN5ID0gaQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGZvciBfLCBuZWJ1bGFEYXRhIGluIGlwYWlycyhuZWJ1bGFlKSBkbwogICAgICAgICAgICAgICAgbmVidWxhRGF0YS5kcmF3aW5nLlRyYW5zcGFyZW5jeSA9IGkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IgXywgbWV0ZW9yIGluIGlwYWlycyhtZXRlb3JzKSBkbwogICAgICAgICAgICAgICAgbWV0ZW9yLmRyYXdpbmcuVHJhbnNwYXJlbmN5ID0gaQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIHdhaXQoMC4wMSkKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICAtLSDmuIXnkIYKICAgICAgICBiZzpSZW1vdmUoKQogICAgICAgIHRleHQ6UmVtb3ZlKCkKICAgICAgICBzdWJUZXh0OlJlbW92ZSgpCiAgICAgICAgCiAgICAgICAgZm9yIF8sIHN0YXJEYXRhIGluIGlwYWlycyhzdGFycykgZG8KICAgICAgICAgICAgc3RhckRhdGEuZHJhd2luZzpSZW1vdmUoKQogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGZvciBfLCBuZWJ1bGFEYXRhIGluIGlwYWlycyhuZWJ1bGFlKSBkbwogICAgICAgICAgICBuZWJ1bGFEYXRhLmRyYXdpbmc6UmVtb3ZlKCkKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBmb3IgXywgbWV0ZW9yIGluIGlwYWlycyhtZXRlb3JzKSBkbwogICAgICAgICAgICBtZXRlb3IuZHJhd2luZzpSZW1vdmUoKQogICAgICAgIGVuZAogICAgZW5kKQplbmQKCi0tIOWkjeWItuWIsOWJqui0tOadv+WHveaVsApsb2NhbCBmdW5jdGlvbiBDb3B5VG9DbGlwYm9hcmQodGV4dCkKICAgIGlmIHNldGNsaXBib2FyZCB0aGVuCiAgICAgICAgc2V0Y2xpcGJvYXJkKHRleHQpCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2VpZiB3cml0ZWNsaXBib2FyZCB0aGVuCiAgICAgICAgd3JpdGVjbGlwYm9hcmQodGV4dCkKICAgICAgICByZXR1cm4gdHJ1ZQogICAgZWxzZWlmIHRvY2xpcGJvYXJkIHRoZW4KICAgICAgICB0b2NsaXBib2FyZCh0ZXh0KQogICAgICAgIHJldHVybiB0cnVlCiAgICBlbHNlCiAgICAgICAgcHJpbnQoIlvlpI3liLblhoXlrrldICIgLi4gdGV4dCkKICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAplbmQKCi0tIOaYvuekuuWkjeWItuaIkOWKn+mAmuefpQpsb2NhbCBmdW5jdGlvbiBTaG93Q29weU5vdGlmaWNhdGlvbihzdWNjZXNzLCBjb250ZW50KQogICAgaWYgc3VjY2VzcyB0aGVuCiAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi5aSN5Yi25oiQ5YqfIiwKICAgICAgICAgICAgQ29udGVudCA9ICLlt7LlpI3liLbliLDliarotLTmnb86ICIgLi4gY29udGVudCwKICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICB9KQogICAgZWxzZQogICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgIFRpdGxlID0gIuWkjeWItuWksei0pSIsCiAgICAgICAgICAgIENvbnRlbnQgPSAi6K+35omL5Yqo5aSN5Yi25o6n5Yi25Y+w5Lit55qE5YaF5a65IiwKICAgICAgICAgICAgRHVyYXRpb24gPSA1LAogICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICB9KQogICAgZW5kCmVuZAoKLS0g5Yib5bu65Li756qX5Y+j5YaF5a65CmxvY2FsIGZ1bmN0aW9uIENyZWF0ZU1haW5XaW5kb3dDb250ZW50KCkKICAgIC0tIOWFrOWRiiBUYWIKICAgIGxvY2FsIFRhYjEgPSBXaW5kb3c6Q3JlYXRlVGFiKCLlhazlkYoiLCA3NzMzNzc5NjEwKQogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBnZXREYXRlKCkgcmV0dXJuIG9zLmRhdGUoIiVZLSVtLSVkICVIOiVNIikgZW5kCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRQbGF5ZXIoKQogICAgICAgIGxvY2FsIHAgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBbIueUqOaIt+WQjSJdICAgPSBwLk5hbWUsCiAgICAgICAgICAgIFsi5pi+56S65ZCNIl0gICA9IHAuRGlzcGxheU5hbWUsCiAgICAgICAgICAgIFsi55So5oi3SUQiXSAgID0gcC5Vc2VySWQsCiAgICAgICAgICAgIFsi5rOo5YaM5aSp5pWwIl0gPSBwLkFjY291bnRBZ2UsCiAgICAgICAgICAgIFsi5b2T5YmN5ri45oiPIl0gPSBnYW1lOkdldFNlcnZpY2UoIk1hcmtldHBsYWNlU2VydmljZSIpOkdldFByb2R1Y3RJbmZvKGdhbWUuUGxhY2VJZCkuTmFtZQogICAgICAgIH0KICAgIGVuZAogICAgCiAgICBUYWIxOkNyZWF0ZVNlY3Rpb24oIuezu+e7n+S/oeaBryIpCiAgICBUYWIxOkNyZWF0ZUxhYmVsKCLwn5OFIOW9k+WJjeaXtumXtDogIiAuLiBnZXREYXRlKCkpCiAgICAKICAgIGZvciBrLCB2IGluIHBhaXJzKGdldFBsYXllcigpKSBkbwogICAgICAgIFRhYjE6Q3JlYXRlTGFiZWwoayAuLiAi77yaICIgLi4gdG9zdHJpbmcodikpCiAgICBlbmQKICAgIAogICAgVGFiMTpDcmVhdGVCdXR0b24oewogICAgICAgIE5hbWUgPSAi5LiA6ZSu5aSN5Yi2UVHlj7ciLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkgCiAgICAgICAgICAgIGxvY2FsIHN1Y2Nlc3MgPSBDb3B5VG9DbGlwYm9hcmQoIjkxMzM0ODI4NSIpCiAgICAgICAgICAgIFNob3dDb3B5Tm90aWZpY2F0aW9uKHN1Y2Nlc3MsICI5MTMzNDgyODUiKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgLS0g5Lq654mp5Yqf6IO9IFRhYgogICAgbG9jYWwgVGFiMiA9IFdpbmRvdzpDcmVhdGVUYWIoIuS6uueJqeWKn+iDvSIsIDc3MzM3Nzk2MTApCiAgICAKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSDlj4zni6znq4sgRk9W77yI55m96Lef6ZqPICsg5qmZ5Zu65a6a77yJ6YO95Y+C5LiO556E5YeG5Yik5a6aIC0g5aKe5by654mICiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLS0g6YCa55So5Y+C5pWwCiAgICBsb2NhbCBhaW1ib3RFbmFibGVkICAgICAgPSBmYWxzZQogICAgbG9jYWwgYWltYm90U21vb3RoICAgICAgID0gMC4zNQogICAgbG9jYWwgYWltYm90Qm9uZSAgICAgICAgID0gIkhlYWQiCiAgICBsb2NhbCBhaW1ib3RQcmVkaWN0aW9uICAgPSAwLjEyCiAgICBsb2NhbCBhaW1ib3RDaGVja1RlYW0gICAgPSBmYWxzZQogICAgbG9jYWwgYWltYm90Q29ubgogICAgbG9jYWwgYWltYm90TW9kZSA9ICJEaXN0YW5jZSIKICAgIGxvY2FsIHdhbGxDaGVja0VuYWJsZWQgPSBmYWxzZQogICAgbG9jYWwgYWltTGluZUVuYWJsZWQgPSBmYWxzZQogICAgbG9jYWwgYWltTGluZSA9IERyYXdpbmcubmV3KCJMaW5lIikKICAgIAogICAgLS0g5Yid5aeL5YyW6Ieq556E57q/5p2hCiAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgYWltTGluZS5UaGlja25lc3MgPSAxLjUKICAgIGFpbUxpbmUuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigwLCAyNTUsIDApCiAgICBhaW1MaW5lLlpJbmRleCA9IDExCiAgICAKICAgIC0tIOe8uuWkseWPmOmHj+S4gOasoeaAp+ihpeWFqAogICAgbG9jYWwgQ2FtZXJhID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKICAgIGxvY2FsIFVzZXJJbnB1dFNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQogICAgbG9jYWwgUGxheWVycyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpCiAgICBsb2NhbCBMb2NhbFBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKICAgIAogICAgLS0gMS4g6Lef6ZqP6byg5qCHIEZPVgogICAgbG9jYWwgbW91c2VGT1YgICAgICA9IDEyMAogICAgbG9jYWwgbW91c2VGb3ZDaXJjbGUgPSBEcmF3aW5nLm5ldygiQ2lyY2xlIikKICAgIG1vdXNlRm92Q2lyY2xlLk51bVNpZGVzICA9IDY0CiAgICBtb3VzZUZvdkNpcmNsZS5SYWRpdXMgICAgPSBtb3VzZUZPVgogICAgbW91c2VGb3ZDaXJjbGUuVGhpY2tuZXNzID0gMS41CiAgICBtb3VzZUZvdkNpcmNsZS5Db2xvciAgICAgPSBDb2xvcjMuZnJvbVJHQigyNTUsMjU1LDI1NSkKICAgIG1vdXNlRm92Q2lyY2xlLkZpbGxlZCAgICA9IGZhbHNlCiAgICBtb3VzZUZvdkNpcmNsZS5WaXNpYmxlICAgPSBmYWxzZQogICAgbW91c2VGb3ZDaXJjbGUuWkluZGV4ID0gMTAKICAgIAogICAgLS0gMi4g5Zu65a6a5Lit5b+DIEZPVgogICAgbG9jYWwgZml4ZWRGT1YgICAgICA9IDkwCiAgICBsb2NhbCBmaXhlZEZvdkNpcmNsZSA9IERyYXdpbmcubmV3KCJDaXJjbGUiKQogICAgZml4ZWRGb3ZDaXJjbGUuTnVtU2lkZXMgID0gNjQKICAgIGZpeGVkRm92Q2lyY2xlLlJhZGl1cyAgICA9IGZpeGVkRk9WCiAgICBmaXhlZEZvdkNpcmNsZS5UaGlja25lc3MgPSAxLjUKICAgIGZpeGVkRm92Q2lyY2xlLkNvbG9yICAgICA9IENvbG9yMy5mcm9tUkdCKDI1NSwxNjUsMCkKICAgIGZpeGVkRm92Q2lyY2xlLkZpbGxlZCAgICA9IGZhbHNlCiAgICBmaXhlZEZvdkNpcmNsZS5WaXNpYmxlICAgPSBmYWxzZQogICAgZml4ZWRGb3ZDaXJjbGUuWkluZGV4ID0gOQogICAgCiAgICAtLSDlm7rlrprlnIbkuK3lv4PkuIDmrKHorr7nva4KICAgIGxvY2FsIGZ1bmN0aW9uIHNldEZpeGVkQ2VudGVyKCkKICAgICAgICBsb2NhbCBjZW50ZXIgPSBWZWN0b3IyLm5ldyhDYW1lcmEuVmlld3BvcnRTaXplLlgvMiwgQ2FtZXJhLlZpZXdwb3J0U2l6ZS5ZLzIpCiAgICAgICAgZml4ZWRGb3ZDaXJjbGUuUG9zaXRpb24gPSBjZW50ZXIKICAgICAgICAtLSDliJ3lp4vljJboh6rnnoTnur/mnaHnmoTotbfngrkKICAgICAgICBhaW1MaW5lLkZyb20gPSBjZW50ZXIKICAgIGVuZAogICAgQ2FtZXJhOkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgiVmlld3BvcnRTaXplIik6Q29ubmVjdChzZXRGaXhlZENlbnRlcikKICAgIHNldEZpeGVkQ2VudGVyKCkKICAgIAogICAgLS0g5bel5YW35Ye95pWwCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRBaW1Qb3MoY2hhcmFjdGVyKQogICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIgdGhlbiByZXR1cm4gbmlsIGVuZAogICAgICAgIGxvY2FsIHJvb3QgPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQogICAgICAgIGxvY2FsIGJvbmUgPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoYWltYm90Qm9uZSkgb3IgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIZWFkIikKICAgICAgICBpZiBub3QgKHJvb3QgYW5kIGJvbmUpIHRoZW4gcmV0dXJuIG5pbCBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCB2ZWwgPSByb290LlZlbG9jaXR5CiAgICAgICAgcmV0dXJuIGJvbmUuUG9zaXRpb24gKyB2ZWwgKiBhaW1ib3RQcmVkaWN0aW9uCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gaXNWaXNpYmxlKHBvcywgdGFyZ2V0Q2hhcmFjdGVyKQogICAgICAgIGlmIG5vdCB3YWxsQ2hlY2tFbmFibGVkIHRoZW4gcmV0dXJuIHRydWUgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgb3JpZ2luID0gQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbgogICAgICAgIGxvY2FsIGRpcmVjdGlvbiA9IChwb3MgLSBvcmlnaW4pLlVuaXQKICAgICAgICBsb2NhbCByYXkgPSBSYXkubmV3KG9yaWdpbiwgZGlyZWN0aW9uICogKG9yaWdpbiAtIHBvcykuTWFnbml0dWRlKQogICAgICAgIAogICAgICAgIGxvY2FsIGlnbm9yZUxpc3QgPSB7TG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLCBDYW1lcmF9CiAgICAgICAgaWYgdGFyZ2V0Q2hhcmFjdGVyIHRoZW4KICAgICAgICAgICAgdGFibGUuaW5zZXJ0KGlnbm9yZUxpc3QsIHRhcmdldENoYXJhY3RlcikKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBwYXJ0LCBwb3NpdGlvbiA9IHdvcmtzcGFjZTpGaW5kUGFydE9uUmF5V2l0aElnbm9yZUxpc3QocmF5LCBpZ25vcmVMaXN0KQogICAgICAgIHJldHVybiBwYXJ0ID09IG5pbAogICAgZW5kCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIGluQW55Rk9WKHdvcmxkUG9zKQogICAgICAgIGxvY2FsIHNjcmVlblBvcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludCh3b3JsZFBvcykKICAgICAgICBpZiBzY3JlZW5Qb3MuWiA8PSAwIHRoZW4gcmV0dXJuIGZhbHNlIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIG1vdXNlUG9zID0gVXNlcklucHV0U2VydmljZTpHZXRNb3VzZUxvY2F0aW9uKCkKICAgICAgICBsb2NhbCBjZW50ZXIgPSBWZWN0b3IyLm5ldyhDYW1lcmEuVmlld3BvcnRTaXplLlgvMiwgQ2FtZXJhLlZpZXdwb3J0U2l6ZS5ZLzIpCiAgICAgICAgCiAgICAgICAgaWYgbW91c2VGb3ZDaXJjbGUuVmlzaWJsZSB0aGVuCiAgICAgICAgICAgIGlmIChWZWN0b3IyLm5ldyhzY3JlZW5Qb3MuWCwgc2NyZWVuUG9zLlkpIC0gbW91c2VQb3MpLk1hZ25pdHVkZSA8PSBtb3VzZUZPViB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBpZiBmaXhlZEZvdkNpcmNsZS5WaXNpYmxlIHRoZW4KICAgICAgICAgICAgaWYgKFZlY3RvcjIubmV3KHNjcmVlblBvcy5YLCBzY3JlZW5Qb3MuWSkgLSBjZW50ZXIpLk1hZ25pdHVkZSA8PSBmaXhlZEZPViB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRDbG9zZXN0KCkKICAgICAgICBsb2NhbCBjbG9zZXN0LCBtaW5EaXN0ID0gbmlsLCBtYXRoLmh1Z2UKICAgICAgICBsb2NhbCBjZW50ZXIgPSBWZWN0b3IyLm5ldyhDYW1lcmEuVmlld3BvcnRTaXplLlgvMiwgQ2FtZXJhLlZpZXdwb3J0U2l6ZS5ZLzIpCiAgICAgICAgCiAgICAgICAgZm9yIF8sIHBsciBpbiBpcGFpcnMoUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCiAgICAgICAgICAgIGlmIHBsciA9PSBMb2NhbFBsYXllciB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICBpZiBhaW1ib3RDaGVja1RlYW0gYW5kIHBsci5UZWFtIGFuZCBwbHIuVGVhbSA9PSBMb2NhbFBsYXllci5UZWFtIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBjaGFyID0gcGxyLkNoYXJhY3RlcgogICAgICAgICAgICBpZiBub3QgY2hhciB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgYWltUG9zID0gZ2V0QWltUG9zKGNoYXIpCiAgICAgICAgICAgIGlmIG5vdCBhaW1Qb3MgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgaWYgbm90IGluQW55Rk9WKGFpbVBvcykgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHNwID0gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KGFpbVBvcykKICAgICAgICAgICAgaWYgc3AuWiA8PSAwIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBpZ25vcmVMaXN0ID0ge0xvY2FsUGxheWVyLkNoYXJhY3RlciwgQ2FtZXJhfQogICAgICAgICAgICBpZiBub3QgaXNWaXNpYmxlKGFpbVBvcywgY2hhcikgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGRpc3QKICAgICAgICAgICAgaWYgYWltYm90TW9kZSA9PSAiRGlzdGFuY2UiIHRoZW4KICAgICAgICAgICAgICAgIGRpc3QgPSAoYWltUG9zIC0gQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbikuTWFnbml0dWRlCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGRpc3QgPSAoVmVjdG9yMi5uZXcoc3AuWCwgc3AuWSkgLSBjZW50ZXIpLk1hZ25pdHVkZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIGRpc3QgPCBtaW5EaXN0IHRoZW4KICAgICAgICAgICAgICAgIG1pbkRpc3QsIGNsb3Nlc3QgPSBkaXN0LCBwbHIKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgcmV0dXJuIGNsb3Nlc3QKICAgIGVuZAogICAgCiAgICAtLSDkuLvlvqrnjq/vvIjlrozlhajnp7vpmaTkuoblvIDngavlip/og73vvIkKICAgIGxvY2FsIGZ1bmN0aW9uIHN0YXJ0QWltYm90KCkKICAgICAgICBpZiBhaW1ib3RDb25uIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIAogICAgICAgIGFpbWJvdENvbm4gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5SZW5kZXJTdGVwcGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBub3QgYWltYm90RW5hYmxlZCB0aGVuIAogICAgICAgICAgICAgICAgYWltTGluZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgIHJldHVybiAKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBtb3VzZUZvdkNpcmNsZS5Qb3NpdGlvbiA9IFVzZXJJbnB1dFNlcnZpY2U6R2V0TW91c2VMb2NhdGlvbigpCgogICAgICAgICAgICBsb2NhbCB0YXJnZXQgPSBnZXRDbG9zZXN0KCkKICAgICAgICAgICAgaWYgbm90IHRhcmdldCBvciBub3QgdGFyZ2V0LkNoYXJhY3RlciB0aGVuIAogICAgICAgICAgICAgICAgYWltTGluZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgIHJldHVybiAKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBhaW1Qb3MgPSBnZXRBaW1Qb3ModGFyZ2V0LkNoYXJhY3RlcikKICAgICAgICAgICAgaWYgbm90IGFpbVBvcyB0aGVuIAogICAgICAgICAgICAgICAgYWltTGluZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgIHJldHVybiAKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICBpZiBhaW1MaW5lRW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCBzY3JlZW5Qb3MgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQoYWltUG9zKQogICAgICAgICAgICAgICAgaWYgc2NyZWVuUG9zLlogPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICBhaW1MaW5lLkZyb20gPSBWZWN0b3IyLm5ldyhDYW1lcmEuVmlld3BvcnRTaXplLlgvMiwgQ2FtZXJhLlZpZXdwb3J0U2l6ZS5ZLzIpCiAgICAgICAgICAgICAgICAgICAgYWltTGluZS5UbyA9IFZlY3RvcjIubmV3KHNjcmVlblBvcy5YLCBzY3JlZW5Qb3MuWSkKICAgICAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgYWltTGluZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGRlbHRhID0gYWltUG9zIC0gQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbgogICAgICAgICAgICBpZiBkZWx0YS5NYWduaXR1ZGUgPCAwLjAxIHRoZW4gcmV0dXJuIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgdGFyZ2V0Q0YgPSBDRnJhbWUubmV3KENhbWVyYS5DRnJhbWUuUG9zaXRpb24sIENhbWVyYS5DRnJhbWUuUG9zaXRpb24gKyBkZWx0YSkKICAgICAgICAgICAgbG9jYWwgY3VycmVudExvb2sgPSBDYW1lcmEuQ0ZyYW1lLkxvb2tWZWN0b3IKICAgICAgICAgICAgbG9jYWwgdGFyZ2V0TG9vayA9IHRhcmdldENGLkxvb2tWZWN0b3IKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGRvdCA9IGN1cnJlbnRMb29rOkRvdCh0YXJnZXRMb29rKQogICAgICAgICAgICBsb2NhbCBhbmdsZSA9IG1hdGguYWNvcyhtYXRoLmNsYW1wKGRvdCwgLTEsIDEpKQogICAgICAgICAgICBsb2NhbCBtYXhBbmdsZSA9IG1hdGgucmFkKDkwKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgYW5nbGUgPD0gbWF4QW5nbGUgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgc21vb3RoRmFjdG9yID0gbWF0aC5jbGFtcChhaW1ib3RTbW9vdGgsIDAuMDEsIDAuOTkpCiAgICAgICAgICAgICAgICBsb2NhbCBuZXdMb29rID0gY3VycmVudExvb2s6TGVycCh0YXJnZXRMb29rLCAxIC0gc21vb3RoRmFjdG9yKQogICAgICAgICAgICAgICAgQ2FtZXJhLkNGcmFtZSA9IENGcmFtZS5uZXcoQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbiwgQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbiArIG5ld0xvb2spCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBzdG9wQWltYm90KCkKICAgICAgICBpZiBhaW1ib3RDb25uIHRoZW4gCiAgICAgICAgICAgIGFpbWJvdENvbm46RGlzY29ubmVjdCgpIAogICAgICAgICAgICBhaW1ib3RDb25uID0gbmlsIAogICAgICAgIGVuZAogICAgICAgIG1vdXNlRm92Q2lyY2xlLlZpc2libGUgPSBmYWxzZQogICAgICAgIGZpeGVkRm92Q2lyY2xlLlZpc2libGUgPSBmYWxzZQogICAgICAgIGFpbUxpbmUuVmlzaWJsZSA9IGZhbHNlCiAgICBlbmQKICAgIAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC0tIEFJLUFpbWJvdCDni6znq4vmoIfnrb7pobUKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBsb2NhbCBUYWIzID0gV2luZG93OkNyZWF0ZVRhYigiQUktQWltYm90IiwgNzczMzk2MTc0OCkKICAgIAogICAgVGFiMzpDcmVhdGVTZWN0aW9uKCJBSS1BaW1ib3QiKQogICAgVGFiMzpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5ZCv55SoIEFpbWJvdCIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBhaW1ib3RFbmFibGVkID0gdgogICAgICAgICAgICBpZiB2IHRoZW4gCiAgICAgICAgICAgICAgICBzdGFydEFpbWJvdCgpIAogICAgICAgICAgICBlbHNlIAogICAgICAgICAgICAgICAgc3RvcEFpbWJvdCgpIAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuS7heeehOWHhuaVjOS6uiIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gYWltYm90Q2hlY2tUZWFtLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgYWltYm90Q2hlY2tUZWFtID0gdiBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWimeS9k+ajgOa1iyIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gd2FsbENoZWNrRW5hYmxlZCwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIHdhbGxDaGVja0VuYWJsZWQgPSB2IGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S66Ieq556E57q/5p2hIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBhaW1MaW5lRW5hYmxlZCwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbUxpbmVFbmFibGVkID0gdiBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlRHJvcGRvd24oewogICAgICAgIE5hbWUgPSAi556E5YeG5pa55byPIiwKICAgICAgICBPcHRpb25zID0geyJEaXN0YW5jZSIsICJDcm9zc2hhaXIifSwKICAgICAgICBDdXJyZW50T3B0aW9uID0gYWltYm90TW9kZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbWJvdE1vZGUgPSB2IGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTZWN0aW9uKCLot5/pmo/pvKDmoIcgRk9WIikKICAgIFRhYjM6Q3JlYXRlVG9nZ2xlKHsgCiAgICAgICAgTmFtZSA9ICLmmL7npLrot5/pmo9GT1YiLCAKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwgCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBtb3VzZUZvdkNpcmNsZS5WaXNpYmxlID0gdiBlbmQgCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVNsaWRlcih7CiAgICAgICAgTmFtZSA9ICLljYrlvoTvvIjmu5HmnaHvvIkiLAogICAgICAgIFJhbmdlID0gezAsIDUwMH0sCiAgICAgICAgSW5jcmVtZW50ID0gNSwKICAgICAgICBTdWZmaXggPSAicHgiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IG1vdXNlRk9WLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgCiAgICAgICAgICAgIG1vdXNlRk9WID0gdgogICAgICAgICAgICBtb3VzZUZvdkNpcmNsZS5SYWRpdXMgPSB2IAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVJbnB1dCh7CiAgICAgICAgTmFtZSA9ICLljYrlvoTvvIjovpPlhaXvvIkiLAogICAgICAgIFBsYWNlaG9sZGVyVGV4dCA9IHRvc3RyaW5nKG1vdXNlRk9WKSwKICAgICAgICBSZW1vdmVUZXh0QWZ0ZXJGb2N1c0xvc3QgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHR4dCkgCiAgICAgICAgICAgIGxvY2FsIG4gPSB0b251bWJlcih0eHQpIAogICAgICAgICAgICBpZiBuIHRoZW4gCiAgICAgICAgICAgICAgICBtb3VzZUZPViA9IG4KICAgICAgICAgICAgICAgIG1vdXNlRm92Q2lyY2xlLlJhZGl1cyA9IG4KICAgICAgICAgICAgZW5kIAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTZWN0aW9uKCLlm7rlrprkuK3lv4MgRk9WIikKICAgIFRhYjM6Q3JlYXRlVG9nZ2xlKHsgCiAgICAgICAgTmFtZSA9ICLmmL7npLrlm7rlrppGT1YiLCAKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwgCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBmaXhlZEZvdkNpcmNsZS5WaXNpYmxlID0gdiBlbmQgCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVNsaWRlcih7CiAgICAgICAgTmFtZSA9ICLljYrlvoTvvIjmu5HmnaHvvIkiLAogICAgICAgIFJhbmdlID0gezAsIDUwMH0sCiAgICAgICAgSW5jcmVtZW50ID0gNSwKICAgICAgICBTdWZmaXggPSAicHgiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZpeGVkRk9WLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgCiAgICAgICAgICAgIGZpeGVkRk9WID0gdgogICAgICAgICAgICBmaXhlZEZvdkNpcmNsZS5SYWRpdXMgPSB2IAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVJbnB1dCh7CiAgICAgICAgTmFtZSA9ICLljYrlvoTvvIjovpPlhaXvvIkiLAogICAgICAgIFBsYWNlaG9sZGVyVGV4dCA9IHRvc3RyaW5nKGZpeGVkRk9WKSwKICAgICAgICBSZW1vdmVUZXh0QWZ0ZXJGb2N1c0xvc3QgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHR4dCkgCiAgICAgICAgICAgIGxvY2FsIG4gPSB0b251bWJlcih0eHQpIAogICAgICAgICAgICBpZiBuIHRoZW4gCiAgICAgICAgICAgICAgICBmaXhlZEZPViA9IG4KICAgICAgICAgICAgICAgIGZpeGVkRm92Q2lyY2xlLlJhZGl1cyA9IG4KICAgICAgICAgICAgZW5kIAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTZWN0aW9uKCLpgJrnlKjlj4LmlbAiKQogICAgVGFiMzpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi5bmz5ruR57O75pWw77yI5ruR5p2h77yJIiwKICAgICAgICBSYW5nZSA9IHswLCAxfSwKICAgICAgICBJbmNyZW1lbnQgPSAwLjAxLAogICAgICAgIFN1ZmZpeCA9ICIiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGFpbWJvdFNtb290aCwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbWJvdFNtb290aCA9IHYgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZUlucHV0KHsKICAgICAgICBOYW1lID0gIuW5s+a7keezu+aVsO+8iOi+k+WFpe+8iSIsCiAgICAgICAgUGxhY2Vob2xkZXJUZXh0ID0gdG9zdHJpbmcoYWltYm90U21vb3RoKSwKICAgICAgICBSZW1vdmVUZXh0QWZ0ZXJGb2N1c0xvc3QgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHR4dCkgCiAgICAgICAgICAgIGxvY2FsIG4gPSB0b251bWJlcih0eHQpIAogICAgICAgICAgICBpZiBuIHRoZW4gCiAgICAgICAgICAgICAgICBhaW1ib3RTbW9vdGggPSBuCiAgICAgICAgICAgIGVuZCAKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlU2xpZGVyKHsKICAgICAgICBOYW1lID0gIumihOa1iyAo56eSKe+8iOa7keadoe+8iSIsCiAgICAgICAgUmFuZ2UgPSB7MCwgMX0sCiAgICAgICAgSW5jcmVtZW50ID0gMC4wMSwKICAgICAgICBTdWZmaXggPSAicyIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gYWltYm90UHJlZGljdGlvbiwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbWJvdFByZWRpY3Rpb24gPSB2IGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVJbnB1dCh7CiAgICAgICAgTmFtZSA9ICLpooTmtYsgKOenkinvvIjovpPlhaXvvIkiLAogICAgICAgIFBsYWNlaG9sZGVyVGV4dCA9IHRvc3RyaW5nKGFpbWJvdFByZWRpY3Rpb24pLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgbG9jYWwgbiA9IHRvbnVtYmVyKHR4dCkgCiAgICAgICAgICAgIGlmIG4gdGhlbiAKICAgICAgICAgICAgICAgIGFpbWJvdFByZWRpY3Rpb24gPSBuCiAgICAgICAgICAgIGVuZCAKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlRHJvcGRvd24oewogICAgICAgIE5hbWUgPSAi556E5YeG6aqo6aq8IiwKICAgICAgICBPcHRpb25zID0geyJIZWFkIiwiTmVjayIsIlVwcGVyVG9yc28iLCJIdW1hbm9pZFJvb3RQYXJ0In0sCiAgICAgICAgQ3VycmVudE9wdGlvbiA9IGFpbWJvdEJvbmUsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBhaW1ib3RCb25lID0gdiBlbmQKICAgIH0pCiAgICAKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSDlrZDlvLnov73ouKrns7vnu5/moIfnrb7pobUKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBsb2NhbCBCdWxsZXRUYWIgPSBXaW5kb3c6Q3JlYXRlVGFiKCLlrZDlvLnov73ouKoiLCA3NzMzOTYxNzUwKQogICAgCiAgICBCdWxsZXRUYWI6Q3JlYXRlU2VjdGlvbigi5a2Q5by56L+96Liq57O757ufIikKICAgIEJ1bGxldFRhYjpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5ZCv55So5a2Q5by56L+96LiqIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIEJ1bGxldFN5c3RlbS5Ub2dnbGVCdWxsZXRUcmFjZXIoKQogICAgICAgICAgICBSYXlmaWVsZDpOb3RpZnkoewogICAgICAgICAgICAgICAgVGl0bGUgPSAi5a2Q5by56L+96LiqIiwKICAgICAgICAgICAgICAgIENvbnRlbnQgPSB2IGFuZCAi5a2Q5by56L+96Liq5bey5ZCv55SoIiBvciAi5a2Q5by56L+96Liq5bey56aB55SoIiwKICAgICAgICAgICAgICAgIER1cmF0aW9uID0gMywKICAgICAgICAgICAgICAgIEltYWdlID0gNDQ4MzM2MjQ1OAogICAgICAgICAgICB9KQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgQnVsbGV0VGFiOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlkK/nlKjlrZDlvLnnqb/lopkiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgQnVsbGV0U3lzdGVtLlRvZ2dsZUJ1bGxldFBlbmV0cmF0aW9uKCkKICAgICAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgICAgIFRpdGxlID0gIuWtkOW8ueepv+WimSIsCiAgICAgICAgICAgICAgICBDb250ZW50ID0gdiBhbmQgIuWtkOW8ueepv+WimeW3suWQr+eUqCIgb3IgIuWtkOW8ueepv+WimeW3suemgeeUqCIsCiAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICAgICAgfSkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIEJ1bGxldFRhYjpDcmVhdGVTZWN0aW9uKCLov73ouKrorr7nva4iKQogICAgQnVsbGV0VGFiOkNyZWF0ZURyb3Bkb3duKHsKICAgICAgICBOYW1lID0gIui/vei4quaooeW8jyIsCiAgICAgICAgT3B0aW9ucyA9IHsiU21hcnQiLCAiRGlyZWN0IiwgIlByZWRpY3RpdmUifSwKICAgICAgICBDdXJyZW50T3B0aW9uID0gQnVsbGV0VHJhY2VyLlRyYWNraW5nLk1vZGUsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBCdWxsZXRTeXN0ZW0uU2V0VHJhY2VyTW9kZSh2KQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgQnVsbGV0VGFiOkNyZWF0ZVNsaWRlcih7CiAgICAgICAgTmFtZSA9ICLpooTmtYvml7bpl7QiLAogICAgICAgIFJhbmdlID0gezAuMDUsIDAuNX0sCiAgICAgICAgSW5jcmVtZW50ID0gMC4wMSwKICAgICAgICBTdWZmaXggPSAi56eSIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBCdWxsZXRUcmFjZXIuUHJlZGljdGlvbiwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIEJ1bGxldFN5c3RlbS5TZXRQcmVkaWN0aW9uKHYpCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBCdWxsZXRUYWI6Q3JlYXRlU2xpZGVyKHsKICAgICAgICBOYW1lID0gIuW5s+a7keW6piIsCiAgICAgICAgUmFuZ2UgPSB7MC4xLCAxLjB9LAogICAgICAgIEluY3JlbWVudCA9IDAuMDUsCiAgICAgICAgU3VmZml4ID0gIiIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gQnVsbGV0VHJhY2VyLlNtb290aG5lc3MsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBCdWxsZXRTeXN0ZW0uU2V0U21vb3RobmVzcyh2KQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgQnVsbGV0VGFiOkNyZWF0ZVNsaWRlcih7CiAgICAgICAgTmFtZSA9ICLmnIDlpKfot53nprsiLAogICAgICAgIFJhbmdlID0gezEwMCwgMjAwMH0sCiAgICAgICAgSW5jcmVtZW50ID0gNTAsCiAgICAgICAgU3VmZml4ID0gIuWNleS9jSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gQnVsbGV0VHJhY2VyLk1heERpc3RhbmNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgQnVsbGV0VHJhY2VyLk1heERpc3RhbmNlID0gdgogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgQnVsbGV0VGFiOkNyZWF0ZVNlY3Rpb24oIumrmOe6p+iuvue9riIpCiAgICBCdWxsZXRUYWI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWboumYn+ajgOafpSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gQnVsbGV0VHJhY2VyLlRlYW1DaGVjaywKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIEJ1bGxldFRyYWNlci5UZWFtQ2hlY2sgPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBCdWxsZXRUYWI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWimeS9k+ajgOafpSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gQnVsbGV0VHJhY2VyLldhbGxDaGVjaywKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIEJ1bGxldFRyYWNlci5XYWxsQ2hlY2sgPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBCdWxsZXRUYWI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuS6uuexu+WMluaooeW8jyIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gQnVsbGV0VHJhY2VyLkFkdmFuY2VkLkh1bWFuaXplciwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIEJ1bGxldFRyYWNlci5BZHZhbmNlZC5IdW1hbml6ZXIgPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBCdWxsZXRUYWI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuiHqumAguW6lOmihOa1iyIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gQnVsbGV0VHJhY2VyLkFkdmFuY2VkLkFkYXB0aXZlUHJlZGljdGlvbiwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIEJ1bGxldFRyYWNlci5BZHZhbmNlZC5BZGFwdGl2ZVByZWRpY3Rpb24gPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBCdWxsZXRUYWI6Q3JlYXRlU2VjdGlvbigi6KeG6KeJ6K6+572uIikKICAgIEJ1bGxldFRhYjpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S65a2Q5by56L2o6L+5IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBCdWxsZXRUcmFjZXIuVmlzdWFsLlNob3dUcmFjZXIsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBCdWxsZXRUcmFjZXIuVmlzdWFsLlNob3dUcmFjZXIgPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBCdWxsZXRUYWI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuebruagh+aMh+ekuuWZqCIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gQnVsbGV0VHJhY2VyLlZpc3VhbC5TaG93VGFyZ2V0LAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgQnVsbGV0VHJhY2VyLlZpc3VhbC5TaG93VGFyZ2V0ID0gdgogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgQnVsbGV0VGFiOkNyZWF0ZVNlY3Rpb24oIuepv+Wimeiuvue9riIpCiAgICBCdWxsZXRUYWI6Q3JlYXRlRHJvcGRvd24oewogICAgICAgIE5hbWUgPSAi56m/5aKZ5qih5byPIiwKICAgICAgICBPcHRpb25zID0geyJDb2xsaXNpb24iLCAiUmF5Y2FzdCIsICJIeWJyaWQifSwKICAgICAgICBDdXJyZW50T3B0aW9uID0gQnVsbGV0UGVuZXRyYXRpb24uTW9kZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIEJ1bGxldFN5c3RlbS5TZXRQZW5ldHJhdGlvbk1vZGUodikKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIEJ1bGxldFRhYjpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi56m/6YCP5rex5bqmIiwKICAgICAgICBSYW5nZSA9IHsxLCAxMH0sCiAgICAgICAgSW5jcmVtZW50ID0gMSwKICAgICAgICBTdWZmaXggPSAi5bGCIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBCdWxsZXRQZW5ldHJhdGlvbi5QZW5ldHJhdGlvbkRlcHRoLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgQnVsbGV0UGVuZXRyYXRpb24uUGVuZXRyYXRpb25EZXB0aCA9IHYKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIEJ1bGxldFRhYjpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi56e76Zmk56Kw5pKeIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBCdWxsZXRQZW5ldHJhdGlvbi5TZXR0aW5ncy5SZW1vdmVDb2xsaXNpb24sCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBCdWxsZXRQZW5ldHJhdGlvbi5TZXR0aW5ncy5SZW1vdmVDb2xsaXNpb24gPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBCdWxsZXRUYWI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuW/veeVpeWimeWjgSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gQnVsbGV0UGVuZXRyYXRpb24uU2V0dGluZ3MuSWdub3JlV2FsbHMsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBCdWxsZXRQZW5ldHJhdGlvbi5TZXR0aW5ncy5JZ25vcmVXYWxscyA9IHYKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIEJ1bGxldFRhYjpDcmVhdGVCdXR0b24oewogICAgICAgIE5hbWUgPSAi6I635Y+W57O757uf54q25oCBIiwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICAgICAgbG9jYWwgc3RhdHVzID0gQnVsbGV0U3lzdGVtLkdldFN0YXR1cygpCiAgICAgICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgICAgICBUaXRsZSA9ICLlrZDlvLnns7vnu5/nirbmgIEiLAogICAgICAgICAgICAgICAgQ29udGVudCA9IHN0cmluZy5mb3JtYXQoIui/vei4qjogJXNcbuepv+WimTogJXNcbuebruaghzogJXNcbua0u+i3g+i/vei4qjogJWQiLAogICAgICAgICAgICAgICAgICAgIHN0YXR1cy5UcmFjZXJFbmFibGVkIGFuZCAi5ZCv55SoIiBvciAi56aB55SoIiwKICAgICAgICAgICAgICAgICAgICBzdGF0dXMuUGVuZXRyYXRpb25FbmFibGVkIGFuZCAi5ZCv55SoIiBvciAi56aB55SoIiwKICAgICAgICAgICAgICAgICAgICBzdGF0dXMuQ3VycmVudFRhcmdldCwKICAgICAgICAgICAgICAgICAgICBzdGF0dXMuQWN0aXZlVHJhY2VycyksCiAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDUsCiAgICAgICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICAgICAgfSkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSDliKDpmaTpmLTlvbHvvIjlhajlsYDlvIDlhbPvvIkKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBUYWIyOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLliKDpmaTpmLTlvbEiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZ2FtZS5MaWdodGluZy5HbG9iYWxTaGFkb3dzID0gbm90IHYKICAgICAgICAgICAgZm9yIF8sIGwgaW4gaXBhaXJzKHdvcmtzcGFjZTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgaWYgbDpJc0EoIkJhc2VQYXJ0Iikgb3IgbDpJc0EoIk1lc2hQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgICAgIGwuQ2FzdFNoYWRvdyA9IG5vdCB2CiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgICAgICBUaXRsZSA9ICLmj5DnpLoiLAogICAgICAgICAgICAgICAgQ29udGVudCA9IHYgYW5kICLpmLTlvbHlt7LliKDpmaQiIG9yICLpmLTlvbHlt7LmgaLlpI0iLAogICAgICAgICAgICAgICAgRHVyYXRpb24gPSAyLAogICAgICAgICAgICAgICAgSW1hZ2UgPSA0NDgzMzYyNDU4CiAgICAgICAgICAgIH0pCiAgICAgICAgZW5kCiAgICB9KQoKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSDkvJjljJblkI7nmoTpo57ooYzlip/og70KICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBsb2NhbCBmbHlpbmcgPSBmYWxzZQogICAgbG9jYWwgZmx5U3BlZWQgPSA1MAogICAgbG9jYWwgYmcsIGJ2CiAgICBsb2NhbCBjdHJsID0ge2YgPSAwLCBiID0gMCwgbCA9IDAsIHIgPSAwLCB1ID0gMCwgZCA9IDB9CiAgICBsb2NhbCBmbHlDb25uZWN0aW9uCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIGZseUxvb3AoKQogICAgICAgIHdoaWxlIGZseWluZyBhbmQgZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuSGVhcnRiZWF0OldhaXQoKSBkbwogICAgICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIgdGhlbiBicmVhayBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHRvcnNvID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpIG9yIAogICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiVXBwZXJUb3JzbyIpCiAgICAgICAgICAgIGlmIG5vdCB0b3JzbyB0aGVuIGJyZWFrIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgbW92ZURpcmVjdGlvbiA9IFZlY3RvcjMubmV3KGN0cmwuciAtIGN0cmwubCwgY3RybC51IC0gY3RybC5kLCBjdHJsLmIgLSBjdHJsLmYpCiAgICAgICAgICAgIGlmIG1vdmVEaXJlY3Rpb24uTWFnbml0dWRlID4gMCB0aGVuCiAgICAgICAgICAgICAgICBtb3ZlRGlyZWN0aW9uID0gbW92ZURpcmVjdGlvbi5Vbml0CiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgY2FtZXJhID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKICAgICAgICAgICAgbG9jYWwgY2FtZXJhQ0ZyYW1lID0gY2FtZXJhLkNGcmFtZQogICAgICAgICAgICBsb2NhbCBjYW1lcmFMb29rVmVjdG9yID0gY2FtZXJhQ0ZyYW1lLkxvb2tWZWN0b3IKICAgICAgICAgICAgbG9jYWwgY2FtZXJhUmlnaHRWZWN0b3IgPSBjYW1lcmFDRnJhbWUuUmlnaHRWZWN0b3IKICAgICAgICAgICAgbG9jYWwgY2FtZXJhVXBWZWN0b3IgPSBjYW1lcmFDRnJhbWUuVXBWZWN0b3IKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHZlbG9jaXR5ID0gKGNhbWVyYUxvb2tWZWN0b3IgKiBtb3ZlRGlyZWN0aW9uLlogKiBmbHlTcGVlZCkgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNhbWVyYVJpZ2h0VmVjdG9yICogbW92ZURpcmVjdGlvbi5YICogZmx5U3BlZWQpICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjYW1lcmFVcFZlY3RvciAqIG1vdmVEaXJlY3Rpb24uWSAqIGZseVNwZWVkKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgYnYgdGhlbgogICAgICAgICAgICAgICAgYnYuVmVsb2NpdHkgPSB2ZWxvY2l0eQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG1vdmVEaXJlY3Rpb24uTWFnbml0dWRlID4gMCBhbmQgYmcgdGhlbgogICAgICAgICAgICAgICAgYmcuQ0ZyYW1lID0gY2FtZXJhQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcygKICAgICAgICAgICAgICAgICAgICAtbWF0aC5yYWQobW92ZURpcmVjdGlvbi5aICogMTUpLAogICAgICAgICAgICAgICAgICAgIG1hdGgucmFkKG1vdmVEaXJlY3Rpb24uWCAqIDE1KSwKICAgICAgICAgICAgICAgICAgICAwCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIHN0YXJ0Rmx5aW5nKCkKICAgICAgICBpZiBmbHlpbmcgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIgdGhlbiAKICAgICAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgICAgIFRpdGxlID0gIumjnuihjOmUmeivryIsCiAgICAgICAgICAgICAgICBDb250ZW50ID0gIuaJvuS4jeWIsOinkuiJsiIsCiAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICAgICAgfSkKICAgICAgICAgICAgcmV0dXJuIAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIGh1bWFub2lkID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgIGlmIG5vdCBodW1hbm9pZCB0aGVuIAogICAgICAgICAgICBSYXlmaWVsZDpOb3RpZnkoewogICAgICAgICAgICAgICAgVGl0bGUgPSAi6aOe6KGM6ZSZ6K+vIiwKICAgICAgICAgICAgICAgIENvbnRlbnQgPSAi5om+5LiN5YiwSHVtYW5vaWQiLAogICAgICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICAgICAgSW1hZ2UgPSA0NDgzMzYyNDU4CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHJldHVybiAKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBmbHlpbmcgPSB0cnVlCiAgICAgICAgCiAgICAgICAgbG9jYWwgdG9yc28gPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBvciAKICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiVG9yc28iKSBvciAKICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiVXBwZXJUb3JzbyIpCiAgICAgICAgaWYgbm90IHRvcnNvIHRoZW4gCiAgICAgICAgICAgIGZseWluZyA9IGZhbHNlCiAgICAgICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgICAgICBUaXRsZSA9ICLpo57ooYzplJnor68iLAogICAgICAgICAgICAgICAgQ29udGVudCA9ICLmib7kuI3liLDouqvkvZPpg6jkvY0iLAogICAgICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICAgICAgSW1hZ2UgPSA0NDgzMzYyNDU4CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHJldHVybiAKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBiZyA9IEluc3RhbmNlLm5ldygiQm9keUd5cm8iLCB0b3JzbykKICAgICAgICBiZy5QID0gOWU0CiAgICAgICAgYmcubWF4VG9ycXVlID0gVmVjdG9yMy5uZXcoOWU5LCA5ZTksIDllOSkKICAgICAgICBiZy5jZnJhbWUgPSB0b3Jzby5DRnJhbWUKICAgICAgICAKICAgICAgICBidiA9IEluc3RhbmNlLm5ldygiQm9keVZlbG9jaXR5IiwgdG9yc28pCiAgICAgICAgYnYuVmVsb2NpdHkgPSBWZWN0b3IzLm5ldygwLCAwLjEsIDApCiAgICAgICAgYnYuTWF4Rm9yY2UgPSBWZWN0b3IzLm5ldyg5ZTksIDllOSwgOWU5KQogICAgICAgIAogICAgICAgIGh1bWFub2lkLlBsYXRmb3JtU3RhbmQgPSB0cnVlCiAgICAgICAgCiAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi6aOe6KGM5qih5byPIiwKICAgICAgICAgICAgQ29udGVudCA9ICLpo57ooYzlt7LlkK/nlKggKOmAn+W6pjogIiAuLiBmbHlTcGVlZCAuLiAiKSIsCiAgICAgICAgICAgIER1cmF0aW9uID0gMywKICAgICAgICAgICAgSW1hZ2UgPSA0NDgzMzYyNDU4CiAgICAgICAgfSkKICAgICAgICAKICAgICAgICBmbHlDb25uZWN0aW9uID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuSGVhcnRiZWF0OkNvbm5lY3QoZmx5TG9vcCkKICAgIGVuZAogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBzdG9wRmx5aW5nKCkKICAgICAgICBpZiBub3QgZmx5aW5nIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIGZseWluZyA9IGZhbHNlCiAgICAgICAgCiAgICAgICAgaWYgYmcgdGhlbiBiZzpEZXN0cm95KCkgYmcgPSBuaWwgZW5kCiAgICAgICAgaWYgYnYgdGhlbiBidjpEZXN0cm95KCkgYnYgPSBuaWwgZW5kCiAgICAgICAgaWYgZmx5Q29ubmVjdGlvbiB0aGVuIGZseUNvbm5lY3Rpb246RGlzY29ubmVjdCgpIGZseUNvbm5lY3Rpb24gPSBuaWwgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgIGlmIGNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgIGxvY2FsIGh1bWFub2lkID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgICAgICBpZiBodW1hbm9pZCB0aGVuCiAgICAgICAgICAgICAgICBodW1hbm9pZC5QbGF0Zm9ybVN0YW5kID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBhbmltYXRlID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJBbmltYXRlIikKICAgICAgICAgICAgaWYgYW5pbWF0ZSB0aGVuCiAgICAgICAgICAgICAgICBhbmltYXRlLkRpc2FibGVkID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgY3RybCA9IHtmID0gMCwgYiA9IDAsIGwgPSAwLCByID0gMCwgdSA9IDAsIGQgPSAwfQogICAgICAgIAogICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgIFRpdGxlID0gIumjnuihjOaooeW8jyIsCiAgICAgICAgICAgIENvbnRlbnQgPSAi6aOe6KGM5bey56aB55SoIiwKICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICB9KQogICAgZW5kCiAgICAKICAgIGxvY2FsIGlucHV0QmVnYW5Db25uLCBpbnB1dEVuZGVkQ29ubgogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBzZXR1cElucHV0KCkKICAgICAgICBpZiBpbnB1dEJlZ2FuQ29ubiB0aGVuIGlucHV0QmVnYW5Db25uOkRpc2Nvbm5lY3QoKSBlbmQKICAgICAgICBpZiBpbnB1dEVuZGVkQ29ubiB0aGVuIGlucHV0RW5kZWRDb25uOkRpc2Nvbm5lY3QoKSBlbmQKICAgICAgICAKICAgICAgICBpbnB1dEJlZ2FuQ29ubiA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpLklucHV0QmVnYW46Q29ubmVjdChmdW5jdGlvbihpbnB1dCkKICAgICAgICAgICAgaWYgbm90IGZseWluZyB0aGVuIHJldHVybiBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlcgdGhlbgogICAgICAgICAgICAgICAgY3RybC5mID0gMQogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUyB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmIgPSAxCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5BIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwubCA9IDEKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkQgdGhlbgogICAgICAgICAgICAgICAgY3RybC5yID0gMQogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuU3BhY2UgdGhlbgogICAgICAgICAgICAgICAgY3RybC51ID0gMQogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTGVmdENvbnRyb2wgb3IgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQnV0dG9uTDMgdGhlbgogICAgICAgICAgICAgICAgY3RybC5kID0gMQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICAgICAgCiAgICAgICAgaW5wdXRFbmRlZENvbm4gPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKS5JbnB1dEVuZGVkOkNvbm5lY3QoZnVuY3Rpb24oaW5wdXQpCiAgICAgICAgICAgIGlmIG5vdCBmbHlpbmcgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5XIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwuZiA9IDAKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlMgdGhlbgogICAgICAgICAgICAgICAgY3RybC5iID0gMAogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQSB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmwgPSAwCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5EIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwuciA9IDAKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlNwYWNlIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwudSA9IDAKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkxlZnRDb250cm9sIG9yIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJ1dHRvbkwzIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwuZCA9IDAKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCiAgICAKICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBzdG9wRmx5aW5nKCkKICAgIGVuZCkKICAgIAogICAgVGFiMjpDcmVhdGVTZWN0aW9uKCLpo57ooYzlip/og70iKQogICAgCiAgICBUYWIyOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlkK/nlKjpo57ooYwiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgaWYgdiB0aGVuCiAgICAgICAgICAgICAgICBzdGFydEZseWluZygpCiAgICAgICAgICAgICAgICBzZXR1cElucHV0KCkKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgc3RvcEZseWluZygpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi6aOe6KGM6YCf5bqmIiwKICAgICAgICBSYW5nZSA9IHsxMCwgMjAwfSwKICAgICAgICBJbmNyZW1lbnQgPSA1LAogICAgICAgIFN1ZmZpeCA9ICLljZXkvY0iLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZseVNwZWVkLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIGZseVNwZWVkID0gdmFsdWUKICAgICAgICAgICAgaWYgZmx5aW5nIHRoZW4KICAgICAgICAgICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgICAgICAgICAgVGl0bGUgPSAi6aOe6KGM5qih5byPIiwKICAgICAgICAgICAgICAgICAgICBDb250ZW50ID0gIumjnuihjOmAn+W6puabtOaWsOS4ujogIiAuLiBmbHlTcGVlZCwKICAgICAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDIsCiAgICAgICAgICAgICAgICAgICAgSW1hZ2UgPSA0NDgzMzYyNDU4CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlTGFiZWwoIuaOp+WItuaWueW8jzoiKQogICAgVGFiMjpDcmVhdGVMYWJlbCgiVy9BL1MvRCAtIOWJjeWQjuW3puWPs+enu+WKqCIpCiAgICBUYWIyOkNyZWF0ZUxhYmVsKCLnqbrmoLzplK4gLSDlkJHkuIrpo57ooYwiKQogICAgVGFiMjpDcmVhdGVMYWJlbCgiQ3RybOmUriAtIOWQkeS4i+mjnuihjCIpCiAgICAKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSDlop7lvLrniYjnjqnlrrYgRVNQ77yI5ZCr6Zif5LyN5qOA5rWL44CB6Led56a744CB6KGA5p2h5ZKM57q/5p2h57uY5Yi277yJLSDljYfnuqfkuLrni6znq4vlvIDlhbPplK4KICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBsb2NhbCBlc3BTZXR0aW5ncyA9IHsKICAgICAgICBlbmFibGVkID0gZmFsc2UsCiAgICAgICAgc2hvd0JveCA9IGZhbHNlLAogICAgICAgIHNob3dOYW1lID0gZmFsc2UsCiAgICAgICAgc2hvd0Rpc3RhbmNlID0gZmFsc2UsCiAgICAgICAgc2hvd0hlYWx0aEJhciA9IGZhbHNlLAogICAgICAgIHNob3dIZWFsdGhUZXh0ID0gZmFsc2UsCiAgICAgICAgc2hvd1RyYWNlciA9IGZhbHNlLAogICAgICAgIHRyYWNlclBvc2l0aW9uID0gIkJvdHRvbSIsCiAgICAgICAgc2hvd0VuZW15T25seSA9IGZhbHNlCiAgICB9CiAgICAKICAgIGxvY2FsIGVzcENhY2hlID0ge30KCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRUZWFtQ29sb3IocGxyKQogICAgICAgIGlmIHBsci5UZWFtIGFuZCBMb2NhbFBsYXllci5UZWFtIGFuZCBwbHIuVGVhbSA9PSBMb2NhbFBsYXllci5UZWFtIHRoZW4KICAgICAgICAgICAgcmV0dXJuIENvbG9yMy5mcm9tUkdCKDAsIDI1NSwgMCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBsb2NhbCBmdW5jdGlvbiBpc1RlYW1tYXRlKHBscikKICAgICAgICBpZiBwbHIuVGVhbSBhbmQgTG9jYWxQbGF5ZXIuVGVhbSBhbmQgcGxyLlRlYW0gPT0gTG9jYWxQbGF5ZXIuVGVhbSB0aGVuCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgZW5kCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICBlbmQKCiAgICBsb2NhbCBmdW5jdGlvbiBjcmVhdGVFU1BPYmplY3QocGxyKQogICAgICAgIGxvY2FsIGVzcCA9IHsKICAgICAgICAgICAgQm94ID0gRHJhd2luZy5uZXcoIlF1YWQiKSwKICAgICAgICAgICAgTmFtZSA9IERyYXdpbmcubmV3KCJUZXh0IiksCiAgICAgICAgICAgIERpc3RhbmNlID0gRHJhd2luZy5uZXcoIlRleHQiKSwKICAgICAgICAgICAgSGVhbHRoQmFyID0gRHJhd2luZy5uZXcoIlF1YWQiKSwKICAgICAgICAgICAgSGVhbHRoVGV4dCA9IERyYXdpbmcubmV3KCJUZXh0IiksCiAgICAgICAgICAgIFRyYWNlciA9IERyYXdpbmcubmV3KCJMaW5lIikKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZXNwLkJveC5UaGlja25lc3MgPSAxLjUKICAgICAgICBlc3AuQm94LkZpbGxlZCA9IGZhbHNlCiAgICAgICAgZXNwLkJveC5aSW5kZXggPSA1CiAgICAgICAgCiAgICAgICAgZXNwLk5hbWUuU2l6ZSA9IDE4CiAgICAgICAgZXNwLk5hbWUuQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5OYW1lLk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLk5hbWUuWkluZGV4ID0gNgogICAgICAgIAogICAgICAgIGVzcC5EaXN0YW5jZS5TaXplID0gMTYKICAgICAgICBlc3AuRGlzdGFuY2UuQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5EaXN0YW5jZS5PdXRsaW5lID0gdHJ1ZQogICAgICAgIGVzcC5EaXN0YW5jZS5aSW5kZXggPSA2CiAgICAgICAgCiAgICAgICAgZXNwLkhlYWx0aEJhci5GaWxsZWQgPSB0cnVlCiAgICAgICAgZXNwLkhlYWx0aEJhci5UaGlja25lc3MgPSAxCiAgICAgICAgZXNwLkhlYWx0aEJhci5aSW5kZXggPSA1CiAgICAgICAgCiAgICAgICAgZXNwLkhlYWx0aFRleHQuU2l6ZSA9IDE0CiAgICAgICAgZXNwLkhlYWx0aFRleHQuQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5IZWFsdGhUZXh0Lk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLkhlYWx0aFRleHQuWkluZGV4ID0gNgogICAgICAgIAogICAgICAgIGVzcC5UcmFjZXIuVGhpY2tuZXNzID0gMS41CiAgICAgICAgZXNwLlRyYWNlci5aSW5kZXggPSA0CiAgICAgICAgCiAgICAgICAgZXNwQ2FjaGVbcGxyXSA9IGVzcAogICAgICAgIHJldHVybiBlc3AKICAgIGVuZAoKICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZUVTUCgpCiAgICAgICAgaWYgbm90IGVzcFNldHRpbmdzLmVuYWJsZWQgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgCiAgICAgICAgZm9yIF8sIHBsciBpbiBpcGFpcnMoUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCiAgICAgICAgICAgIGlmIHBsciA9PSBMb2NhbFBsYXllciB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgZXNwU2V0dGluZ3Muc2hvd0VuZW15T25seSBhbmQgaXNUZWFtbWF0ZShwbHIpIHRoZW4KICAgICAgICAgICAgICAgIGlmIGVzcENhY2hlW3Bscl0gdGhlbgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwQ2FjaGVbcGxyXSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGNoYXIgPSBwbHIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGlmIG5vdCBjaGFyIHRoZW4KICAgICAgICAgICAgICAgIGlmIGVzcENhY2hlW3Bscl0gdGhlbgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwQ2FjaGVbcGxyXSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBjb250aW51ZSAKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCByb290ID0gY2hhcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgICAgIGxvY2FsIGhlYWQgPSBjaGFyOkZpbmRGaXJzdENoaWxkKCJIZWFkIikKICAgICAgICAgICAgbG9jYWwgaHVtYW5vaWQgPSBjaGFyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgbm90IChyb290IGFuZCBoZWFkIGFuZCBodW1hbm9pZCkgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHJvb3RQb3MsIHJvb3RWaXMgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQocm9vdC5Qb3NpdGlvbikKICAgICAgICAgICAgbG9jYWwgaGVhZFBvcywgaGVhZFZpcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludChoZWFkLlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMS41LCAwKSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG5vdCAocm9vdFZpcyBhbmQgaGVhZFZpcykgdGhlbgogICAgICAgICAgICAgICAgaWYgZXNwQ2FjaGVbcGxyXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3BDYWNoZVtwbHJdKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBvYmouVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZXNwID0gZXNwQ2FjaGVbcGxyXSBvciBjcmVhdGVFU1BPYmplY3QocGxyKQogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgaGVpZ2h0ID0gbWF0aC5hYnMoaGVhZFBvcy5ZIC0gcm9vdFBvcy5ZKSAqIDEuNQogICAgICAgICAgICBsb2NhbCB3aWR0aCA9IGhlaWdodCAqIDAuNgogICAgICAgICAgICBsb2NhbCBsZWZ0ID0gaGVhZFBvcy5YIC0gd2lkdGggLyAyCiAgICAgICAgICAgIGxvY2FsIHJpZ2h0ID0gaGVhZFBvcy5YICsgd2lkdGggLyAyCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBjb2xvciA9IGdldFRlYW1Db2xvcihwbHIpCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDni6znq4vmjqfliLbmr4/kuKrlhYPntKDnmoTmmL7npLoKICAgICAgICAgICAgZXNwLkJveC5WaXNpYmxlID0gZXNwU2V0dGluZ3Muc2hvd0JveAogICAgICAgICAgICBlc3AuQm94LkNvbG9yID0gY29sb3IKICAgICAgICAgICAgZXNwLkJveC5Qb2ludEEgPSBWZWN0b3IyLm5ldyhsZWZ0LCBoZWFkUG9zLlkpCiAgICAgICAgICAgIGVzcC5Cb3guUG9pbnRCID0gVmVjdG9yMi5uZXcocmlnaHQsIGhlYWRQb3MuWSkKICAgICAgICAgICAgZXNwLkJveC5Qb2ludEMgPSBWZWN0b3IyLm5ldyhyaWdodCwgaGVhZFBvcy5ZICsgaGVpZ2h0KQogICAgICAgICAgICBlc3AuQm94LlBvaW50RCA9IFZlY3RvcjIubmV3KGxlZnQsIGhlYWRQb3MuWSArIGhlaWdodCkKICAgICAgICAgICAgCiAgICAgICAgICAgIGVzcC5OYW1lLlZpc2libGUgPSBlc3BTZXR0aW5ncy5zaG93TmFtZQogICAgICAgICAgICBlc3AuTmFtZS5Db2xvciA9IGNvbG9yCiAgICAgICAgICAgIGVzcC5OYW1lLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoaGVhZFBvcy5YLCBoZWFkUG9zLlkgLSAyMCkKICAgICAgICAgICAgZXNwLk5hbWUuVGV4dCA9IHBsci5OYW1lCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBkaXN0YW5jZSA9IG1hdGguZmxvb3IoKHJvb3QuUG9zaXRpb24gLSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uKS5NYWduaXR1ZGUpCiAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5WaXNpYmxlID0gZXNwU2V0dGluZ3Muc2hvd0Rpc3RhbmNlCiAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5Db2xvciA9IGNvbG9yCiAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KGhlYWRQb3MuWCwgaGVhZFBvcy5ZICsgaGVpZ2h0ICsgNSkKICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlRleHQgPSB0b3N0cmluZyhkaXN0YW5jZSkgLi4gIm0iCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBoZWFsdGhQZXJjZW50ID0gbWF0aC5jbGFtcChodW1hbm9pZC5IZWFsdGggLyBodW1hbm9pZC5NYXhIZWFsdGgsIDAsIDEpCiAgICAgICAgICAgIGxvY2FsIGJhcldpZHRoID0gd2lkdGgKICAgICAgICAgICAgbG9jYWwgYmFySGVpZ2h0ID0gNQogICAgICAgICAgICBsb2NhbCBiYXJYID0gbGVmdAogICAgICAgICAgICBsb2NhbCBiYXJZID0gaGVhZFBvcy5ZICsgaGVpZ2h0ICsgMjAKICAgICAgICAgICAgCiAgICAgICAgICAgIGVzcC5IZWFsdGhCYXIuVmlzaWJsZSA9IGVzcFNldHRpbmdzLnNob3dIZWFsdGhCYXIKICAgICAgICAgICAgZXNwLkhlYWx0aEJhci5Db2xvciA9IENvbG9yMy5uZXcoMSAtIGhlYWx0aFBlcmNlbnQsIGhlYWx0aFBlcmNlbnQsIDApCiAgICAgICAgICAgIGVzcC5IZWFsdGhCYXIuUG9pbnRBID0gVmVjdG9yMi5uZXcoYmFyWCwgYmFyWSkKICAgICAgICAgICAgZXNwLkhlYWx0aEJhci5Qb2ludEIgPSBWZWN0b3IyLm5ldyhiYXJYICsgYmFyV2lkdGggKiBoZWFsdGhQZXJjZW50LCBiYXJZKQogICAgICAgICAgICBlc3AuSGVhbHRoQmFyLlBvaW50QyA9IFZlY3RvcjIubmV3KGJhclggKyBiYXJXaWR0aCAqIGhlYWx0aFBlcmNlbnQsIGJhclkgKyBiYXJIZWlnaHQpCiAgICAgICAgICAgIGVzcC5IZWFsdGhCYXIuUG9pbnREID0gVmVjdG9yMi5uZXcoYmFyWCwgYmFyWSArIGJhckhlaWdodCkKICAgICAgICAgICAgCiAgICAgICAgICAgIGVzcC5IZWFsdGhUZXh0LlZpc2libGUgPSBlc3BTZXR0aW5ncy5zaG93SGVhbHRoVGV4dAogICAgICAgICAgICBlc3AuSGVhbHRoVGV4dC5Db2xvciA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgICAgICAgICAgZXNwLkhlYWx0aFRleHQuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhiYXJYICsgYmFyV2lkdGggLyAyLCBiYXJZIC0gMTApCiAgICAgICAgICAgIGVzcC5IZWFsdGhUZXh0LlRleHQgPSBtYXRoLmZsb29yKGh1bWFub2lkLkhlYWx0aCkgLi4gIi8iIC4uIG1hdGguZmxvb3IoaHVtYW5vaWQuTWF4SGVhbHRoKQogICAgICAgICAgICAKICAgICAgICAgICAgZXNwLlRyYWNlci5WaXNpYmxlID0gZXNwU2V0dGluZ3Muc2hvd1RyYWNlcgogICAgICAgICAgICBlc3AuVHJhY2VyLkNvbG9yID0gY29sb3IKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHN0YXJ0UG9pbnQKICAgICAgICAgICAgaWYgZXNwU2V0dGluZ3MudHJhY2VyUG9zaXRpb24gPT0gIlRvcCIgdGhlbgogICAgICAgICAgICAgICAgc3RhcnRQb2ludCA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCAwKQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBzdGFydFBvaW50ID0gVmVjdG9yMi5uZXcoQ2FtZXJhLlZpZXdwb3J0U2l6ZS5YLzIsIENhbWVyYS5WaWV3cG9ydFNpemUuWSkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBlbmRQb2ludCA9IFZlY3RvcjIubmV3KGhlYWRQb3MuWCwgaGVhZFBvcy5ZICsgaGVpZ2h0LzIpCiAgICAgICAgICAgIAogICAgICAgICAgICBlc3AuVHJhY2VyLkZyb20gPSBzdGFydFBvaW50CiAgICAgICAgICAgIGVzcC5UcmFjZXIuVG8gPSBlbmRQb2ludAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGZvciBwbHIsIGVzcCBpbiBwYWlycyhlc3BDYWNoZSkgZG8KICAgICAgICAgICAgaWYgbm90IHBsciBvciBub3QgcGxyLlBhcmVudCBvciBwbHIgPT0gTG9jYWxQbGF5ZXIgdGhlbgogICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3ApIGRvCiAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIG9iajpSZW1vdmUoKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlc3BDYWNoZVtwbHJdID0gbmlsCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCgogICAgbG9jYWwgZXNwTG9vcAogICAgCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLS0gTlBDIOmAj+inhu+8iOWinuW8uueJiO+8iS0g5Y2H57qn5Li654us56uL5byA5YWz6ZSuCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgbG9jYWwgbnBjRXNwU2V0dGluZ3MgPSB7CiAgICAgICAgZW5hYmxlZCA9IGZhbHNlLAogICAgICAgIHNob3dCb3ggPSBmYWxzZSwKICAgICAgICBzaG93TmFtZSA9IGZhbHNlLAogICAgICAgIHNob3dEaXN0YW5jZSA9IGZhbHNlCiAgICB9CiAgICAKICAgIGxvY2FsIG5wY0VzcENhY2hlID0ge30KICAgIAogICAgbG9jYWwgZnVuY3Rpb24gY3JlYXRlTnBjRVNQT2JqZWN0KG1vZGVsKQogICAgICAgIGxvY2FsIGVzcCA9IHsKICAgICAgICAgICAgQm94ID0gRHJhd2luZy5uZXcoIlF1YWQiKSwKICAgICAgICAgICAgTmFtZSA9IERyYXdpbmcubmV3KCJUZXh0IiksCiAgICAgICAgICAgIERpc3RhbmNlID0gRHJhd2luZy5uZXcoIlRleHQiKQogICAgICAgIH0KICAgICAgICAKICAgICAgICBlc3AuQm94LlRoaWNrbmVzcyA9IDEuNQogICAgICAgIGVzcC5Cb3guRmlsbGVkID0gZmFsc2UKICAgICAgICBlc3AuQm94LkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxNjUsIDApCiAgICAgICAgZXNwLkJveC5aSW5kZXggPSA0CiAgICAgICAgCiAgICAgICAgZXNwLk5hbWUuU2l6ZSA9IDE2CiAgICAgICAgZXNwLk5hbWUuQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5OYW1lLk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLk5hbWUuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDE2NSwgMCkKICAgICAgICBlc3AuTmFtZS5aSW5kZXggPSA0CiAgICAgICAgCiAgICAgICAgZXNwLkRpc3RhbmNlLlNpemUgPSAxNAogICAgICAgIGVzcC5EaXN0YW5jZS5DZW50ZXIgPSB0cnVlCiAgICAgICAgZXNwLkRpc3RhbmNlLk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLkRpc3RhbmNlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxNjUsIDApCiAgICAgICAgZXNwLkRpc3RhbmNlLlpJbmRleCA9IDQKICAgICAgICAKICAgICAgICBucGNFc3BDYWNoZVttb2RlbF0gPSBlc3AKICAgICAgICByZXR1cm4gZXNwCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlTnBjRVNQKCkKICAgICAgICBpZiBub3QgbnBjRXNwU2V0dGluZ3MuZW5hYmxlZCB0aGVuIHJldHVybiBlbmQKICAgICAgICAKICAgICAgICBmb3IgXywgbW9kZWwgaW4gaXBhaXJzKHdvcmtzcGFjZTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICBpZiBtb2RlbDpJc0EoIk1vZGVsIikgYW5kIG1vZGVsOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSBhbmQgbm90IFBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3Rlcihtb2RlbCkgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgcm9vdCA9IG1vZGVsOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgbW9kZWw6RmluZEZpcnN0Q2hpbGQoIlRvcnNvIikKICAgICAgICAgICAgICAgIGxvY2FsIGhlYWQgPSBtb2RlbDpGaW5kRmlyc3RDaGlsZCgiSGVhZCIpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIG5vdCAocm9vdCBhbmQgaGVhZCkgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIG5wY0VzcENhY2hlW21vZGVsXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMobnBjRXNwQ2FjaGVbbW9kZWxdKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIHJvb3RQb3MsIHJvb3RWaXMgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQocm9vdC5Qb3NpdGlvbikKICAgICAgICAgICAgICAgIGxvY2FsIGhlYWRQb3MsIGhlYWRWaXMgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQoaGVhZC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDEuNSwgMCkpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIG5vdCAocm9vdFZpcyBhbmQgaGVhZFZpcykgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIG5wY0VzcENhY2hlW21vZGVsXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMobnBjRXNwQ2FjaGVbbW9kZWxdKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIGVzcCA9IG5wY0VzcENhY2hlW21vZGVsXSBvciBjcmVhdGVOcGNFU1BPYmplY3QobW9kZWwpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIGhlaWdodCA9IG1hdGguYWJzKGhlYWRQb3MuWSAtIHJvb3RQb3MuWSkgKiAxLjUKICAgICAgICAgICAgICAgIGxvY2FsIHdpZHRoID0gaGVpZ2h0ICogMC42CiAgICAgICAgICAgICAgICBsb2NhbCBsZWZ0ID0gaGVhZFBvcy5YIC0gd2lkdGggLyAyCiAgICAgICAgICAgICAgICBsb2NhbCByaWdodCA9IGhlYWRQb3MuWCArIHdpZHRoIC8gMgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlc3AuQm94LlZpc2libGUgPSBucGNFc3BTZXR0aW5ncy5zaG93Qm94CiAgICAgICAgICAgICAgICBlc3AuQm94LlBvaW50QSA9IFZlY3RvcjIubmV3KGxlZnQsIGhlYWRQb3MuWSkKICAgICAgICAgICAgICAgIGVzcC5Cb3guUG9pbnRCID0gVmVjdG9yMi5uZXcocmlnaHQsIGhlYWRQb3MuWSkKICAgICAgICAgICAgICAgIGVzcC5Cb3guUG9pbnRDID0gVmVjdG9yMi5uZXcocmlnaHQsIGhlYWRQb3MuWSArIGhlaWdodCkKICAgICAgICAgICAgICAgIGVzcC5Cb3guUG9pbnREID0gVmVjdG9yMi5uZXcobGVmdCwgaGVhZFBvcy5ZICsgaGVpZ2h0KQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlc3AuTmFtZS5WaXNpYmxlID0gbnBjRXNwU2V0dGluZ3Muc2hvd05hbWUKICAgICAgICAgICAgICAgIGVzcC5OYW1lLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoaGVhZFBvcy5YLCBoZWFkUG9zLlkgLSAxNSkKICAgICAgICAgICAgICAgIGVzcC5OYW1lLlRleHQgPSBtb2RlbC5OYW1lCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIGRpc3RhbmNlID0gbWF0aC5mbG9vcigocm9vdC5Qb3NpdGlvbiAtIENhbWVyYS5DRnJhbWUuUG9zaXRpb24pLk1hZ25pdHVkZSkKICAgICAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5WaXNpYmxlID0gbnBjRXNwU2V0dGluZ3Muc2hvd0Rpc3RhbmNlCiAgICAgICAgICAgICAgICBlc3AuRGlzdGFuY2UuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhoZWFkUG9zLlgsIGhlYWRQb3MuWSArIGhlaWdodCArIDUpCiAgICAgICAgICAgICAgICBlc3AuRGlzdGFuY2UuVGV4dCA9IHRvc3RyaW5nKGRpc3RhbmNlKSAuLiAibSIKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgZm9yIG1vZGVsLCBlc3AgaW4gcGFpcnMobnBjRXNwQ2FjaGUpIGRvCiAgICAgICAgICAgIGlmIG5vdCBtb2RlbCBvciBub3QgbW9kZWwuUGFyZW50IHRoZW4KICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwKSBkbwogICAgICAgICAgICAgICAgICAgIG9iai5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBvYmo6UmVtb3ZlKCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgbnBjRXNwQ2FjaGVbbW9kZWxdID0gbmlsCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIGxvY2FsIG5wY0VzcExvb3AKICAgIAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC0tIOmAj+inhuWKn+iDveeLrOeri+agh+etvumhtSAtIOWNh+e6p+S4uueLrOeri+W8gOWFs+mUrueJiOacrAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGxvY2FsIFRhYjQgPSBXaW5kb3c6Q3JlYXRlVGFiKCLpgI/op4blip/og70iLCA3NzMzOTYxNzQ5KQogICAgCiAgICBUYWI0OkNyZWF0ZVNlY3Rpb24oIueOqeWutumAj+inhuiuvue9riIpCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlkK/nlKjnjqnlrrbpgI/op4YiLCAKICAgICAgICBDdXJyZW50VmFsdWUgPSBlc3BTZXR0aW5ncy5lbmFibGVkLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNldHRpbmdzLmVuYWJsZWQgPSB2CiAgICAgICAgICAgIGlmIHYgdGhlbgogICAgICAgICAgICAgICAgaWYgbm90IGVzcExvb3AgdGhlbgogICAgICAgICAgICAgICAgICAgIGVzcExvb3AgPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5SZW5kZXJTdGVwcGVkOkNvbm5lY3QodXBkYXRlRVNQKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGlmIGVzcExvb3AgdGhlbgogICAgICAgICAgICAgICAgICAgIGVzcExvb3A6RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgZXNwTG9vcCA9IG5pbAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBmb3IgcGxyLCBlc3AgaW4gcGFpcnMoZXNwQ2FjaGUpIGRvCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3ApIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkgb2JqOlJlbW92ZSgpIGVuZCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgdGFibGUuY2xlYXIoZXNwQ2FjaGUpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKCiAgICBUYWI0OkNyZWF0ZVNlY3Rpb24oIueOqeWutumAj+inhuWFg+e0oCIpCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrmlrnmoYYiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNldHRpbmdzLnNob3dCb3gsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BTZXR0aW5ncy5zaG93Qm94ID0gdgogICAgICAgIGVuZAogICAgfSkKCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrlkI3lrZciLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNldHRpbmdzLnNob3dOYW1lLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2V0dGluZ3Muc2hvd05hbWUgPSB2CiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuui3neemuyIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZXNwU2V0dGluZ3Muc2hvd0Rpc3RhbmNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2V0dGluZ3Muc2hvd0Rpc3RhbmNlID0gdgogICAgICAgIGVuZAogICAgfSkKCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrooYDmnaEiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNldHRpbmdzLnNob3dIZWFsdGhCYXIsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BTZXR0aW5ncy5zaG93SGVhbHRoQmFyID0gdgogICAgICAgIGVuZAogICAgfSkKCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrooYDph4/mloflrZciLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNldHRpbmdzLnNob3dIZWFsdGhUZXh0LAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2V0dGluZ3Muc2hvd0hlYWx0aFRleHQgPSB2CiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuui/vei4que6v+adoSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZXNwU2V0dGluZ3Muc2hvd1RyYWNlciwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNldHRpbmdzLnNob3dUcmFjZXIgPSB2CiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlRHJvcGRvd24oewogICAgICAgIE5hbWUgPSAi57q/5p2h5L2N572uIiwKICAgICAgICBPcHRpb25zID0geyJUb3AiLCAiQm90dG9tIn0sCiAgICAgICAgQ3VycmVudE9wdGlvbiA9IGVzcFNldHRpbmdzLnRyYWNlclBvc2l0aW9uLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIGVzcFNldHRpbmdzLnRyYWNlclBvc2l0aW9uID0gdmFsdWUKICAgICAgICBlbmQKICAgIH0pCgogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5Y+q5pi+56S65pWM5Lq6IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBlc3BTZXR0aW5ncy5zaG93RW5lbXlPbmx5LAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2V0dGluZ3Muc2hvd0VuZW15T25seSA9IHYKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjQ6Q3JlYXRlU2VjdGlvbigiTlBD6YCP6KeG6K6+572uIikKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWQr+eUqE5QQ+mAj+inhiIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IG5wY0VzcFNldHRpbmdzLmVuYWJsZWQsIAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgbnBjRXNwU2V0dGluZ3MuZW5hYmxlZCA9IHYKICAgICAgICAgICAgaWYgdiB0aGVuCiAgICAgICAgICAgICAgICBpZiBub3QgbnBjRXNwTG9vcCB0aGVuCiAgICAgICAgICAgICAgICAgICAgbnBjRXNwTG9vcCA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpLlJlbmRlclN0ZXBwZWQ6Q29ubmVjdCh1cGRhdGVOcGNFU1ApCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgaWYgbnBjRXNwTG9vcCB0aGVuCiAgICAgICAgICAgICAgICAgICAgbnBjRXNwTG9vcDpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICBucGNFc3BMb29wID0gbmlsCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGZvciBtb2RlbCwgZXNwIGluIHBhaXJzKG5wY0VzcENhY2hlKSBkbwogICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpIG9iajpSZW1vdmUoKSBlbmQpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIHRhYmxlLmNsZWFyKG5wY0VzcENhY2hlKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjQ6Q3JlYXRlU2VjdGlvbigiTlBD6YCP6KeG5YWD57SgIikKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuaWueahhiIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gbnBjRXNwU2V0dGluZ3Muc2hvd0JveCwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIG5wY0VzcFNldHRpbmdzLnNob3dCb3ggPSB2CiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuWQjeWtlyIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gbnBjRXNwU2V0dGluZ3Muc2hvd05hbWUsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBucGNFc3BTZXR0aW5ncy5zaG93TmFtZSA9IHYKICAgICAgICBlbmQKICAgIH0pCgogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S66Led56a7IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBucGNFc3BTZXR0aW5ncy5zaG93RGlzdGFuY2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBucGNFc3BTZXR0aW5ncy5zaG93RGlzdGFuY2UgPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLS0g5LiJ6ZSB5a6a77ya56e76YCfIC8g6Lez6LeDIC8g6YeN5YqbCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgbG9jYWwgbG9ja1NwZWVkLCBsb2NrSnVtcCwgbG9ja0dyYXYgPSBmYWxzZSwgZmFsc2UsIGZhbHNlCiAgICBsb2NhbCBzYXZlZFNwZWVkLCBzYXZlZEp1bXAsIHNhdmVkR3JhdiA9IDE2LCA1MCwgMTk2CiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIGFwcGx5VmFsdWVzKCkKICAgICAgICBsb2NhbCBjaGFyID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgaWYgbm90IGNoYXIgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgaHVtID0gY2hhcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKICAgICAgICBpZiBub3QgaHVtIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIAogICAgICAgIGlmIGxvY2tTcGVlZCB0aGVuIGh1bS5XYWxrU3BlZWQgPSBzYXZlZFNwZWVkIGVuZAogICAgICAgIGlmIGxvY2tKdW1wIHRoZW4gaHVtLkp1bXBQb3dlciA9IHNhdmVkSnVtcCBlbmQKICAgICAgICBpZiBsb2NrR3JhdiB0aGVuIHdvcmtzcGFjZS5HcmF2aXR5ID0gc2F2ZWRHcmF2IGVuZAogICAgZW5kCiAgICAKICAgIExvY2FsUGxheWVyLkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgIHRhc2sud2FpdCgwLjUpCiAgICAgICAgYXBwbHlWYWx1ZXMoKQogICAgZW5kKQogICAgCiAgICBUYWIyOkNyZWF0ZVNlY3Rpb24oIuS4iemUgeWumiIpCiAgICBUYWIyOkNyZWF0ZUlucHV0KHsKICAgICAgICBOYW1lID0gIuiuvuWumuenu+mAn++8iOS7heS/neWtmOWAvO+8iSIsIAogICAgICAgIFBsYWNlaG9sZGVyVGV4dCA9IHRvc3RyaW5nKHNhdmVkU3BlZWQpLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgc2F2ZWRTcGVlZCA9IHRvbnVtYmVyKHR4dCkgb3IgMTYgCiAgICAgICAgICAgIGFwcGx5VmFsdWVzKCkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlSW5wdXQoewogICAgICAgIE5hbWUgPSAi6K6+5a6a6Lez6LeD6auY5bqm77yI5LuF5L+d5a2Y5YC877yJIiwgCiAgICAgICAgUGxhY2Vob2xkZXJUZXh0ID0gdG9zdHJpbmcoc2F2ZWRKdW1wKSwKICAgICAgICBSZW1vdmVUZXh0QWZ0ZXJGb2N1c0xvc3QgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHR4dCkgCiAgICAgICAgICAgIHNhdmVkSnVtcCA9IHRvbnVtYmVyKHR4dCkgb3IgNTAgCiAgICAgICAgICAgIGFwcGx5VmFsdWVzKCkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlSW5wdXQoewogICAgICAgIE5hbWUgPSAi6K6+5a6a6YeN5Yqb5YC877yI5LuF5L+d5a2Y5YC877yJIiwgCiAgICAgICAgUGxhY2Vob2xkZXJUZXh0ID0gdG9zdHJpbmcoc2F2ZWRHcmF2KSwKICAgICAgICBSZW1vdmVUZXh0QWZ0ZXJGb2N1c0xvc3QgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHR4dCkgCiAgICAgICAgICAgIHNhdmVkR3JhdiA9IHRvbnVtYmVyKHR4dCkgb3IgMTk2IAogICAgICAgICAgICBhcHBseVZhbHVlcygpCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIyOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLplIHlrprnp7vpgJ8iLCAKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwgCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSAKICAgICAgICAgICAgbG9ja1NwZWVkID0gdgogICAgICAgICAgICBhcHBseVZhbHVlcygpCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIyOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLplIHlrprot7Pot4MiLCAKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwgCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSAKICAgICAgICAgICAgbG9ja0p1bXAgPSB2CiAgICAgICAgICAgIGFwcGx5VmFsdWVzKCkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIumUgeWumumHjeWKmyIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIAogICAgICAgICAgICBsb2NrR3JhdiA9IHYKICAgICAgICAgICAgYXBwbHlWYWx1ZXMoKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgLS0gVlLohJrmnKwgVGFiCiAgICBsb2NhbCBUYWI1ID0gV2luZG93OkNyZWF0ZVRhYigiVlIiLCA3NzMzNzc5NjEwKQogICAgVGFiNTpDcmVhdGVCdXR0b24oe05hbWUgPSAiRkVWUuiEmuacrCIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcmFuZG9tc3RyaW5nMC9Rd2VydHkvcmVmcy9oZWFkcy9tYWluL3F3ZXJ0eTQ1Lmx1YSIpKSgpCiAgICBlbmR9KQoKICAgIC0tIOaOp+WItuWPsCBUYWIKICAgIGxvY2FsIFRhYjYgPSBXaW5kb3c6Q3JlYXRlVGFiKCLmjqfliLblj7AiLCA3NzMzNzc5NjEwKQogICAgVGFiNjpDcmVhdGVCdXR0b24oe05hbWUgPSAi5o6n5Yi25Y+w6ISa5pysIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS95eGdoMTY1L3l4Z2gxNjUvbWFpbi82NjYiKSkoKQogICAgZW5kfSkKICAgIAogICAgLS0gWEHohJrmnKwgVGFiCiAgICBsb2NhbCBUYWI3ID0gV2luZG93OkNyZWF0ZVRhYigiWEHohJrmnKwiLCA3NzMzNzc5NjEwKQogICAgVGFiNzpDcmVhdGVCdXR0b24oe05hbWUgPSAiWEEgSFVCIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGNvZGUuY29tL1hpbmd0YWlkdWFuL1NjcmlwdHMvcmF3L21haW4vTG9hZGVyLmx1YSIpKSgpCiAgICBlbmR9KQogICAgCiAgICAtLSBSQuiEmuacrOS4reW/gyBUYWIKICAgIGxvY2FsIFRhYjggPSBXaW5kb3c6Q3JlYXRlVGFiKCJSQuiEmuacrCIsIDc3MzM3Nzk2MTApCiAgICBUYWI4OkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICJSYuiEmuacrCIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vWXVuZ2VuZ3hpbi9yb2Jsb3gvcmVmcy9oZWFkcy9tYWluL1JiLUh1YiIpKSgpCiAgICBlbmR9KQogICAgCiAgICAtLSDnlJ/lrZjkuI7mnYDmiYsgVGFiCiAgICBsb2NhbCBUYWI5ID0gV2luZG93OkNyZWF0ZVRhYigi55Sf5a2Y5LiO5p2A5omLIiwgNzczMzc3OTYxMCkKICAgIFRhYjk6Q3JlYXRlQnV0dG9uKHtOYW1lID0gIueUn+WtmOS4juadgOaJiyIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vTWlsYW4wOFN0dWRpby9DaGFpcldhcmUvbWFpbi9tYWluLmx1YSIpKSgpCiAgICBlbmR9KQogICAgCiAgICAtLSDniLHlvrfljY4gVGFiCiAgICBsb2NhbCBUYWIxMCA9IFdpbmRvdzpDcmVhdGVUYWIoIueIseW+t+WNjiIsIDc3MzM3Nzk2MTApCiAgICBUYWIxMDpDcmVhdGVCdXR0b24oe05hbWUgPSAi54ix5b635Y2OIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9ndW1hbmJhL1NjcmlwdHMvbWFpbi9FZHdhcmQiKSkoKQogICAgZW5kfSkKICAgIAogICAgLS0g5rS75LqGN+WkqSBUYWIKICAgIGxvY2FsIFRhYjExID0gV2luZG93OkNyZWF0ZVRhYigi5rS75LqGN+WkqSIsIDc3MzM3Nzk2MTApCiAgICBUYWIxMTpDcmVhdGVCdXR0b24oe05hbWUgPSAi5rS75LqGN+WkqSIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhd3NjcmlwdHMubmV0L3Jhdy9Vbml2ZXJzYWwtU2NyaXB0LTctZGF5cy10by1saXZlLTM2ODI0IikpKCkKICAgIGVuZH0pCiAgICAKICAgIC0tIOatu+mTgei9qCBUYWIKICAgIGxvY2FsIFRhYjEyID0gV2luZG93OkNyZWF0ZVRhYigi5q276ZOB6L2oIiwgNzczMzk3OTYxMCkKICAgIFRhYjEyOkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICLmrbvpk4HovagiLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2lvcGprbGJubXNzcy9TYW5zSHViU2NyaXB0L3JlZnMvaGVhZHMvbWFpbi9TYW5zSHViIikpKCkKICAgIGVuZH0pCgogICAgLS0g5LiA6Lev5ZCR6KW/5Yi36ZKxIFRhYgogICAgbG9jYWwgVGFiMTMgPSBXaW5kb3c6Q3JlYXRlVGFiKCLkuIDot6/lkJHopb8iLCA3NzMzOTc5NjEwKQogICAgVGFiMTM6Q3JlYXRlQnV0dG9uKHtOYW1lID0gIuS4gOi3r+WQkeilv+WIt+mSsSIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20veXhnaDE2NS95eGdoMTY1L21haW4v5LiA6Lev5ZCR6KW/IikpKCkKICAgIGVuZH0pCiAgICAgICAgCiAgICAtLSDoh6rnhLbngb7lrrMgVGFiCiAgICBsb2NhbCBUYWIxNCA9IFdpbmRvdzpDcmVhdGVUYWIoIuiHqueEtueBvuWusyIsIDc3MzM5Nzk2MTApCiAgICBUYWIxNDpDcmVhdGVCdXR0b24oe05hbWUgPSAi6Ieq54S254G+5a6z6buR5rSedjYiLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXdzY3JpcHRzLm5ldC9yYXcvVW5pdmVyc2FsLVNjcmlwdC1TdXBlci1yaW5nLVBhcnRzLVY2LTI4NTgxIikpKCkKICAgIGVuZH0pCgotLSDkv4TkuqXkv4Tlt54gVGFiCiAgICBsb2NhbCBUYWIxNSA9IFdpbmRvdzpDcmVhdGVUYWIoIuS/hOS6peS/hOW3niIsIDc3MzM5Nzk2MTApCiAgICBUYWIxNTpDcmVhdGVCdXR0b24oe05hbWUgPSAiWEHkv4TkuqXkv4Tlt54iLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1hpbmd0YWlkdWFuL1NjcmlwdC9yZWZzL2hlYWRzL21haW4vR2FtZXMv5L+E5Lql5L+E5beeLmx1YSIpKSgpCiAgICBlbmR9KQoKLS0g5aKo5rC05ri45oiPIFRhYgogICAgbG9jYWwgVGFiMTYgPSBXaW5kb3c6Q3JlYXRlVGFiKCLloqjmsLTmuLjmiI8iLCA3NzMzOTc5NjEwKQogICAgVGFiMTY6Q3JlYXRlQnV0dG9uKHtOYW1lID0gIlhB5aKo5rC05ri45oiPIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9YaW5ndGFpZHVhbi9TY3JpcHQvcmVmcy9oZWFkcy9tYWluL0dhbWVzL+WiqOawtOa4uOaIjy5sdWEiKSkoKQogICAgZW5kfSkKCi0tIDk55aScIFRhYgogICAgbG9jYWwgVGFiMTcgPSBXaW5kb3c6Q3JlYXRlVGFiKCI5OeWknCIsIDc3MzM5Nzk2MTApCiAgICBUYWIxNzpDcmVhdGVCdXR0b24oe05hbWUgPSAiWEE5OeWknCIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vWGluZ3RhaWR1YW4vU2NyaXB0L3JlZnMvaGVhZHMvbWFpbi9HYW1lcy/mo67mnpfkuK3nmoQ5OeWknC5sdWEiKSkoKQogICAgZW5kfSkKCi0tIGRvb3JzIFRhYgogICAgbG9jYWwgVGFiMTggPSBXaW5kb3c6Q3JlYXRlVGFiKCJkb29ycyIsIDc3MzM5Nzk2MTApCiAgICBUYWIxODpDcmVhdGVCdXR0b24oe05hbWUgPSAiZG9vcnPmsYnljJYiLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3LzY1VHdUOGphIikpKCkKICAgIGVuZH0pCgotLSDng4LmopfnpL7ljLogVGFiCiAgICBsb2NhbCBUYWIxOSA9IFdpbmRvdzpDcmVhdGVUYWIoIueDguail+ekvuWMuiIsIDc3MzM5Nzk2MTApCiAgICBUYWIxOTpDcmVhdGVCdXR0b24oe05hbWUgPSAi54OC5qKX56S+5Yy65Yi36ZKxIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9YT1RSWE9OWS9FYXN5U2NyaXB0L21haW4vU3Vhby5sdWF1JykpKCkKICAgIGVuZH0pCgogICAgLS0g6K6+572uVGFiCiAgICBsb2NhbCBUYWIyMCA9IFdpbmRvdzpDcmVhdGVUYWIoIuiuvue9riIsIDc3MzM3Nzk2MTApCiAgICBUYWIyMDpDcmVhdGVCdXR0b24oewogICAgICAgIE5hbWUgPSAi5LiA6ZSu5aSN5Yi2RGlzY29yZOmTvuaOpSIsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgICAgIGxvY2FsIGRpc2NvcmRMaW5rID0gImh0dHBzOi8vZGlzY29yZC5nZy94VlVmN0g5TSIKICAgICAgICAgICAgbG9jYWwgc3VjY2VzcyA9IENvcHlUb0NsaXBib2FyZChkaXNjb3JkTGluaykKICAgICAgICAgICAgU2hvd0NvcHlOb3RpZmljYXRpb24oc3VjY2VzcywgZGlzY29yZExpbmspCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIyMDpDcmVhdGVCdXR0b24oewogICAgICAgIE5hbWUgPSAi5riF55CG5a2Q5by56L+96Liq57O757ufIiwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICAgICAgQnVsbGV0U3lzdGVtLkRlc3Ryb3koKQogICAgICAgICAgICBSYXlmaWVsZDpOb3RpZnkoewogICAgICAgICAgICAgICAgVGl0bGUgPSAi57O757uf5riF55CGIiwKICAgICAgICAgICAgICAgIENvbnRlbnQgPSAi5a2Q5by56L+96Liq57O757uf5bey5riF55CGIiwKICAgICAgICAgICAgICAgIER1cmF0aW9uID0gMywKICAgICAgICAgICAgICAgIEltYWdlID0gNDQ4MzM2MjQ1OAogICAgICAgICAgICB9KQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgLS0g5b+N6ICF5rOo5YWl5Zmo5YW85a655oCn5qOA5p+lCiAgICBpZiBpZGVudGlmeWV4ZWN1dG9yIGFuZCBpZGVudGlmeWV4ZWN1dG9yKCk6bG93ZXIoKTpmaW5kKCJuaW5qYSIpIHRoZW4KICAgICAgICBSYXlmaWVsZDpOb3RpZnkoewogICAgICAgICAgICBUaXRsZSA9ICLms6jlhaXlmajmo4DmtYsiLAogICAgICAgICAgICBDb250ZW50ID0gIuW/jeiAheazqOWFpeWZqOW3suivhuWIq++8jOaJgOacieWKn+iDveWFvOWuuSIsCiAgICAgICAgICAgIER1cmF0aW9uID0gMywKICAgICAgICAgICAgSW1hZ2UgPSA0NDgzMzYyNDU4CiAgICAgICAgfSkKICAgIGVuZAogICAgCiAgICAtLSDpqozor4HpgJrov4flkI7mkq3mlL7liqjnlLsKICAgIENyZWF0ZVN0YXJyeUJhY2tncm91bmRBbmltYXRpb24oKQplbmQKCi0tIOebtOaOpeWIm+W7uuS4u+eql+WPo+WGheWuuQpDcmVhdGVNYWluV2luZG93Q29udGVudCgp")
loadstring(decoded)()
