-- Base64 解码器（Roblox 可用）
local b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
local b64lookup = {}
for i = 1, #b64chars do
    b64lookup[b64chars:sub(i, i)] = i - 1
end

local function base64_decode(data)
    data = data:gsub('[^%w%+%/%=]', '')
    local result = {}
    local n = 1
    while n <= #data do
        local a = b64lookup[data:sub(n, n)]
        local b = b64lookup[data:sub(n+1, n+1)]
        local c = b64lookup[data:sub(n+2, n+2)]
        local d = b64lookup[data:sub(n+3, n+3)]

        local x = (a * 262144) + (b * 4096) + ((c or 0) * 64) + (d or 0)
        result[#result+1] = string.char(
            math.floor(x / 65536) % 256,
            math.floor(x / 256) % 256,
            x % 256
        )
        n = n + 4
    end

    local pad = select(2, data:gsub('=', '='))
    if pad == 2 then
        result[#result] = result[#result]:sub(1, 1)
    elseif pad == 1 then
        result[#result] = result[#result]:sub(1, 2)
    end

    return table.concat(result)
end

-- ✅ 示例：解码并执行（仅限你自己的脚本）
local decoded = base64_decode("bG9jYWwgUmF5ZmllbGQgPSBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9zaXJpdXMubWVudS9yYXlmaWVsZCcpKSgpCgotLSDkvb/nlKggUmF5ZmllbGQg5YaF572u5a+G6ZKl57O757ufCmxvY2FsIFdpbmRvdyA9IFJheWZpZWxkOkNyZWF0ZVdpbmRvdyh7CiAgICBOYW1lID0gIuWdpOWdpOWkp+W4neiEmuacrCAtICIgLi4gKGlkZW50aWZ5ZXhlY3V0b3IgYW5kIGlkZW50aWZ5ZXhlY3V0b3IoKSBvciAi5pyq55+l5omn6KGM5ZmoIiksCiAgICBMb2FkaW5nVGl0bGUgPSAi5Z2k5Z2k5aSn5bid6ISa5pys5Yqg6L295LitIiwKICAgIExvYWRpbmdTdWJ0aXRsZSA9ICLlsIrkuqvnibnmnYPniYgiLAogICAgQ29uZmlndXJhdGlvblNhdmluZyA9IHsKICAgICAgICBFbmFibGVkID0gdHJ1ZSwKICAgICAgICBGb2xkZXJOYW1lID0gIkt1bmt1bkNvbmZpZyIsCiAgICAgICAgRmlsZU5hbWUgPSAiU2V0dGluZ3MiCiAgICB9LAogICAgRGlzY29yZCA9IHsKICAgICAgICBFbmFibGVkID0gZmFsc2UsCiAgICAgICAgSW52aXRlID0gImh0dHBzOi8vZGlzY29yZC5nZy8iLAogICAgICAgIFJlbWVtYmVySm9pbnMgPSB0cnVlCiAgICB9LAogICAgS2V5U3lzdGVtID0gdHJ1ZSwKICAgIEtleVNldHRpbmdzID0gewogICAgICAgIFRpdGxlID0gIuWdpOWdpOWkp+W4neiEmuacrOmqjOivgSIsCiAgICAgICAgU3VidGl0bGUgPSAi6K+36L6T5YWl5pyJ5pWI5a+G6ZKlIiwKICAgICAgICBOb3RlID0gIuayoeacieWvhumSpe+8n+WKoOWFpURpc2NvcmTojrflj5YiLAogICAgICAgIEZpbGVOYW1lID0gIkt1bmt1bktleSIsCiAgICAgICAgU2F2ZUtleSA9IHRydWUsCiAgICAgICAgR3JhYktleUZyb21TaXRlID0gZmFsc2UsCiAgICAgICAgS2V5ID0geyIyMDI1IiwgIjY2NiIsICJLVU5LVU42NjYiLCAiNjY2ZnJlZSIsICJUQUlZT1VZSVNJTEUifQogICAgfQp9KQoKLS0g5Z+656GA5pyN5Yqh5Y+Y6YePCmxvY2FsIFBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBMb2NhbFBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgUnVuU2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpCmxvY2FsIFVzZXJJbnB1dFNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQpsb2NhbCBDYW1lcmEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQoKLS0g5aSN5Yi25Yiw5Ymq6LS05p2/5Ye95pWwCmxvY2FsIGZ1bmN0aW9uIENvcHlUb0NsaXBib2FyZCh0ZXh0KQogICAgaWYgc2V0Y2xpcGJvYXJkIHRoZW4KICAgICAgICBzZXRjbGlwYm9hcmQodGV4dCkKICAgICAgICByZXR1cm4gdHJ1ZQogICAgZWxzZWlmIHdyaXRlY2xpcGJvYXJkIHRoZW4KICAgICAgICB3cml0ZWNsaXBib2FyZCh0ZXh0KQogICAgICAgIHJldHVybiB0cnVlCiAgICBlbHNlaWYgdG9jbGlwYm9hcmQgdGhlbgogICAgICAgIHRvY2xpcGJvYXJkKHRleHQpCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UKICAgICAgICBwcmludCgiW+WkjeWItuWGheWuuV0gIiAuLiB0ZXh0KQogICAgICAgIHJldHVybiBmYWxzZQogICAgZW5kCmVuZAoKLS0g5pi+56S66YCa55+l5Ye95pWwCmxvY2FsIGZ1bmN0aW9uIFNob3dOb3RpZmljYXRpb24odGl0bGUsIGNvbnRlbnQsIGR1cmF0aW9uKQogICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICBUaXRsZSA9IHRpdGxlLAogICAgICAgIENvbnRlbnQgPSBjb250ZW50LAogICAgICAgIER1cmF0aW9uID0gZHVyYXRpb24gb3IgMywKICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgIH0pCmVuZAoKLS0g5Yib5bu65Li756qX5Y+j5YaF5a65CmxvY2FsIGZ1bmN0aW9uIENyZWF0ZU1haW5XaW5kb3dDb250ZW50KCkKICAgIC0tIOWFrOWRiiBUYWIKICAgIGxvY2FsIFRhYjEgPSBXaW5kb3c6Q3JlYXRlVGFiKCLlhazlkYoiLCA3NzMzNzc5NjEwKQogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBnZXREYXRlKCkgcmV0dXJuIG9zLmRhdGUoIiVZLSVtLSVkICVIOiVNIikgZW5kCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRQbGF5ZXIoKQogICAgICAgIGxvY2FsIHAgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBbIueUqOaIt+WQjSJdICAgPSBwLk5hbWUsCiAgICAgICAgICAgIFsi5pi+56S65ZCNIl0gICA9IHAuRGlzcGxheU5hbWUsCiAgICAgICAgICAgIFsi55So5oi3SUQiXSAgID0gcC5Vc2VySWQsCiAgICAgICAgICAgIFsi5rOo5YaM5aSp5pWwIl0gPSBwLkFjY291bnRBZ2UsCiAgICAgICAgICAgIFsi5b2T5YmN5ri45oiPIl0gPSBnYW1lOkdldFNlcnZpY2UoIk1hcmtldHBsYWNlU2VydmljZSIpOkdldFByb2R1Y3RJbmZvKGdhbWUuUGxhY2VJZCkuTmFtZQogICAgICAgIH0KICAgIGVuZAogICAgCiAgICBUYWIxOkNyZWF0ZVNlY3Rpb24oIuezu+e7n+S/oeaBryIpCiAgICBUYWIxOkNyZWF0ZUxhYmVsKCLwn5OFIOW9k+WJjeaXtumXtDogIiAuLiBnZXREYXRlKCkpCiAgICAKICAgIGZvciBrLCB2IGluIHBhaXJzKGdldFBsYXllcigpKSBkbwogICAgICAgIFRhYjE6Q3JlYXRlTGFiZWwoayAuLiAi77yaICIgLi4gdG9zdHJpbmcodikpCiAgICBlbmQKICAgIAogICAgVGFiMTpDcmVhdGVCdXR0b24oewogICAgICAgIE5hbWUgPSAi5LiA6ZSu5aSN5Yi2UVHlj7ciLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkgCiAgICAgICAgICAgIGxvY2FsIHN1Y2Nlc3MgPSBDb3B5VG9DbGlwYm9hcmQoIjkxMzM0ODI4NSIpCiAgICAgICAgICAgIGlmIHN1Y2Nlc3MgdGhlbgogICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigi5aSN5Yi25oiQ5YqfIiwgIlFR5Y+35bey5aSN5Yi25Yiw5Ymq6LS05p2/OiA5MTMzNDgyODUiKQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLlpI3liLblpLHotKUiLCAi6K+35omL5Yqo5aSN5Yi25o6n5Yi25Y+w5Lit55qE5YaF5a65IiwgNSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjE6Q3JlYXRlQnV0dG9uKHsKICAgICAgICBOYW1lID0gIuS4gOmUruWkjeWItkRpc2NvcmTpk77mjqUiLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgICAgICBsb2NhbCBzdWNjZXNzID0gQ29weVRvQ2xpcGJvYXJkKCJodHRwczovL2Rpc2NvcmQuZ2cveFZVZjdIOU0iKQogICAgICAgICAgICBpZiBzdWNjZXNzIHRoZW4KICAgICAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oIuWkjeWItuaIkOWKnyIsICJEaXNjb3Jk6ZO+5o6l5bey5aSN5Yi25Yiw5Ymq6LS05p2/IikKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigi5aSN5Yi25aSx6LSlIiwgIuivt+aJi+WKqOWkjeWItuaOp+WItuWPsOS4reeahOWGheWuuSIsIDUpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgLS0g5Lq654mp5Yqf6IO9IFRhYgogICAgbG9jYWwgVGFiMiA9IFdpbmRvdzpDcmVhdGVUYWIoIuS6uueJqeWKn+iDvSIsIDc3MzM3Nzk2MTApCiAgICAKICAgIC0tIOWIoOmZpOmYtOW9seWKn+iDvQogICAgVGFiMjpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5Yig6Zmk6Zi05b2xIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGdhbWUuTGlnaHRpbmcuR2xvYmFsU2hhZG93cyA9IG5vdCB2CiAgICAgICAgICAgIGZvciBfLCBvYmogaW4gaXBhaXJzKHdvcmtzcGFjZTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgaWYgb2JqOklzQSgiQmFzZVBhcnQiKSBvciBvYmo6SXNBKCJNZXNoUGFydCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBvYmouQ2FzdFNoYWRvdyA9IG5vdCB2CiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oIuaPkOekuiIsIHYgYW5kICLpmLTlvbHlt7LliKDpmaQiIG9yICLpmLTlvbHlt7LmgaLlpI0iLCAyKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgLS0g5LiJ6ZSB5a6a57O757ufCiAgICBsb2NhbCBsb2NrU3BlZWQsIGxvY2tKdW1wLCBsb2NrR3JhdiA9IGZhbHNlLCBmYWxzZSwgZmFsc2UKICAgIGxvY2FsIHNhdmVkU3BlZWQsIHNhdmVkSnVtcCwgc2F2ZWRHcmF2ID0gMTYsIDUwLCAxOTYKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gYXBwbHlDaGFyYWN0ZXJWYWx1ZXMoKQogICAgICAgIGxvY2FsIGNoYXIgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICBpZiBub3QgY2hhciB0aGVuIHJldHVybiBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBodW1hbm9pZCA9IGNoYXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICAgICAgaWYgbm90IGh1bWFub2lkIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIAogICAgICAgIGlmIGxvY2tTcGVlZCB0aGVuIGh1bWFub2lkLldhbGtTcGVlZCA9IHNhdmVkU3BlZWQgZW5kCiAgICAgICAgaWYgbG9ja0p1bXAgdGhlbiBodW1hbm9pZC5KdW1wUG93ZXIgPSBzYXZlZEp1bXAgZW5kCiAgICAgICAgaWYgbG9ja0dyYXYgdGhlbiB3b3Jrc3BhY2UuR3Jhdml0eSA9IHNhdmVkR3JhdiBlbmQKICAgIGVuZAogICAgCiAgICBMb2NhbFBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICB3YWl0KDAuNSkKICAgICAgICBhcHBseUNoYXJhY3RlclZhbHVlcygpCiAgICBlbmQpCiAgICAKICAgIFRhYjI6Q3JlYXRlU2VjdGlvbigi5LiJ6ZSB5a6aIikKICAgIFRhYjI6Q3JlYXRlSW5wdXQoewogICAgICAgIE5hbWUgPSAi56e75Yqo6YCf5bqmIiwgCiAgICAgICAgUGxhY2Vob2xkZXJUZXh0ID0gdG9zdHJpbmcoc2F2ZWRTcGVlZCksCiAgICAgICAgUmVtb3ZlVGV4dEFmdGVyRm9jdXNMb3N0ID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih0eHQpIAogICAgICAgICAgICBzYXZlZFNwZWVkID0gdG9udW1iZXIodHh0KSBvciAxNiAKICAgICAgICAgICAgYXBwbHlDaGFyYWN0ZXJWYWx1ZXMoKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVJbnB1dCh7CiAgICAgICAgTmFtZSA9ICLot7Pot4Ppq5jluqYiLCAKICAgICAgICBQbGFjZWhvbGRlclRleHQgPSB0b3N0cmluZyhzYXZlZEp1bXApLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgc2F2ZWRKdW1wID0gdG9udW1iZXIodHh0KSBvciA1MCAKICAgICAgICAgICAgYXBwbHlDaGFyYWN0ZXJWYWx1ZXMoKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVJbnB1dCh7CiAgICAgICAgTmFtZSA9ICLph43lipvlgLwiLCAKICAgICAgICBQbGFjZWhvbGRlclRleHQgPSB0b3N0cmluZyhzYXZlZEdyYXYpLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgc2F2ZWRHcmF2ID0gdG9udW1iZXIodHh0KSBvciAxOTYgCiAgICAgICAgICAgIGFwcGx5Q2hhcmFjdGVyVmFsdWVzKCkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIumUgeWumuenu+mAnyIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIAogICAgICAgICAgICBsb2NrU3BlZWQgPSB2CiAgICAgICAgICAgIGFwcGx5Q2hhcmFjdGVyVmFsdWVzKCkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIumUgeWumui3s+i3gyIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIAogICAgICAgICAgICBsb2NrSnVtcCA9IHYKICAgICAgICAgICAgYXBwbHlDaGFyYWN0ZXJWYWx1ZXMoKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi6ZSB5a6a6YeN5YqbIiwgCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmFsc2UsIAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgCiAgICAgICAgICAgIGxvY2tHcmF2ID0gdgogICAgICAgICAgICBhcHBseUNoYXJhY3RlclZhbHVlcygpCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICAtLSDpo57ooYzns7vnu58KICAgIGxvY2FsIGZseWluZyA9IGZhbHNlCiAgICBsb2NhbCBmbHlTcGVlZCA9IDUwCiAgICBsb2NhbCBiZywgYnYKICAgIGxvY2FsIGN0cmwgPSB7ZiA9IDAsIGIgPSAwLCBsID0gMCwgciA9IDAsIHUgPSAwLCBkID0gMH0KICAgIGxvY2FsIGZseUNvbm5lY3Rpb24KICAgIAogICAgbG9jYWwgZnVuY3Rpb24gZmx5TG9vcCgpCiAgICAgICAgd2hpbGUgZmx5aW5nIGFuZCBSdW5TZXJ2aWNlLkhlYXJ0YmVhdDpXYWl0KCkgZG8KICAgICAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIgdGhlbiBicmVhayBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHRvcnNvID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpIG9yIAogICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiVXBwZXJUb3JzbyIpCiAgICAgICAgICAgIGlmIG5vdCB0b3JzbyB0aGVuIGJyZWFrIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgbW92ZURpcmVjdGlvbiA9IFZlY3RvcjMubmV3KGN0cmwuciAtIGN0cmwubCwgY3RybC51IC0gY3RybC5kLCBjdHJsLmIgLSBjdHJsLmYpCiAgICAgICAgICAgIGlmIG1vdmVEaXJlY3Rpb24uTWFnbml0dWRlID4gMCB0aGVuCiAgICAgICAgICAgICAgICBtb3ZlRGlyZWN0aW9uID0gbW92ZURpcmVjdGlvbi5Vbml0CiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgY2FtZXJhID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKICAgICAgICAgICAgbG9jYWwgY2FtZXJhQ0ZyYW1lID0gY2FtZXJhLkNGcmFtZQogICAgICAgICAgICBsb2NhbCBjYW1lcmFMb29rVmVjdG9yID0gY2FtZXJhQ0ZyYW1lLkxvb2tWZWN0b3IKICAgICAgICAgICAgbG9jYWwgY2FtZXJhUmlnaHRWZWN0b3IgPSBjYW1lcmFDRnJhbWUuUmlnaHRWZWN0b3IKICAgICAgICAgICAgbG9jYWwgY2FtZXJhVXBWZWN0b3IgPSBjYW1lcmFDRnJhbWUuVXBWZWN0b3IKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHZlbG9jaXR5ID0gKGNhbWVyYUxvb2tWZWN0b3IgKiBtb3ZlRGlyZWN0aW9uLlogKiBmbHlTcGVlZCkgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNhbWVyYVJpZ2h0VmVjdG9yICogbW92ZURpcmVjdGlvbi5YICogZmx5U3BlZWQpICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjYW1lcmFVcFZlY3RvciAqIG1vdmVEaXJlY3Rpb24uWSAqIGZseVNwZWVkKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgYnYgdGhlbgogICAgICAgICAgICAgICAgYnYuVmVsb2NpdHkgPSB2ZWxvY2l0eQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG1vdmVEaXJlY3Rpb24uTWFnbml0dWRlID4gMCBhbmQgYmcgdGhlbgogICAgICAgICAgICAgICAgYmcuQ0ZyYW1lID0gY2FtZXJhQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcygKICAgICAgICAgICAgICAgICAgICAtbWF0aC5yYWQobW92ZURpcmVjdGlvbi5aICogMTUpLAogICAgICAgICAgICAgICAgICAgIG1hdGgucmFkKG1vdmVEaXJlY3Rpb24uWCAqIDE1KSwKICAgICAgICAgICAgICAgICAgICAwCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIHN0YXJ0Rmx5aW5nKCkKICAgICAgICBpZiBmbHlpbmcgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgaWYgbm90IGNoYXJhY3RlciB0aGVuIAogICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLpo57ooYzplJnor68iLCAi5om+5LiN5Yiw6KeS6ImyIiwgMykKICAgICAgICAgICAgcmV0dXJuIAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIGh1bWFub2lkID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgIGlmIG5vdCBodW1hbm9pZCB0aGVuIAogICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLpo57ooYzplJnor68iLCAi5om+5LiN5YiwSHVtYW5vaWQiLCAzKQogICAgICAgICAgICByZXR1cm4gCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgZmx5aW5nID0gdHJ1ZQogICAgICAgIAogICAgICAgIGxvY2FsIHRvcnNvID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgCiAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlRvcnNvIikgb3IgCiAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlVwcGVyVG9yc28iKQogICAgICAgIGlmIG5vdCB0b3JzbyB0aGVuIAogICAgICAgICAgICBmbHlpbmcgPSBmYWxzZQogICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLpo57ooYzplJnor68iLCAi5om+5LiN5Yiw6Lqr5L2T6YOo5L2NIiwgMykKICAgICAgICAgICAgcmV0dXJuIAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGJnID0gSW5zdGFuY2UubmV3KCJCb2R5R3lybyIsIHRvcnNvKQogICAgICAgIGJnLlAgPSA5ZTQKICAgICAgICBiZy5tYXhUb3JxdWUgPSBWZWN0b3IzLm5ldyg5ZTksIDllOSwgOWU5KQogICAgICAgIGJnLmNmcmFtZSA9IHRvcnNvLkNGcmFtZQogICAgICAgIAogICAgICAgIGJ2ID0gSW5zdGFuY2UubmV3KCJCb2R5VmVsb2NpdHkiLCB0b3JzbykKICAgICAgICBidi5WZWxvY2l0eSA9IFZlY3RvcjMubmV3KDAsIDAuMSwgMCkKICAgICAgICBidi5NYXhGb3JjZSA9IFZlY3RvcjMubmV3KDllOSwgOWU5LCA5ZTkpCiAgICAgICAgCiAgICAgICAgaHVtYW5vaWQuUGxhdGZvcm1TdGFuZCA9IHRydWUKICAgICAgICAKICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLpo57ooYzmqKHlvI8iLCAi6aOe6KGM5bey5ZCv55SoICjpgJ/luqY6ICIgLi4gZmx5U3BlZWQgLi4gIikiLCAzKQogICAgICAgIAogICAgICAgIGZseUNvbm5lY3Rpb24gPSBSdW5TZXJ2aWNlLkhlYXJ0YmVhdDpDb25uZWN0KGZseUxvb3ApCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gc3RvcEZseWluZygpCiAgICAgICAgaWYgbm90IGZseWluZyB0aGVuIHJldHVybiBlbmQKICAgICAgICBmbHlpbmcgPSBmYWxzZQogICAgICAgIAogICAgICAgIGlmIGJnIHRoZW4gYmc6RGVzdHJveSgpIGJnID0gbmlsIGVuZAogICAgICAgIGlmIGJ2IHRoZW4gYnY6RGVzdHJveSgpIGJ2ID0gbmlsIGVuZAogICAgICAgIGlmIGZseUNvbm5lY3Rpb24gdGhlbiBmbHlDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKSBmbHlDb25uZWN0aW9uID0gbmlsIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIGNoYXJhY3RlciA9IExvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgIGlmIGNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgIGxvY2FsIGh1bWFub2lkID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgICAgICBpZiBodW1hbm9pZCB0aGVuCiAgICAgICAgICAgICAgICBodW1hbm9pZC5QbGF0Zm9ybVN0YW5kID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgY3RybCA9IHtmID0gMCwgYiA9IDAsIGwgPSAwLCByID0gMCwgdSA9IDAsIGQgPSAwfQogICAgICAgIAogICAgICAgIFNob3dOb3RpZmljYXRpb24oIumjnuihjOaooeW8jyIsICLpo57ooYzlt7LnpoHnlKgiLCAzKQogICAgZW5kCiAgICAKICAgIGxvY2FsIGlucHV0QmVnYW5Db25uLCBpbnB1dEVuZGVkQ29ubgogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBzZXR1cElucHV0KCkKICAgICAgICBpZiBpbnB1dEJlZ2FuQ29ubiB0aGVuIGlucHV0QmVnYW5Db25uOkRpc2Nvbm5lY3QoKSBlbmQKICAgICAgICBpZiBpbnB1dEVuZGVkQ29ubiB0aGVuIGlucHV0RW5kZWRDb25uOkRpc2Nvbm5lY3QoKSBlbmQKICAgICAgICAKICAgICAgICBpbnB1dEJlZ2FuQ29ubiA9IFVzZXJJbnB1dFNlcnZpY2UuSW5wdXRCZWdhbjpDb25uZWN0KGZ1bmN0aW9uKGlucHV0KQogICAgICAgICAgICBpZiBub3QgZmx5aW5nIHRoZW4gcmV0dXJuIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVyB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmYgPSAxCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5TIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwuYiA9IDEKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkEgdGhlbgogICAgICAgICAgICAgICAgY3RybC5sID0gMQogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRCB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLnIgPSAxCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5TcGFjZSB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLnUgPSAxCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MZWZ0Q29udHJvbCB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmQgPSAxCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgICAgICAKICAgICAgICBpbnB1dEVuZGVkQ29ubiA9IFVzZXJJbnB1dFNlcnZpY2UuSW5wdXRFbmRlZDpDb25uZWN0KGZ1bmN0aW9uKGlucHV0KQogICAgICAgICAgICBpZiBub3QgZmx5aW5nIHRoZW4gcmV0dXJuIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVyB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmYgPSAwCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5TIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwuYiA9IDAKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkEgdGhlbgogICAgICAgICAgICAgICAgY3RybC5sID0gMAogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRCB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLnIgPSAwCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5TcGFjZSB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLnUgPSAwCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MZWZ0Q29udHJvbCB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmQgPSAwCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAogICAgCiAgICBMb2NhbFBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBzdG9wRmx5aW5nKCkKICAgIGVuZCkKICAgIAogICAgVGFiMjpDcmVhdGVTZWN0aW9uKCLpo57ooYzlip/og70iKQogICAgCiAgICBUYWIyOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlkK/nlKjpo57ooYwiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgaWYgdiB0aGVuCiAgICAgICAgICAgICAgICBzdGFydEZseWluZygpCiAgICAgICAgICAgICAgICBzZXR1cElucHV0KCkKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgc3RvcEZseWluZygpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi6aOe6KGM6YCf5bqmIiwKICAgICAgICBSYW5nZSA9IHsxMCwgMjAwfSwKICAgICAgICBJbmNyZW1lbnQgPSA1LAogICAgICAgIFN1ZmZpeCA9ICLljZXkvY0iLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZseVNwZWVkLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIGZseVNwZWVkID0gdmFsdWUKICAgICAgICAgICAgaWYgZmx5aW5nIHRoZW4KICAgICAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oIumjnuihjOaooeW8jyIsICLpo57ooYzpgJ/luqbmm7TmlrDkuLo6ICIgLi4gZmx5U3BlZWQsIDIpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVMYWJlbCgi5o6n5Yi25pa55byPOiIpCiAgICBUYWIyOkNyZWF0ZUxhYmVsKCJXL0EvUy9EIC0g5YmN5ZCO5bem5Y+z56e75YqoIikKICAgIFRhYjI6Q3JlYXRlTGFiZWwoIuepuuagvOmUriAtIOWQkeS4iumjnuihjCIpCiAgICBUYWIyOkNyZWF0ZUxhYmVsKCJDdHJs6ZSuIC0g5ZCR5LiL6aOe6KGMIikKCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLS0gQUktQWltYm90IOezu+e7nwogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGxvY2FsIFRhYjMgPSBXaW5kb3c6Q3JlYXRlVGFiKCJBSS1BaW1ib3QiLCA3NzMzOTYxNzQ4KQogICAgCiAgICAtLSBBaW1ib3Qg6YCa55So5Y+C5pWwCiAgICBsb2NhbCBhaW1ib3RFbmFibGVkID0gZmFsc2UKICAgIGxvY2FsIGFpbWJvdFNtb290aCA9IDAuMzUKICAgIGxvY2FsIGFpbWJvdEJvbmUgPSAiSGVhZCIKICAgIGxvY2FsIGFpbWJvdFByZWRpY3Rpb24gPSAwLjEyCiAgICBsb2NhbCBhaW1ib3REZWxheSA9IDAuMDgKICAgIGxvY2FsIGFpbWJvdENoZWNrVGVhbSA9IGZhbHNlCiAgICBsb2NhbCBsYXN0RmlyZSA9IDAKICAgIGxvY2FsIGFpbWJvdENvbm4KICAgIGxvY2FsIGFpbWJvdE1vZGUgPSAiRGlzdGFuY2UiCiAgICBsb2NhbCB3YWxsQ2hlY2tFbmFibGVkID0gZmFsc2UKICAgIGxvY2FsIGFpbUxpbmVFbmFibGVkID0gZmFsc2UKICAgIAogICAgLS0g5Yid5aeL5YyW6Ieq556E57q/5p2hCiAgICBsb2NhbCBhaW1MaW5lID0gRHJhd2luZy5uZXcoIkxpbmUiKQogICAgYWltTGluZS5WaXNpYmxlID0gZmFsc2UKICAgIGFpbUxpbmUuVGhpY2tuZXNzID0gMS41CiAgICBhaW1MaW5lLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMCwgMjU1LCAwKQogICAgYWltTGluZS5aSW5kZXggPSAxMQogICAgCiAgICAtLSBGT1Yg57O757ufCiAgICBsb2NhbCBtb3VzZUZPViA9IDEyMAogICAgbG9jYWwgbW91c2VGb3ZDaXJjbGUgPSBEcmF3aW5nLm5ldygiQ2lyY2xlIikKICAgIG1vdXNlRm92Q2lyY2xlLk51bVNpZGVzID0gNjQKICAgIG1vdXNlRm92Q2lyY2xlLlJhZGl1cyA9IG1vdXNlRk9WCiAgICBtb3VzZUZvdkNpcmNsZS5UaGlja25lc3MgPSAxLjUKICAgIG1vdXNlRm92Q2lyY2xlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LDI1NSwyNTUpCiAgICBtb3VzZUZvdkNpcmNsZS5GaWxsZWQgPSBmYWxzZQogICAgbW91c2VGb3ZDaXJjbGUuVmlzaWJsZSA9IGZhbHNlCiAgICBtb3VzZUZvdkNpcmNsZS5aSW5kZXggPSAxMAogICAgCiAgICBsb2NhbCBmaXhlZEZPViA9IDkwCiAgICBsb2NhbCBmaXhlZEZvdkNpcmNsZSA9IERyYXdpbmcubmV3KCJDaXJjbGUiKQogICAgZml4ZWRGb3ZDaXJjbGUuTnVtU2lkZXMgPSA2NAogICAgZml4ZWRGb3ZDaXJjbGUuUmFkaXVzID0gZml4ZWRGT1YKICAgIGZpeGVkRm92Q2lyY2xlLlRoaWNrbmVzcyA9IDEuNQogICAgZml4ZWRGb3ZDaXJjbGUuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNTUsMTY1LDApCiAgICBmaXhlZEZvdkNpcmNsZS5GaWxsZWQgPSBmYWxzZQogICAgZml4ZWRGb3ZDaXJjbGUuVmlzaWJsZSA9IGZhbHNlCiAgICBmaXhlZEZvdkNpcmNsZS5aSW5kZXggPSA5CiAgICAKICAgIC0tIOWbuuWumuWchuS4reW/g+iuvue9rgogICAgbG9jYWwgZnVuY3Rpb24gc2V0Rml4ZWRDZW50ZXIoKQogICAgICAgIGxvY2FsIGNlbnRlciA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkvMikKICAgICAgICBmaXhlZEZvdkNpcmNsZS5Qb3NpdGlvbiA9IGNlbnRlcgogICAgICAgIGFpbUxpbmUuRnJvbSA9IGNlbnRlcgogICAgZW5kCiAgICBDYW1lcmE6R2V0UHJvcGVydHlDaGFuZ2VkU2lnbmFsKCJWaWV3cG9ydFNpemUiKTpDb25uZWN0KHNldEZpeGVkQ2VudGVyKQogICAgc2V0Rml4ZWRDZW50ZXIoKQogICAgCiAgICAtLSDlt6Xlhbflh73mlbAKICAgIGxvY2FsIGZ1bmN0aW9uIGdldEFpbVBvcyhjaGFyYWN0ZXIpCiAgICAgICAgaWYgbm90IGNoYXJhY3RlciB0aGVuIHJldHVybiBuaWwgZW5kCiAgICAgICAgbG9jYWwgcm9vdCA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgbG9jYWwgYm9uZSA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZChhaW1ib3RCb25lKSBvciBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkhlYWQiKQogICAgICAgIGlmIG5vdCAocm9vdCBhbmQgYm9uZSkgdGhlbiByZXR1cm4gbmlsIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIHZlbCA9IHJvb3QuVmVsb2NpdHkKICAgICAgICByZXR1cm4gYm9uZS5Qb3NpdGlvbiArIHZlbCAqIGFpbWJvdFByZWRpY3Rpb24KICAgIGVuZAogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBpc1Zpc2libGUocG9zLCB0YXJnZXRDaGFyYWN0ZXIpCiAgICAgICAgaWYgbm90IHdhbGxDaGVja0VuYWJsZWQgdGhlbiByZXR1cm4gdHJ1ZSBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBvcmlnaW4gPSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uCiAgICAgICAgbG9jYWwgZGlyZWN0aW9uID0gKHBvcyAtIG9yaWdpbikuVW5pdAogICAgICAgIGxvY2FsIHJheSA9IFJheS5uZXcob3JpZ2luLCBkaXJlY3Rpb24gKiAob3JpZ2luIC0gcG9zKS5NYWduaXR1ZGUpCiAgICAgICAgCiAgICAgICAgbG9jYWwgaWdub3JlTGlzdCA9IHtMb2NhbFBsYXllci5DaGFyYWN0ZXIsIENhbWVyYX0KICAgICAgICBpZiB0YXJnZXRDaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICB0YWJsZS5pbnNlcnQoaWdub3JlTGlzdCwgdGFyZ2V0Q2hhcmFjdGVyKQogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIHBhcnQsIHBvc2l0aW9uID0gd29ya3NwYWNlOkZpbmRQYXJ0T25SYXlXaXRoSWdub3JlTGlzdChyYXksIGlnbm9yZUxpc3QpCiAgICAgICAgcmV0dXJuIHBhcnQgPT0gbmlsCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gaW5BbnlGT1Yod29ybGRQb3MpCiAgICAgICAgbG9jYWwgc2NyZWVuUG9zID0gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KHdvcmxkUG9zKQogICAgICAgIGlmIHNjcmVlblBvcy5aIDw9IDAgdGhlbiByZXR1cm4gZmFsc2UgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgbW91c2VQb3MgPSBVc2VySW5wdXRTZXJ2aWNlOkdldE1vdXNlTG9jYXRpb24oKQogICAgICAgIGxvY2FsIGNlbnRlciA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkvMikKICAgICAgICAKICAgICAgICBpZiBtb3VzZUZvdkNpcmNsZS5WaXNpYmxlIHRoZW4KICAgICAgICAgICAgaWYgKFZlY3RvcjIubmV3KHNjcmVlblBvcy5YLCBzY3JlZW5Qb3MuWSkgLSBtb3VzZVBvcykuTWFnbml0dWRlIDw9IG1vdXNlRk9WIHRoZW4KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGlmIGZpeGVkRm92Q2lyY2xlLlZpc2libGUgdGhlbgogICAgICAgICAgICBpZiAoVmVjdG9yMi5uZXcoc2NyZWVuUG9zLlgsIHNjcmVlblBvcy5ZKSAtIGNlbnRlcikuTWFnbml0dWRlIDw9IGZpeGVkRk9WIHRoZW4KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIHJldHVybiBmYWxzZQogICAgZW5kCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIGdldENsb3Nlc3QoKQogICAgICAgIGxvY2FsIGNsb3Nlc3QsIG1pbkRpc3QgPSBuaWwsIG1hdGguaHVnZQogICAgICAgIGxvY2FsIGNlbnRlciA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkvMikKICAgICAgICAKICAgICAgICBmb3IgXywgcGxyIGluIGlwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICAgICAgaWYgcGxyID09IExvY2FsUGxheWVyIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIGlmIGFpbWJvdENoZWNrVGVhbSBhbmQgcGxyLlRlYW0gYW5kIHBsci5UZWFtID09IExvY2FsUGxheWVyLlRlYW0gdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGNoYXIgPSBwbHIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGlmIG5vdCBjaGFyIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBhaW1Qb3MgPSBnZXRBaW1Qb3MoY2hhcikKICAgICAgICAgICAgaWYgbm90IGFpbVBvcyB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICBpZiBub3QgaW5BbnlGT1YoYWltUG9zKSB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgc3AgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQoYWltUG9zKQogICAgICAgICAgICBpZiBzcC5aIDw9IDAgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGlnbm9yZUxpc3QgPSB7TG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLCBDYW1lcmF9CiAgICAgICAgICAgIGlmIG5vdCBpc1Zpc2libGUoYWltUG9zLCBjaGFyKSB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZGlzdAogICAgICAgICAgICBpZiBhaW1ib3RNb2RlID09ICJEaXN0YW5jZSIgdGhlbgogICAgICAgICAgICAgICAgZGlzdCA9IChhaW1Qb3MgLSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uKS5NYWduaXR1ZGUKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZGlzdCA9IChWZWN0b3IyLm5ldyhzcC5YLCBzcC5ZKSAtIGNlbnRlcikuTWFnbml0dWRlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgZGlzdCA8IG1pbkRpc3QgdGhlbgogICAgICAgICAgICAgICAgbWluRGlzdCwgY2xvc2VzdCA9IGRpc3QsIHBscgogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICByZXR1cm4gY2xvc2VzdAogICAgZW5kCiAgICAKICAgIC0tIOWFvOWuuem8oOagh+eCueWHu+WHveaVsAogICAgbG9jYWwgbW91c2UxcHJlc3MgPSBtb3VzZTFwcmVzcyBvciBmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgdmltID0gZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIikKICAgICAgICB2aW06U2VuZE1vdXNlQnV0dG9uRXZlbnQoMCwwLDAsdHJ1ZSxnYW1lLDEpCiAgICBlbmQKICAgIAogICAgbG9jYWwgbW91c2UxcmVsZWFzZSA9IG1vdXNlMXJlbGVhc2Ugb3IgZnVuY3Rpb24oKQogICAgICAgIGxvY2FsIHZpbSA9IGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpCiAgICAgICAgdmltOlNlbmRNb3VzZUJ1dHRvbkV2ZW50KDAsMCwwLGZhbHNlLGdhbWUsMSkKICAgIGVuZAogICAgCiAgICAtLSDkuLvlvqrnjq8KICAgIGxvY2FsIGZ1bmN0aW9uIHN0YXJ0QWltYm90KCkKICAgICAgICBpZiBhaW1ib3RDb25uIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIAogICAgICAgIGFpbWJvdENvbm4gPSBSdW5TZXJ2aWNlLlJlbmRlclN0ZXBwZWQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIG5vdCBhaW1ib3RFbmFibGVkIHRoZW4gCiAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgcmV0dXJuIAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIG1vdXNlRm92Q2lyY2xlLlBvc2l0aW9uID0gVXNlcklucHV0U2VydmljZTpHZXRNb3VzZUxvY2F0aW9uKCkKCiAgICAgICAgICAgIGxvY2FsIHRhcmdldCA9IGdldENsb3Nlc3QoKQogICAgICAgICAgICBpZiBub3QgdGFyZ2V0IG9yIG5vdCB0YXJnZXQuQ2hhcmFjdGVyIHRoZW4gCiAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgcmV0dXJuIAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGFpbVBvcyA9IGdldEFpbVBvcyh0YXJnZXQuQ2hhcmFjdGVyKQogICAgICAgICAgICBpZiBub3QgYWltUG9zIHRoZW4gCiAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgcmV0dXJuIAogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIGlmIGFpbUxpbmVFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHNjcmVlblBvcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludChhaW1Qb3MpCiAgICAgICAgICAgICAgICBpZiBzY3JlZW5Qb3MuWiA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgIGFpbUxpbmUuRnJvbSA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkvMikKICAgICAgICAgICAgICAgICAgICBhaW1MaW5lLlRvID0gVmVjdG9yMi5uZXcoc2NyZWVuUG9zLlgsIHNjcmVlblBvcy5ZKQogICAgICAgICAgICAgICAgICAgIGFpbUxpbmUuVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGFpbUxpbmUuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZGVsdGEgPSBhaW1Qb3MgLSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uCiAgICAgICAgICAgIGlmIGRlbHRhLk1hZ25pdHVkZSA8IDAuMDEgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCB0YXJnZXRDRiA9IENGcmFtZS5uZXcoQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbiwgQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbiArIGRlbHRhKQogICAgICAgICAgICBsb2NhbCBjdXJyZW50TG9vayA9IENhbWVyYS5DRnJhbWUuTG9va1ZlY3RvcgogICAgICAgICAgICBsb2NhbCB0YXJnZXRMb29rID0gdGFyZ2V0Q0YuTG9va1ZlY3RvcgogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZG90ID0gY3VycmVudExvb2s6RG90KHRhcmdldExvb2spCiAgICAgICAgICAgIGxvY2FsIGFuZ2xlID0gbWF0aC5hY29zKG1hdGguY2xhbXAoZG90LCAtMSwgMSkpCiAgICAgICAgICAgIGxvY2FsIG1heEFuZ2xlID0gbWF0aC5yYWQoOTApCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBhbmdsZSA8PSBtYXhBbmdsZSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCBzbW9vdGhGYWN0b3IgPSBtYXRoLmNsYW1wKGFpbWJvdFNtb290aCwgMC4wMSwgMC45OSkKICAgICAgICAgICAgICAgIGxvY2FsIG5ld0xvb2sgPSBjdXJyZW50TG9vazpMZXJwKHRhcmdldExvb2ssIDEgLSBzbW9vdGhGYWN0b3IpCiAgICAgICAgICAgICAgICBDYW1lcmEuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uLCBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uICsgbmV3TG9vaykKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICBpZiB0aWNrKCkgLSBsYXN0RmlyZSA+IGFpbWJvdERlbGF5IHRoZW4KICAgICAgICAgICAgICAgIG1vdXNlMXByZXNzKCkKICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjA1KQogICAgICAgICAgICAgICAgbW91c2UxcmVsZWFzZSgpCiAgICAgICAgICAgICAgICBsYXN0RmlyZSA9IHRpY2soKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gc3RvcEFpbWJvdCgpCiAgICAgICAgaWYgYWltYm90Q29ubiB0aGVuIAogICAgICAgICAgICBhaW1ib3RDb25uOkRpc2Nvbm5lY3QoKSAKICAgICAgICAgICAgYWltYm90Q29ubiA9IG5pbCAKICAgICAgICBlbmQKICAgICAgICBtb3VzZUZvdkNpcmNsZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICBmaXhlZEZvdkNpcmNsZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgZW5kCiAgICAKICAgIC0tIEFJLUFpbWJvdCDnlYzpnaIKICAgIFRhYjM6Q3JlYXRlU2VjdGlvbigiQUktQWltYm90IikKICAgIFRhYjM6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWQr+eUqCBBaW1ib3QiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgYWltYm90RW5hYmxlZCA9IHYKICAgICAgICAgICAgaWYgdiB0aGVuIAogICAgICAgICAgICAgICAgc3RhcnRBaW1ib3QoKQogICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigiQWltYm90IiwgIkFJ556E5YeG57O757uf5bey5ZCv55SoIiwgMikKICAgICAgICAgICAgZWxzZSAKICAgICAgICAgICAgICAgIHN0b3BBaW1ib3QoKQogICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigiQWltYm90IiwgIkFJ556E5YeG57O757uf5bey5YWz6ZetIiwgMikKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLku4XnnoTlh4bmlYzkuroiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGFpbWJvdENoZWNrVGVhbSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbWJvdENoZWNrVGVhbSA9IHYgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlopnkvZPmo4DmtYsiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IHdhbGxDaGVja0VuYWJsZWQsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSB3YWxsQ2hlY2tFbmFibGVkID0gdiBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuiHqueehOe6v+adoSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gYWltTGluZUVuYWJsZWQsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBhaW1MaW5lRW5hYmxlZCA9IHYgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZURyb3Bkb3duKHsKICAgICAgICBOYW1lID0gIueehOWHhuaWueW8jyIsCiAgICAgICAgT3B0aW9ucyA9IHsiRGlzdGFuY2UiLCAiQ3Jvc3NoYWlyIn0sCiAgICAgICAgQ3VycmVudE9wdGlvbiA9IGFpbWJvdE1vZGUsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBhaW1ib3RNb2RlID0gdiBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlU2VjdGlvbigi6Lef6ZqP6byg5qCHIEZPViIpCiAgICBUYWIzOkNyZWF0ZVRvZ2dsZSh7IAogICAgICAgIE5hbWUgPSAi5pi+56S66Lef6ZqPRk9WIiwgCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmFsc2UsIAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgbW91c2VGb3ZDaXJjbGUuVmlzaWJsZSA9IHYgZW5kIAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi5Y2K5b6EIiwKICAgICAgICBSYW5nZSA9IHswLCA1MDB9LAogICAgICAgIEluY3JlbWVudCA9IDUsCiAgICAgICAgU3VmZml4ID0gInB4IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBtb3VzZUZPViwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIAogICAgICAgICAgICBtb3VzZUZPViA9IHYKICAgICAgICAgICAgbW91c2VGb3ZDaXJjbGUuUmFkaXVzID0gdiAKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlU2VjdGlvbigi5Zu65a6a5Lit5b+DIEZPViIpCiAgICBUYWIzOkNyZWF0ZVRvZ2dsZSh7IAogICAgICAgIE5hbWUgPSAi5pi+56S65Zu65a6aRk9WIiwgCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmFsc2UsIAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgZml4ZWRGb3ZDaXJjbGUuVmlzaWJsZSA9IHYgZW5kIAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi5Y2K5b6EIiwKICAgICAgICBSYW5nZSA9IHswLCA1MDB9LAogICAgICAgIEluY3JlbWVudCA9IDUsCiAgICAgICAgU3VmZml4ID0gInB4IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBmaXhlZEZPViwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIAogICAgICAgICAgICBmaXhlZEZPViA9IHYKICAgICAgICAgICAgZml4ZWRGb3ZDaXJjbGUuUmFkaXVzID0gdiAKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlU2VjdGlvbigi6YCa55So5Y+C5pWwIikKICAgIFRhYjM6Q3JlYXRlU2xpZGVyKHsKICAgICAgICBOYW1lID0gIuW5s+a7keezu+aVsCIsCiAgICAgICAgUmFuZ2UgPSB7MCwgMX0sCiAgICAgICAgSW5jcmVtZW50ID0gMC4wMSwKICAgICAgICBTdWZmaXggPSAiIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBhaW1ib3RTbW9vdGgsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBhaW1ib3RTbW9vdGggPSB2IGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi6aKE5rWL5pe26Ze0IiwKICAgICAgICBSYW5nZSA9IHswLCAxfSwKICAgICAgICBJbmNyZW1lbnQgPSAwLjAxLAogICAgICAgIFN1ZmZpeCA9ICJzIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBhaW1ib3RQcmVkaWN0aW9uLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgYWltYm90UHJlZGljdGlvbiA9IHYgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVNsaWRlcih7CiAgICAgICAgTmFtZSA9ICLlvIDngavlu7bov58iLAogICAgICAgIFJhbmdlID0gezAsIDF9LAogICAgICAgIEluY3JlbWVudCA9IDAuMDEsCiAgICAgICAgU3VmZml4ID0gInMiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGFpbWJvdERlbGF5LAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgYWltYm90RGVsYXkgPSB2IGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVEcm9wZG93bih7CiAgICAgICAgTmFtZSA9ICLnnoTlh4bpqqjpqrwiLAogICAgICAgIE9wdGlvbnMgPSB7IkhlYWQiLCJOZWNrIiwiVXBwZXJUb3JzbyIsIkh1bWFub2lkUm9vdFBhcnQifSwKICAgICAgICBDdXJyZW50T3B0aW9uID0gYWltYm90Qm9uZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbWJvdEJvbmUgPSB2IGVuZAogICAgfSkKCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLS0g5aKe5by654mIRVNQ57O757ufCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgbG9jYWwgVGFiNCA9IFdpbmRvdzpDcmVhdGVUYWIoIumAj+inhuWKn+iDvSIsIDc3MzM5NjE3NDkpCiAgICAKICAgIGxvY2FsIGVzcEVuYWJsZWQgPSBmYWxzZQogICAgbG9jYWwgZXNwQ2FjaGUgPSB7fQogICAgbG9jYWwgdHJhY2VyUG9zaXRpb24gPSAiQm90dG9tIgogICAgbG9jYWwgZXNwU2hvd0VuZW15T25seSA9IGZhbHNlCiAgICAKICAgIC0tIEVTUCDlip/og73lvIDlhbMKICAgIGxvY2FsIGVzcFNob3dCb3ggPSB0cnVlCiAgICBsb2NhbCBlc3BTaG93TmFtZSA9IHRydWUKICAgIGxvY2FsIGVzcFNob3dEaXN0YW5jZSA9IHRydWUKICAgIGxvY2FsIGVzcFNob3dIZWFsdGhCYXIgPSB0cnVlCiAgICBsb2NhbCBlc3BTaG93SGVhbHRoVGV4dCA9IHRydWUKICAgIGxvY2FsIGVzcFNob3dUcmFjZXIgPSB0cnVlCiAgICBsb2NhbCBlc3BTaG93V2VhcG9uID0gZmFsc2UKICAgIGxvY2FsIGVzcFNob3dTa2VsZXRvbiA9IGZhbHNlCiAgICBsb2NhbCBlc3BTaG93T3V0T2ZWaWV3ID0gZmFsc2UKCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRUZWFtQ29sb3IocGxyKQogICAgICAgIGlmIHBsci5UZWFtIGFuZCBMb2NhbFBsYXllci5UZWFtIGFuZCBwbHIuVGVhbSA9PSBMb2NhbFBsYXllci5UZWFtIHRoZW4KICAgICAgICAgICAgcmV0dXJuIENvbG9yMy5mcm9tUkdCKDAsIDI1NSwgMCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBsb2NhbCBmdW5jdGlvbiBpc1RlYW1tYXRlKHBscikKICAgICAgICBpZiBwbHIuVGVhbSBhbmQgTG9jYWxQbGF5ZXIuVGVhbSBhbmQgcGxyLlRlYW0gPT0gTG9jYWxQbGF5ZXIuVGVhbSB0aGVuCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgZW5kCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICBlbmQKCiAgICBsb2NhbCBmdW5jdGlvbiBjcmVhdGVFU1BPYmplY3QocGxyKQogICAgICAgIGxvY2FsIGVzcCA9IHsKICAgICAgICAgICAgQm94ID0gRHJhd2luZy5uZXcoIlNxdWFyZSIpLAogICAgICAgICAgICBOYW1lID0gRHJhd2luZy5uZXcoIlRleHQiKSwKICAgICAgICAgICAgRGlzdGFuY2UgPSBEcmF3aW5nLm5ldygiVGV4dCIpLAogICAgICAgICAgICBIZWFsdGhCYXIgPSBEcmF3aW5nLm5ldygiU3F1YXJlIiksCiAgICAgICAgICAgIEhlYWx0aFRleHQgPSBEcmF3aW5nLm5ldygiVGV4dCIpLAogICAgICAgICAgICBUcmFjZXIgPSBEcmF3aW5nLm5ldygiTGluZSIpLAogICAgICAgICAgICBXZWFwb24gPSBEcmF3aW5nLm5ldygiVGV4dCIpCiAgICAgICAgfQogICAgICAgIAogICAgICAgIC0tIOaWueahhuiuvue9rgogICAgICAgIGVzcC5Cb3guVGhpY2tuZXNzID0gMgogICAgICAgIGVzcC5Cb3guRmlsbGVkID0gZmFsc2UKICAgICAgICBlc3AuQm94LlpJbmRleCA9IDUKICAgICAgICAKICAgICAgICAtLSDlkI3np7Dorr7nva4KICAgICAgICBlc3AuTmFtZS5TaXplID0gMTgKICAgICAgICBlc3AuTmFtZS5DZW50ZXIgPSB0cnVlCiAgICAgICAgZXNwLk5hbWUuT3V0bGluZSA9IHRydWUKICAgICAgICBlc3AuTmFtZS5aSW5kZXggPSA2CiAgICAgICAgCiAgICAgICAgLS0g6Led56a76K6+572uCiAgICAgICAgZXNwLkRpc3RhbmNlLlNpemUgPSAxNgogICAgICAgIGVzcC5EaXN0YW5jZS5DZW50ZXIgPSB0cnVlCiAgICAgICAgZXNwLkRpc3RhbmNlLk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLkRpc3RhbmNlLlpJbmRleCA9IDYKICAgICAgICAKICAgICAgICAtLSDooYDmnaHorr7nva4KICAgICAgICBlc3AuSGVhbHRoQmFyLkZpbGxlZCA9IHRydWUKICAgICAgICBlc3AuSGVhbHRoQmFyLlRoaWNrbmVzcyA9IDEKICAgICAgICBlc3AuSGVhbHRoQmFyLlpJbmRleCA9IDUKICAgICAgICAKICAgICAgICAtLSDooYDph4/mloflrZforr7nva4KICAgICAgICBlc3AuSGVhbHRoVGV4dC5TaXplID0gMTQKICAgICAgICBlc3AuSGVhbHRoVGV4dC5DZW50ZXIgPSB0cnVlCiAgICAgICAgZXNwLkhlYWx0aFRleHQuT3V0bGluZSA9IHRydWUKICAgICAgICBlc3AuSGVhbHRoVGV4dC5aSW5kZXggPSA2CiAgICAgICAgCiAgICAgICAgLS0g6L+96Liq57q/6K6+572uCiAgICAgICAgZXNwLlRyYWNlci5UaGlja25lc3MgPSAxLjUKICAgICAgICBlc3AuVHJhY2VyLlpJbmRleCA9IDQKICAgICAgICAKICAgICAgICAtLSDmrablmajorr7nva4KICAgICAgICBlc3AuV2VhcG9uLlNpemUgPSAxNAogICAgICAgIGVzcC5XZWFwb24uQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5XZWFwb24uT3V0bGluZSA9IHRydWUKICAgICAgICBlc3AuV2VhcG9uLlpJbmRleCA9IDYKICAgICAgICAKICAgICAgICBlc3BDYWNoZVtwbHJdID0gZXNwCiAgICAgICAgcmV0dXJuIGVzcAogICAgZW5kCgogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlRVNQKCkKICAgICAgICBpZiBub3QgZXNwRW5hYmxlZCB0aGVuIHJldHVybiBlbmQKICAgICAgICAKICAgICAgICBmb3IgXywgcGxyIGluIGlwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICAgICAgaWYgcGxyID09IExvY2FsUGxheWVyIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDlpoLmnpzlj6rmmL7npLrmlYzkurrkuJTmmK/pmJ/lj4vvvIzliJnpmpDol48KICAgICAgICAgICAgaWYgZXNwU2hvd0VuZW15T25seSBhbmQgaXNUZWFtbWF0ZShwbHIpIHRoZW4KICAgICAgICAgICAgICAgIGlmIGVzcENhY2hlW3Bscl0gdGhlbgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwQ2FjaGVbcGxyXSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgb2JqIGFuZCB0eXBlb2Yob2JqKSA9PSAidXNlcmRhdGEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgY2hhciA9IHBsci5DaGFyYWN0ZXIKICAgICAgICAgICAgaWYgbm90IGNoYXIgdGhlbgogICAgICAgICAgICAgICAgaWYgZXNwQ2FjaGVbcGxyXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3BDYWNoZVtwbHJdKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmogYW5kIHR5cGVvZihvYmopID09ICJ1c2VyZGF0YSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgY29udGludWUgCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgcm9vdCA9IGNoYXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQogICAgICAgICAgICBsb2NhbCBoZWFkID0gY2hhcjpGaW5kRmlyc3RDaGlsZCgiSGVhZCIpCiAgICAgICAgICAgIGxvY2FsIGh1bWFub2lkID0gY2hhcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG5vdCAocm9vdCBhbmQgaGVhZCBhbmQgaHVtYW5vaWQpIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCByb290UG9zLCByb290VmlzID0gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KHJvb3QuUG9zaXRpb24pCiAgICAgICAgICAgIGxvY2FsIGhlYWRQb3MsIGhlYWRWaXMgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQoaGVhZC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDEuNSwgMCkpCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBub3QgKHJvb3RWaXMgYW5kIGhlYWRWaXMpIHRoZW4KICAgICAgICAgICAgICAgIGlmIGVzcENhY2hlW3Bscl0gdGhlbgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwQ2FjaGVbcGxyXSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgb2JqIGFuZCB0eXBlb2Yob2JqKSA9PSAidXNlcmRhdGEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZXNwID0gZXNwQ2FjaGVbcGxyXSBvciBjcmVhdGVFU1BPYmplY3QocGxyKQogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgaGVpZ2h0ID0gKGhlYWRQb3MuWSAtIHJvb3RQb3MuWSkgKiAyCiAgICAgICAgICAgIGxvY2FsIHdpZHRoID0gaGVpZ2h0ICogMC42CiAgICAgICAgICAgIGxvY2FsIGxlZnQgPSBoZWFkUG9zLlggLSB3aWR0aCAvIDIKICAgICAgICAgICAgbG9jYWwgdG9wID0gaGVhZFBvcy5ZIC0gaGVpZ2h0ICogMC44CiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBjb2xvciA9IGdldFRlYW1Db2xvcihwbHIpCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDmlrnmoYYKICAgICAgICAgICAgaWYgZXNwU2hvd0JveCB0aGVuCiAgICAgICAgICAgICAgICBlc3AuQm94LlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICBlc3AuQm94LkNvbG9yID0gY29sb3IKICAgICAgICAgICAgICAgIGVzcC5Cb3guU2l6ZSA9IFZlY3RvcjIubmV3KHdpZHRoLCBoZWlnaHQpCiAgICAgICAgICAgICAgICBlc3AuQm94LlBvc2l0aW9uID0gVmVjdG9yMi5uZXcobGVmdCwgdG9wKQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBlc3AuQm94LlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOWQjeensAogICAgICAgICAgICBpZiBlc3BTaG93TmFtZSB0aGVuCiAgICAgICAgICAgICAgICBlc3AuTmFtZS5WaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICAgICAgZXNwLk5hbWUuQ29sb3IgPSBjb2xvcgogICAgICAgICAgICAgICAgZXNwLk5hbWUuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhoZWFkUG9zLlgsIHRvcCAtIDIwKQogICAgICAgICAgICAgICAgZXNwLk5hbWUuVGV4dCA9IHBsci5OYW1lCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGVzcC5OYW1lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOi3neemuwogICAgICAgICAgICBpZiBlc3BTaG93RGlzdGFuY2UgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgZGlzdGFuY2UgPSBtYXRoLmZsb29yKChyb290LlBvc2l0aW9uIC0gQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbikuTWFnbml0dWRlKQogICAgICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICBlc3AuRGlzdGFuY2UuQ29sb3IgPSBjb2xvcgogICAgICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoaGVhZFBvcy5YLCB0b3AgKyBoZWlnaHQgKyA1KQogICAgICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlRleHQgPSB0b3N0cmluZyhkaXN0YW5jZSkgLi4gIm0iCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDooYDmnaEKICAgICAgICAgICAgaWYgZXNwU2hvd0hlYWx0aEJhciB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCBoZWFsdGhQZXJjZW50ID0gbWF0aC5jbGFtcChodW1hbm9pZC5IZWFsdGggLyBodW1hbm9pZC5NYXhIZWFsdGgsIDAsIDEpCiAgICAgICAgICAgICAgICBsb2NhbCBiYXJXaWR0aCA9IHdpZHRoCiAgICAgICAgICAgICAgICBsb2NhbCBiYXJIZWlnaHQgPSA0CiAgICAgICAgICAgICAgICBsb2NhbCBiYXJYID0gbGVmdAogICAgICAgICAgICAgICAgbG9jYWwgYmFyWSA9IHRvcCArIGhlaWdodCArIDE1CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGVzcC5IZWFsdGhCYXIuVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgIGVzcC5IZWFsdGhCYXIuQ29sb3IgPSBDb2xvcjMubmV3KDEgLSBoZWFsdGhQZXJjZW50LCBoZWFsdGhQZXJjZW50LCAwKQogICAgICAgICAgICAgICAgZXNwLkhlYWx0aEJhci5TaXplID0gVmVjdG9yMi5uZXcoYmFyV2lkdGggKiBoZWFsdGhQZXJjZW50LCBiYXJIZWlnaHQpCiAgICAgICAgICAgICAgICBlc3AuSGVhbHRoQmFyLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoYmFyWCwgYmFyWSkKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZXNwLkhlYWx0aEJhci5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDooYDph4/mloflrZcKICAgICAgICAgICAgaWYgZXNwU2hvd0hlYWx0aFRleHQgdGhlbgogICAgICAgICAgICAgICAgZXNwLkhlYWx0aFRleHQuVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgIGVzcC5IZWFsdGhUZXh0LkNvbG9yID0gQ29sb3IzLm5ldygxLCAxLCAxKQogICAgICAgICAgICAgICAgZXNwLkhlYWx0aFRleHQuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhoZWFkUG9zLlgsIHRvcCArIGhlaWdodCArIDI1KQogICAgICAgICAgICAgICAgZXNwLkhlYWx0aFRleHQuVGV4dCA9IG1hdGguZmxvb3IoaHVtYW5vaWQuSGVhbHRoKSAuLiAiLyIgLi4gbWF0aC5mbG9vcihodW1hbm9pZC5NYXhIZWFsdGgpCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGVzcC5IZWFsdGhUZXh0LlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOatpuWZqOaYvuekugogICAgICAgICAgICBpZiBlc3BTaG93V2VhcG9uIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHRvb2wgPSBjaGFyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiVG9vbCIpCiAgICAgICAgICAgICAgICBpZiB0b29sIHRoZW4KICAgICAgICAgICAgICAgICAgICBlc3AuV2VhcG9uLlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgZXNwLldlYXBvbi5Db2xvciA9IGNvbG9yCiAgICAgICAgICAgICAgICAgICAgZXNwLldlYXBvbi5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KGhlYWRQb3MuWCwgdG9wICsgaGVpZ2h0ICsgNDApCiAgICAgICAgICAgICAgICAgICAgZXNwLldlYXBvbi5UZXh0ID0gdG9vbC5OYW1lCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgZXNwLldlYXBvbi5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBlc3AuV2VhcG9uLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOi/vei4que6vwogICAgICAgICAgICBpZiBlc3BTaG93VHJhY2VyIHRoZW4KICAgICAgICAgICAgICAgIGVzcC5UcmFjZXIuVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgIGVzcC5UcmFjZXIuQ29sb3IgPSBjb2xvcgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsb2NhbCBzdGFydFBvaW50CiAgICAgICAgICAgICAgICBpZiB0cmFjZXJQb3NpdGlvbiA9PSAiVG9wIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgc3RhcnRQb2ludCA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCAwKQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9pbnQgPSBWZWN0b3IyLm5ldyhDYW1lcmEuVmlld3BvcnRTaXplLlgvMiwgQ2FtZXJhLlZpZXdwb3J0U2l6ZS5ZKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIGVuZFBvaW50ID0gVmVjdG9yMi5uZXcoaGVhZFBvcy5YLCBoZWFkUG9zLlkpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGVzcC5UcmFjZXIuRnJvbSA9IHN0YXJ0UG9pbnQKICAgICAgICAgICAgICAgIGVzcC5UcmFjZXIuVG8gPSBlbmRQb2ludAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBlc3AuVHJhY2VyLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICAtLSDmuIXnkIbkuI3lrZjlnKjnmoTnjqnlrrYKICAgICAgICBmb3IgcGxyLCBlc3AgaW4gcGFpcnMoZXNwQ2FjaGUpIGRvCiAgICAgICAgICAgIGlmIG5vdCBwbHIgb3Igbm90IHBsci5QYXJlbnQgb3IgcGxyID09IExvY2FsUGxheWVyIHRoZW4KICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIG9iaiBhbmQgdHlwZW9mKG9iaikgPT0gInVzZXJkYXRhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgb2JqOlJlbW92ZSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVzcENhY2hlW3Bscl0gPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBsb2NhbCBlc3BMb29wCiAgICAKICAgIC0tIE5QQyDpgI/op4bns7vnu58KICAgIGxvY2FsIG5wY0VzcEVuYWJsZWQgPSBmYWxzZQogICAgbG9jYWwgbnBjRXNwQ2FjaGUgPSB7fQogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBjcmVhdGVOcGNFU1BPYmplY3QobW9kZWwpCiAgICAgICAgbG9jYWwgZXNwID0gewogICAgICAgICAgICBCb3ggPSBEcmF3aW5nLm5ldygiU3F1YXJlIiksCiAgICAgICAgICAgIE5hbWUgPSBEcmF3aW5nLm5ldygiVGV4dCIpLAogICAgICAgICAgICBEaXN0YW5jZSA9IERyYXdpbmcubmV3KCJUZXh0IikKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZXNwLkJveC5UaGlja25lc3MgPSAxLjUKICAgICAgICBlc3AuQm94LkZpbGxlZCA9IGZhbHNlCiAgICAgICAgZXNwLkJveC5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTY1LCAwKQogICAgICAgIGVzcC5Cb3guWkluZGV4ID0gNAogICAgICAgIAogICAgICAgIGVzcC5OYW1lLlNpemUgPSAxNgogICAgICAgIGVzcC5OYW1lLkNlbnRlciA9IHRydWUKICAgICAgICBlc3AuTmFtZS5PdXRsaW5lID0gdHJ1ZQogICAgICAgIGVzcC5OYW1lLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxNjUsIDApCiAgICAgICAgZXNwLk5hbWUuWkluZGV4ID0gNAogICAgICAgIAogICAgICAgIGVzcC5EaXN0YW5jZS5TaXplID0gMTQKICAgICAgICBlc3AuRGlzdGFuY2UuQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5EaXN0YW5jZS5PdXRsaW5lID0gdHJ1ZQogICAgICAgIGVzcC5EaXN0YW5jZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTY1LCAwKQogICAgICAgIGVzcC5EaXN0YW5jZS5aSW5kZXggPSA0CiAgICAgICAgCiAgICAgICAgbnBjRXNwQ2FjaGVbbW9kZWxdID0gZXNwCiAgICAgICAgcmV0dXJuIGVzcAogICAgZW5kCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZU5wY0VTUCgpCiAgICAgICAgaWYgbm90IG5wY0VzcEVuYWJsZWQgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgCiAgICAgICAgZm9yIF8sIG1vZGVsIGluIGlwYWlycyh3b3Jrc3BhY2U6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgaWYgbW9kZWw6SXNBKCJNb2RlbCIpIGFuZCBtb2RlbDpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikgYW5kIG5vdCBQbGF5ZXJzOkdldFBsYXllckZyb21DaGFyYWN0ZXIobW9kZWwpIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHJvb3QgPSBtb2RlbDpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIG1vZGVsOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpCiAgICAgICAgICAgICAgICBsb2NhbCBoZWFkID0gbW9kZWw6RmluZEZpcnN0Q2hpbGQoIkhlYWQiKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiBub3QgKHJvb3QgYW5kIGhlYWQpIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBucGNFc3BDYWNoZVttb2RlbF0gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKG5wY0VzcENhY2hlW21vZGVsXSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9iaiBhbmQgdHlwZW9mKG9iaikgPT0gInVzZXJkYXRhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbG9jYWwgcm9vdFBvcywgcm9vdFZpcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludChyb290LlBvc2l0aW9uKQogICAgICAgICAgICAgICAgbG9jYWwgaGVhZFBvcywgaGVhZFZpcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludChoZWFkLlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMS41LCAwKSkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgbm90IChyb290VmlzIGFuZCBoZWFkVmlzKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbnBjRXNwQ2FjaGVbbW9kZWxdIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhucGNFc3BDYWNoZVttb2RlbF0pIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmogYW5kIHR5cGVvZihvYmopID09ICJ1c2VyZGF0YSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIGVzcCA9IG5wY0VzcENhY2hlW21vZGVsXSBvciBjcmVhdGVOcGNFU1BPYmplY3QobW9kZWwpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIGhlaWdodCA9IChoZWFkUG9zLlkgLSByb290UG9zLlkpICogMgogICAgICAgICAgICAgICAgbG9jYWwgd2lkdGggPSBoZWlnaHQgKiAwLjYKICAgICAgICAgICAgICAgIGxvY2FsIGxlZnQgPSBoZWFkUG9zLlggLSB3aWR0aCAvIDIKICAgICAgICAgICAgICAgIGxvY2FsIHRvcCA9IGhlYWRQb3MuWSAtIGhlaWdodCAqIDAuOAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlc3AuQm94LlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICBlc3AuQm94LlNpemUgPSBWZWN0b3IyLm5ldyh3aWR0aCwgaGVpZ2h0KQogICAgICAgICAgICAgICAgZXNwLkJveC5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KGxlZnQsIHRvcCkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZXNwLk5hbWUuVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgIGVzcC5OYW1lLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoaGVhZFBvcy5YLCB0b3AgLSAxNSkKICAgICAgICAgICAgICAgIGVzcC5OYW1lLlRleHQgPSBtb2RlbC5OYW1lCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIGRpc3RhbmNlID0gbWF0aC5mbG9vcigocm9vdC5Qb3NpdGlvbiAtIENhbWVyYS5DRnJhbWUuUG9zaXRpb24pLk1hZ25pdHVkZSkKICAgICAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5WaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoaGVhZFBvcy5YLCB0b3AgKyBoZWlnaHQgKyA1KQogICAgICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlRleHQgPSB0b3N0cmluZyhkaXN0YW5jZSkgLi4gIm0iCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGZvciBtb2RlbCwgZXNwIGluIHBhaXJzKG5wY0VzcENhY2hlKSBkbwogICAgICAgICAgICBpZiBub3QgbW9kZWwgb3Igbm90IG1vZGVsLlBhcmVudCB0aGVuCiAgICAgICAgICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKGVzcCkgZG8KICAgICAgICAgICAgICAgICAgICBpZiBvYmogYW5kIHR5cGVvZihvYmopID09ICJ1c2VyZGF0YSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBvYmouVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIG9iajpSZW1vdmUoKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBucGNFc3BDYWNoZVttb2RlbF0gPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKICAgIAogICAgbG9jYWwgbnBjRXNwTG9vcAogICAgCiAgICAtLSBFU1Ag55WM6Z2iCiAgICBUYWI0OkNyZWF0ZVNlY3Rpb24oIueOqeWutumAj+inhiIpCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlkK/nlKjnjqnlrrbpgI/op4YiLCAKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwgCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BFbmFibGVkID0gdgogICAgICAgICAgICBpZiB2IHRoZW4KICAgICAgICAgICAgICAgIGlmIG5vdCBlc3BMb29wIHRoZW4KICAgICAgICAgICAgICAgICAgICBlc3BMb29wID0gUnVuU2VydmljZS5SZW5kZXJTdGVwcGVkOkNvbm5lY3QodXBkYXRlRVNQKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLpgI/op4bns7vnu58iLCAi546p5a626YCP6KeG5bey5ZCv55SoIiwgMikKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgaWYgZXNwTG9vcCB0aGVuCiAgICAgICAgICAgICAgICAgICAgZXNwTG9vcDpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICBlc3BMb29wID0gbmlsCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGZvciBwbHIsIGVzcCBpbiBwYWlycyhlc3BDYWNoZSkgZG8KICAgICAgICAgICAgICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKGVzcCkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgb2JqIGFuZCB0eXBlb2Yob2JqKSA9PSAidXNlcmRhdGEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkgb2JqOlJlbW92ZSgpIGVuZCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIHRhYmxlLmNsZWFyKGVzcENhY2hlKQogICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigi6YCP6KeG57O757ufIiwgIueOqeWutumAj+inhuW3suemgeeUqCIsIDIpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKCiAgICBUYWI0OkNyZWF0ZURyb3Bkb3duKHsKICAgICAgICBOYW1lID0gIui/vei4que6v+S9jee9riIsCiAgICAgICAgT3B0aW9ucyA9IHsiVG9wIiwgIkJvdHRvbSJ9LAogICAgICAgIEN1cnJlbnRPcHRpb24gPSB0cmFjZXJQb3NpdGlvbiwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgICAgICB0cmFjZXJQb3NpdGlvbiA9IHZhbHVlCiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWPquaYvuekuuaVjOS6uiIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZXNwU2hvd0VuZW15T25seSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNob3dFbmVteU9ubHkgPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICAtLSBFU1Ag5Yqf6IO95byA5YWzCiAgICBUYWI0OkNyZWF0ZVNlY3Rpb24oIkVTUCDlip/og73lvIDlhbMiKQogICAgCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrmlrnmoYYiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNob3dCb3gsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BTaG93Qm94ID0gdgogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S65ZCN56ewIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBlc3BTaG93TmFtZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNob3dOYW1lID0gdgogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S66Led56a7IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBlc3BTaG93RGlzdGFuY2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BTaG93RGlzdGFuY2UgPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrooYDmnaEiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNob3dIZWFsdGhCYXIsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BTaG93SGVhbHRoQmFyID0gdgogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S66KGA6YeP5paH5a2XIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBlc3BTaG93SGVhbHRoVGV4dCwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNob3dIZWFsdGhUZXh0ID0gdgogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S66L+96Liq57q/IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBlc3BTaG93VHJhY2VyLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2hvd1RyYWNlciA9IHYKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuatpuWZqCIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZXNwU2hvd1dlYXBvbiwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNob3dXZWFwb24gPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWI0OkNyZWF0ZVNlY3Rpb24oIk5QQ+mAj+inhiIpCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlkK/nlKhOUEPpgI/op4YiLCAKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwgCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBucGNFc3BFbmFibGVkID0gdgogICAgICAgICAgICBpZiB2IHRoZW4KICAgICAgICAgICAgICAgIGlmIG5vdCBucGNFc3BMb29wIHRoZW4KICAgICAgICAgICAgICAgICAgICBucGNFc3BMb29wID0gUnVuU2VydmljZS5SZW5kZXJTdGVwcGVkOkNvbm5lY3QodXBkYXRlTnBjRVNQKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLpgI/op4bns7vnu58iLCAiTlBD6YCP6KeG5bey5ZCv55SoIiwgMikKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgaWYgbnBjRXNwTG9vcCB0aGVuCiAgICAgICAgICAgICAgICAgICAgbnBjRXNwTG9vcDpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICBucGNFc3BMb29wID0gbmlsCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGZvciBtb2RlbCwgZXNwIGluIHBhaXJzKG5wY0VzcENhY2hlKSBkbwogICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmogYW5kIHR5cGVvZihvYmopID09ICJ1c2VyZGF0YSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKSBvYmo6UmVtb3ZlKCkgZW5kKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgdGFibGUuY2xlYXIobnBjRXNwQ2FjaGUpCiAgICAgICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLpgI/op4bns7vnu58iLCAiTlBD6YCP6KeG5bey56aB55SoIiwgMikKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICB9KQoKICAgIC0tIOiEmuacrOS4reW/gwogICAgbG9jYWwgc2NyaXB0VGFicyA9IHsKICAgICAgICB7IlZS6ISa5pysIiwgIkZFVlLohJrmnKwiLCAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3JhbmRvbXN0cmluZzAvUXdlcnR5L3JlZnMvaGVhZHMvbWFpbi9xd2VydHk0NS5sdWEifSwKICAgICAgICB7IuaOp+WItuWPsCIsICLmjqfliLblj7DohJrmnKwiLCAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3l4Z2gxNjUveXhnaDE2NS9tYWluLzY2NiJ9LAogICAgICAgIHsiWEHohJrmnKwiLCAiWEEgSFVCIiwgImh0dHBzOi8vcmF3LmdpdGNvZGUuY29tL1hpbmd0YWlkdWFuL1NjcmlwdHMvcmF3L21haW4vTG9hZGVyLmx1YSJ9LAogICAgICAgIHsiUkLohJrmnKwiLCAiUmLohJrmnKwiLCAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1l1bmdlbmd4aW4vcm9ibG94L3JlZnMvaGVhZHMvbWFpbi9SYi1IdWIifSwKICAgICAgICB7IueUn+WtmOS4juadgOaJiyIsICLnlJ/lrZjkuI7mnYDmiYsiLCAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL01pbGFuMDhTdHVkaW8vQ2hhaXJXYXJlL21haW4vbWFpbi5sdWEifSwKICAgICAgICB7IueIseW+t+WNjiIsICLniLHlvrfljY4iLCAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2d1bWFuYmEvU2NyaXB0cy9tYWluL0Vkd2FyZCJ9LAogICAgICAgIHsi5rS75LqGN+WkqSIsICLmtLvkuoY35aSpIiwgImh0dHBzOi8vcmF3c2NyaXB0cy5uZXQvcmF3L1VuaXZlcnNhbC1TY3JpcHQtNy1kYXlzLXRvLWxpdmUtMzY4MjQifSwKICAgICAgICB7Iuatu+mTgei9qCIsICLmrbvpk4HovagiLCAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2lvcGprbGJubXNzcy9TYW5zSHViU2NyaXB0L3JlZnMvaGVhZHMvbWFpbi9TYW5zSHViIn0sCiAgICAgICAgeyLkuIDot6/lkJHopb8iLCAi5LiA6Lev5ZCR6KW/5Yi36ZKxIiwgImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS95eGdoMTY1L3l4Z2gxNjUvbWFpbi/kuIDot6/lkJHopb8ifSwKICAgICAgICB7IuiHqueEtueBvuWusyIsICLoh6rnhLbngb7lrrPpu5HmtJ52NiIsICJodHRwczovL3Jhd3NjcmlwdHMubmV0L3Jhdy9Vbml2ZXJzYWwtU2NyaXB0LVN1cGVyLXJpbmctUGFydHMtVjYtMjg1ODEifSwKICAgICAgICB7IuS/hOS6peS/hOW3niIsICJYQeS/hOS6peS/hOW3niIsICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vWGluZ3RhaWR1YW4vU2NyaXB0L3JlZnMvaGVhZHMvbWFpbi9HYW1lcy/kv4TkuqXkv4Tlt54ubHVhIn0sCiAgICAgICAgeyLloqjmsLTmuLjmiI8iLCAiWEHloqjmsLTmuLjmiI8iLCAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1hpbmd0YWlkdWFuL1NjcmlwdC9yZWZzL2hlYWRzL21haW4vR2FtZXMv5aKo5rC05ri45oiPLmx1YSJ9LAogICAgICAgIHsiOTnlpJwiLCAiWEE5OeWknCIsICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vWGluZ3RhaWR1YW4vU2NyaXB0L3JlZnMvaGVhZHMvbWFpbi9HYW1lcy/mo67mnpfkuK3nmoQ5OeWknC5sdWEifSwKICAgICAgICB7IueDguail+ekvuWMuiIsICLng4LmopfnpL7ljLrliLfpkrEiLCAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1hPVFJYT05ZL0Vhc3lTY3JpcHQvbWFpbi9TdWFvLmx1YXUifQogICAgfQoKICAgIGZvciBpLCB0YWJEYXRhIGluIGlwYWlycyhzY3JpcHRUYWJzKSBkbwogICAgICAgIGxvY2FsIHRhYiA9IFdpbmRvdzpDcmVhdGVUYWIodGFiRGF0YVsxXSwgNzczMzc3OTYxMCkKICAgICAgICB0YWI6Q3JlYXRlQnV0dG9uKHsKICAgICAgICAgICAgTmFtZSA9IHRhYkRhdGFbMl0sIAogICAgICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oIuiEmuacrOWKoOi9vSIsICLmraPlnKjliqDovb06ICIgLi4gdGFiRGF0YVsyXSwgMykKICAgICAgICAgICAgICAgIGxvY2FsIHN1Y2Nlc3MsIGVyciA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCh0YWJEYXRhWzNdKSkoKQogICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAgICAgaWYgc3VjY2VzcyB0aGVuCiAgICAgICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigi6ISa5pys5Yqg6L29IiwgdGFiRGF0YVsyXSAuLiAiIOWKoOi9veaIkOWKnyIsIDMpCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigi6ISa5pys5Yqg6L29IiwgdGFiRGF0YVsyXSAuLiAiIOWKoOi9veWksei0pSIsIDUpCiAgICAgICAgICAgICAgICAgICAgd2Fybigi6ISa5pys5Yqg6L296ZSZ6K+vOiAiIC4uIHRvc3RyaW5nKGVycikpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgfSkKICAgIGVuZAoKICAgIC0tIOiuvue9rlRhYgogICAgbG9jYWwgVGFiMjAgPSBXaW5kb3c6Q3JlYXRlVGFiKCLorr7nva4iLCA3NzMzNzc5NjEwKQogICAgCiAgICBUYWIyMDpDcmVhdGVCdXR0b24oewogICAgICAgIE5hbWUgPSAi5riF55CG5omA5pyJRVNQIiwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICAgICAgLS0g5riF55CG546p5a62RVNQCiAgICAgICAgICAgIGlmIGVzcExvb3AgdGhlbgogICAgICAgICAgICAgICAgZXNwTG9vcDpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgIGVzcExvb3AgPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGZvciBwbHIsIGVzcCBpbiBwYWlycyhlc3BDYWNoZSkgZG8KICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIG9iaiBhbmQgdHlwZW9mKG9iaikgPT0gInVzZXJkYXRhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkgb2JqOlJlbW92ZSgpIGVuZCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgdGFibGUuY2xlYXIoZXNwQ2FjaGUpCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDmuIXnkIZOUEMgRVNQCiAgICAgICAgICAgIGlmIG5wY0VzcExvb3AgdGhlbgogICAgICAgICAgICAgICAgbnBjRXNwTG9vcDpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgIG5wY0VzcExvb3AgPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGZvciBtb2RlbCwgZXNwIGluIHBhaXJzKG5wY0VzcENhY2hlKSBkbwogICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3ApIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgb2JqIGFuZCB0eXBlb2Yob2JqKSA9PSAidXNlcmRhdGEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKSBvYmo6UmVtb3ZlKCkgZW5kKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICB0YWJsZS5jbGVhcihucGNFc3BDYWNoZSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGVzcEVuYWJsZWQgPSBmYWxzZQogICAgICAgICAgICBucGNFc3BFbmFibGVkID0gZmFsc2UKICAgICAgICAgICAgCiAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oIua4heeQhuWujOaIkCIsICLmiYDmnIlFU1Dlt7LmuIXnkIYiLCAzKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgLS0g5b+N6ICF5rOo5YWl5Zmo5YW85a655oCn5qOA5p+lCiAgICBpZiBpZGVudGlmeWV4ZWN1dG9yIGFuZCBpZGVudGlmeWV4ZWN1dG9yKCk6bG93ZXIoKTpmaW5kKCJuaW5qYSIpIHRoZW4KICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLms6jlhaXlmajmo4DmtYsiLCAi5b+N6ICF5rOo5YWl5Zmo5bey6K+G5Yir77yM5omA5pyJ5Yqf6IO95YW85a65IiwgMykKICAgIGVuZAplbmQKCi0tIOebtOaOpeWIm+W7uuS4u+eql+WPo+WGheWuuQpDcmVhdGVNYWluV2luZG93Q29udGVudCgpCgotLSDohJrmnKzlhbPpl63ml7bmuIXnkIbotYTmupAKZ2FtZTpCaW5kVG9DbG9zZShmdW5jdGlvbigpCiAgICAtLSDmuIXnkIbpo57ooYzns7vnu58KICAgIGlmIGZseWluZyB0aGVuCiAgICAgICAgc3RvcEZseWluZygpCiAgICBlbmQKICAgIAogICAgLS0g5riF55CGQWltYm9057O757ufCiAgICBpZiBhaW1ib3RDb25uIHRoZW4KICAgICAgICBhaW1ib3RDb25uOkRpc2Nvbm5lY3QoKQogICAgZW5kCiAgICBpZiBhaW1MaW5lIHRoZW4KICAgICAgICBhaW1MaW5lOlJlbW92ZSgpCiAgICBlbmQKICAgIGlmIG1vdXNlRm92Q2lyY2xlIHRoZW4KICAgICAgICBtb3VzZUZvdkNpcmNsZTpSZW1vdmUoKQogICAgZW5kCiAgICBpZiBmaXhlZEZvdkNpcmNsZSB0aGVuCiAgICAgICAgZml4ZWRGb3ZDaXJjbGU6UmVtb3ZlKCkKICAgIGVuZAogICAgCiAgICAtLSDmuIXnkIZFU1Dns7vnu58KICAgIGlmIGVzcExvb3AgdGhlbgogICAgICAgIGVzcExvb3A6RGlzY29ubmVjdCgpCiAgICBlbmQKICAgIGlmIG5wY0VzcExvb3AgdGhlbgogICAgICAgIG5wY0VzcExvb3A6RGlzY29ubmVjdCgpCiAgICBlbmQKICAgIGZvciBwbHIsIGVzcCBpbiBwYWlycyhlc3BDYWNoZSkgZG8KICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKGVzcCkgZG8KICAgICAgICAgICAgaWYgb2JqIGFuZCB0eXBlb2Yob2JqKSA9PSAidXNlcmRhdGEiIHRoZW4KICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkgb2JqOlJlbW92ZSgpIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKICAgIGZvciBtb2RlbCwgZXNwIGluIHBhaXJzKG5wY0VzcENhY2hlKSBkbwogICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwKSBkbwogICAgICAgICAgICBpZiBvYmogYW5kIHR5cGVvZihvYmopID09ICJ1c2VyZGF0YSIgdGhlbgogICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKSBvYmo6UmVtb3ZlKCkgZW5kKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQpCgpTaG93Tm90aWZpY2F0aW9uKCLlnaTlnaTlpKfluJ3ohJrmnKwiLCAi5bCK5Lqr54m55p2D54mI5Yqg6L295a6M5oiQ77yBIiwgNSk=")
loadstring(decoded)()
