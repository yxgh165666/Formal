-- Base64 解码器（Roblox 可用）
local b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
local b64lookup = {}
for i = 1, #b64chars do
    b64lookup[b64chars:sub(i, i)] = i - 1
end

local function base64_decode(data)
    data = data:gsub('[^%w%+%/%=]', '')
    local result = {}
    local n = 1
    while n <= #data do
        local a = b64lookup[data:sub(n, n)]
        local b = b64lookup[data:sub(n+1, n+1)]
        local c = b64lookup[data:sub(n+2, n+2)]
        local d = b64lookup[data:sub(n+3, n+3)]

        local x = (a * 262144) + (b * 4096) + ((c or 0) * 64) + (d or 0)
        result[#result+1] = string.char(
            math.floor(x / 65536) % 256,
            math.floor(x / 256) % 256,
            x % 256
        )
        n = n + 4
    end

    local pad = select(2, data:gsub('=', '='))
    if pad == 2 then
        result[#result] = result[#result]:sub(1, 1)
    elseif pad == 1 then
        result[#result] = result[#result]:sub(1, 2)
    end

    return table.concat(result)
end

-- ✅ 示例：解码并执行（仅限你自己的脚本）
local decoded = base64_decode("bG9jYWwgUmF5ZmllbGQgPSBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9zaXJpdXMubWVudS9yYXlmaWVsZCcpKSgpCgotLSDkvb/nlKggUmF5ZmllbGQg5YaF572u5a+G6ZKl57O757ufCmxvY2FsIFdpbmRvdyA9IFJheWZpZWxkOkNyZWF0ZVdpbmRvdyh7CiAgICBOYW1lID0gIuWdpOWdpOWkp+W4neiEmuacrCAtICIgLi4gKGlkZW50aWZ5ZXhlY3V0b3IgYW5kIGlkZW50aWZ5ZXhlY3V0b3IoKSBvciAi5pyq55+l5omn6KGM5ZmoIiksCiAgICBMb2FkaW5nVGl0bGUgPSAi5Z2k5Z2k5aSn5bid6ISa5pys5Yqg6L295LitIiwKICAgIExvYWRpbmdTdWJ0aXRsZSA9ICLlsIrkuqvnibnmnYPniYgiLAogICAgQ29uZmlndXJhdGlvblNhdmluZyA9IHsKICAgICAgICBFbmFibGVkID0gdHJ1ZSwKICAgICAgICBGb2xkZXJOYW1lID0gIkt1bmt1bkNvbmZpZyIsCiAgICAgICAgRmlsZU5hbWUgPSAiU2V0dGluZ3MiCiAgICB9LAogICAgRGlzY29yZCA9IHsKICAgICAgICBFbmFibGVkID0gZmFsc2UsCiAgICAgICAgSW52aXRlID0gImh0dHBzOi8vZGlzY29yZC5nZy8iLAogICAgICAgIFJlbWVtYmVySm9pbnMgPSB0cnVlCiAgICB9LAogICAgS2V5U3lzdGVtID0gdHJ1ZSwKICAgIEtleVNldHRpbmdzID0gewogICAgICAgIFRpdGxlID0gIuWdpOWdpOWkp+W4neiEmuacrOmqjOivgSIsCiAgICAgICAgU3VidGl0bGUgPSAi6K+36L6T5YWl5pyJ5pWI5a+G6ZKlIiwKICAgICAgICBOb3RlID0gIuayoeacieWvhumSpe+8n+WKoOWFpURpc2NvcmTojrflj5YiLAogICAgICAgIEZpbGVOYW1lID0gIkt1bmt1bktleSIsCiAgICAgICAgU2F2ZUtleSA9IHRydWUsCiAgICAgICAgR3JhYktleUZyb21TaXRlID0gZmFsc2UsCiAgICAgICAgS2V5ID0geyIyMDI1IiwgIjY2NiIsICJLVU5LVU42NjYiLCAiNjY2ZnJlZSIsICJUQUlZT1VZSVNJTEUifQogICAgfQp9KQoKLS0g5Z+656GA5pyN5Yqh5Y+Y6YePCmxvY2FsIFBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBMb2NhbFBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgUnVuU2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpCmxvY2FsIFVzZXJJbnB1dFNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQpsb2NhbCBDYW1lcmEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQoKLS0g5aSN5Yi25Yiw5Ymq6LS05p2/5Ye95pWwCmxvY2FsIGZ1bmN0aW9uIENvcHlUb0NsaXBib2FyZCh0ZXh0KQogICAgaWYgc2V0Y2xpcGJvYXJkIHRoZW4KICAgICAgICBzZXRjbGlwYm9hcmQodGV4dCkKICAgICAgICByZXR1cm4gdHJ1ZQogICAgZWxzZWlmIHdyaXRlY2xpcGJvYXJkIHRoZW4KICAgICAgICB3cml0ZWNsaXBib2FyZCh0ZXh0KQogICAgICAgIHJldHVybiB0cnVlCiAgICBlbHNlaWYgdG9jbGlwYm9hcmQgdGhlbgogICAgICAgIHRvY2xpcGJvYXJkKHRleHQpCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UKICAgICAgICBwcmludCgiW+WkjeWItuWGheWuuV0gIiAuLiB0ZXh0KQogICAgICAgIHJldHVybiBmYWxzZQogICAgZW5kCmVuZAoKLS0g5pi+56S66YCa55+l5Ye95pWwCmxvY2FsIGZ1bmN0aW9uIFNob3dOb3RpZmljYXRpb24odGl0bGUsIGNvbnRlbnQsIGR1cmF0aW9uKQogICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICBUaXRsZSA9IHRpdGxlLAogICAgICAgIENvbnRlbnQgPSBjb250ZW50LAogICAgICAgIER1cmF0aW9uID0gZHVyYXRpb24gb3IgMywKICAgICAgICBJbWFnZSA9IDQ0ODMzNjI0NTgKICAgIH0pCmVuZAoKLS0g5Yib5bu65Li756qX5Y+j5YaF5a65CmxvY2FsIGZ1bmN0aW9uIENyZWF0ZU1haW5XaW5kb3dDb250ZW50KCkKICAgIC0tIOWFrOWRiiBUYWIKICAgIGxvY2FsIFRhYjEgPSBXaW5kb3c6Q3JlYXRlVGFiKCLlhazlkYoiLCA3NzMzNzc5NjEwKQogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBnZXREYXRlKCkgcmV0dXJuIG9zLmRhdGUoIiVZLSVtLSVkICVIOiVNIikgZW5kCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRQbGF5ZXIoKQogICAgICAgIGxvY2FsIHAgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBbIueUqOaIt+WQjSJdICAgPSBwLk5hbWUsCiAgICAgICAgICAgIFsi5pi+56S65ZCNIl0gICA9IHAuRGlzcGxheU5hbWUsCiAgICAgICAgICAgIFsi55So5oi3SUQiXSAgID0gcC5Vc2VySWQsCiAgICAgICAgICAgIFsi5rOo5YaM5aSp5pWwIl0gPSBwLkFjY291bnRBZ2UsCiAgICAgICAgICAgIFsi5b2T5YmN5ri45oiPIl0gPSBnYW1lOkdldFNlcnZpY2UoIk1hcmtldHBsYWNlU2VydmljZSIpOkdldFByb2R1Y3RJbmZvKGdhbWUuUGxhY2VJZCkuTmFtZQogICAgICAgIH0KICAgIGVuZAogICAgCiAgICBUYWIxOkNyZWF0ZVNlY3Rpb24oIuezu+e7n+S/oeaBryIpCiAgICBUYWIxOkNyZWF0ZUxhYmVsKCLwn5OFIOW9k+WJjeaXtumXtDogIiAuLiBnZXREYXRlKCkpCiAgICAKICAgIGZvciBrLCB2IGluIHBhaXJzKGdldFBsYXllcigpKSBkbwogICAgICAgIFRhYjE6Q3JlYXRlTGFiZWwoayAuLiAi77yaICIgLi4gdG9zdHJpbmcodikpCiAgICBlbmQKICAgIAogICAgVGFiMTpDcmVhdGVCdXR0b24oewogICAgICAgIE5hbWUgPSAi5LiA6ZSu5aSN5Yi2UVHlj7ciLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkgCiAgICAgICAgICAgIGxvY2FsIHN1Y2Nlc3MgPSBDb3B5VG9DbGlwYm9hcmQoIjkxMzM0ODI4NSIpCiAgICAgICAgICAgIGlmIHN1Y2Nlc3MgdGhlbgogICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigi5aSN5Yi25oiQ5YqfIiwgIlFR5Y+35bey5aSN5Yi25Yiw5Ymq6LS05p2/OiA5MTMzNDgyODUiKQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLlpI3liLblpLHotKUiLCAi6K+35omL5Yqo5aSN5Yi25o6n5Yi25Y+w5Lit55qE5YaF5a65IiwgNSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjE6Q3JlYXRlQnV0dG9uKHsKICAgICAgICBOYW1lID0gIuS4gOmUruWkjeWItkRpc2NvcmTpk77mjqUiLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgICAgICBsb2NhbCBzdWNjZXNzID0gQ29weVRvQ2xpcGJvYXJkKCJodHRwczovL2Rpc2NvcmQuZ2cveFZVZjdIOU0iKQogICAgICAgICAgICBpZiBzdWNjZXNzIHRoZW4KICAgICAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oIuWkjeWItuaIkOWKnyIsICJEaXNjb3Jk6ZO+5o6l5bey5aSN5Yi25Yiw5Ymq6LS05p2/IikKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigi5aSN5Yi25aSx6LSlIiwgIuivt+aJi+WKqOWkjeWItuaOp+WItuWPsOS4reeahOWGheWuuSIsIDUpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgLS0g5Lq654mp5Yqf6IO9IFRhYgogICAgbG9jYWwgVGFiMiA9IFdpbmRvdzpDcmVhdGVUYWIoIuS6uueJqeWKn+iDvSIsIDc3MzM3Nzk2MTApCiAgICAKICAgIC0tIOWIoOmZpOmYtOW9seWKn+iDvQogICAgVGFiMjpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5Yig6Zmk6Zi05b2xIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGdhbWUuTGlnaHRpbmcuR2xvYmFsU2hhZG93cyA9IG5vdCB2CiAgICAgICAgICAgIGZvciBfLCBvYmogaW4gaXBhaXJzKHdvcmtzcGFjZTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICAgICAgaWYgb2JqOklzQSgiQmFzZVBhcnQiKSBvciBvYmo6SXNBKCJNZXNoUGFydCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBvYmouQ2FzdFNoYWRvdyA9IG5vdCB2CiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oIuaPkOekuiIsIHYgYW5kICLpmLTlvbHlt7LliKDpmaQiIG9yICLpmLTlvbHlt7LmgaLlpI0iLCAyKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgLS0g5LiJ6ZSB5a6a57O757ufCiAgICBsb2NhbCBsb2NrU3BlZWQsIGxvY2tKdW1wLCBsb2NrR3JhdiA9IGZhbHNlLCBmYWxzZSwgZmFsc2UKICAgIGxvY2FsIHNhdmVkU3BlZWQsIHNhdmVkSnVtcCwgc2F2ZWRHcmF2ID0gMTYsIDUwLCAxOTYKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gYXBwbHlDaGFyYWN0ZXJWYWx1ZXMoKQogICAgICAgIGxvY2FsIGNoYXIgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICBpZiBub3QgY2hhciB0aGVuIHJldHVybiBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBodW1hbm9pZCA9IGNoYXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICAgICAgaWYgbm90IGh1bWFub2lkIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIAogICAgICAgIGlmIGxvY2tTcGVlZCB0aGVuIGh1bWFub2lkLldhbGtTcGVlZCA9IHNhdmVkU3BlZWQgZW5kCiAgICAgICAgaWYgbG9ja0p1bXAgdGhlbiBodW1hbm9pZC5KdW1wUG93ZXIgPSBzYXZlZEp1bXAgZW5kCiAgICAgICAgaWYgbG9ja0dyYXYgdGhlbiB3b3Jrc3BhY2UuR3Jhdml0eSA9IHNhdmVkR3JhdiBlbmQKICAgIGVuZAogICAgCiAgICBMb2NhbFBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICB3YWl0KDAuNSkKICAgICAgICBhcHBseUNoYXJhY3RlclZhbHVlcygpCiAgICBlbmQpCiAgICAKICAgIFRhYjI6Q3JlYXRlU2VjdGlvbigi5LiJ6ZSB5a6aIikKICAgIFRhYjI6Q3JlYXRlSW5wdXQoewogICAgICAgIE5hbWUgPSAi56e75Yqo6YCf5bqmIiwgCiAgICAgICAgUGxhY2Vob2xkZXJUZXh0ID0gdG9zdHJpbmcoc2F2ZWRTcGVlZCksCiAgICAgICAgUmVtb3ZlVGV4dEFmdGVyRm9jdXNMb3N0ID0gZmFsc2UsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih0eHQpIAogICAgICAgICAgICBzYXZlZFNwZWVkID0gdG9udW1iZXIodHh0KSBvciAxNiAKICAgICAgICAgICAgYXBwbHlDaGFyYWN0ZXJWYWx1ZXMoKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVJbnB1dCh7CiAgICAgICAgTmFtZSA9ICLot7Pot4Ppq5jluqYiLCAKICAgICAgICBQbGFjZWhvbGRlclRleHQgPSB0b3N0cmluZyhzYXZlZEp1bXApLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgc2F2ZWRKdW1wID0gdG9udW1iZXIodHh0KSBvciA1MCAKICAgICAgICAgICAgYXBwbHlDaGFyYWN0ZXJWYWx1ZXMoKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVJbnB1dCh7CiAgICAgICAgTmFtZSA9ICLph43lipvlgLwiLCAKICAgICAgICBQbGFjZWhvbGRlclRleHQgPSB0b3N0cmluZyhzYXZlZEdyYXYpLAogICAgICAgIFJlbW92ZVRleHRBZnRlckZvY3VzTG9zdCA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odHh0KSAKICAgICAgICAgICAgc2F2ZWRHcmF2ID0gdG9udW1iZXIodHh0KSBvciAxOTYgCiAgICAgICAgICAgIGFwcGx5Q2hhcmFjdGVyVmFsdWVzKCkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIumUgeWumuenu+mAnyIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIAogICAgICAgICAgICBsb2NrU3BlZWQgPSB2CiAgICAgICAgICAgIGFwcGx5Q2hhcmFjdGVyVmFsdWVzKCkKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIumUgeWumui3s+i3gyIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIAogICAgICAgICAgICBsb2NrSnVtcCA9IHYKICAgICAgICAgICAgYXBwbHlDaGFyYWN0ZXJWYWx1ZXMoKQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi6ZSB5a6a6YeN5YqbIiwgCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmFsc2UsIAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgCiAgICAgICAgICAgIGxvY2tHcmF2ID0gdgogICAgICAgICAgICBhcHBseUNoYXJhY3RlclZhbHVlcygpCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICAtLSDpo57ooYzns7vnu58KICAgIGxvY2FsIGZseWluZyA9IGZhbHNlCiAgICBsb2NhbCBmbHlTcGVlZCA9IDUwCiAgICBsb2NhbCBiZywgYnYKICAgIGxvY2FsIGN0cmwgPSB7ZiA9IDAsIGIgPSAwLCBsID0gMCwgciA9IDAsIHUgPSAwLCBkID0gMH0KICAgIGxvY2FsIGZseUNvbm5lY3Rpb24KICAgIAogICAgbG9jYWwgZnVuY3Rpb24gZmx5TG9vcCgpCiAgICAgICAgd2hpbGUgZmx5aW5nIGFuZCBSdW5TZXJ2aWNlLkhlYXJ0YmVhdDpXYWl0KCkgZG8KICAgICAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIgdGhlbiBicmVhayBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHRvcnNvID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpIG9yIAogICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiVXBwZXJUb3JzbyIpCiAgICAgICAgICAgIGlmIG5vdCB0b3JzbyB0aGVuIGJyZWFrIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgbW92ZURpcmVjdGlvbiA9IFZlY3RvcjMubmV3KGN0cmwuciAtIGN0cmwubCwgY3RybC51IC0gY3RybC5kLCBjdHJsLmIgLSBjdHJsLmYpCiAgICAgICAgICAgIGlmIG1vdmVEaXJlY3Rpb24uTWFnbml0dWRlID4gMCB0aGVuCiAgICAgICAgICAgICAgICBtb3ZlRGlyZWN0aW9uID0gbW92ZURpcmVjdGlvbi5Vbml0CiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgY2FtZXJhID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKICAgICAgICAgICAgbG9jYWwgY2FtZXJhQ0ZyYW1lID0gY2FtZXJhLkNGcmFtZQogICAgICAgICAgICBsb2NhbCBjYW1lcmFMb29rVmVjdG9yID0gY2FtZXJhQ0ZyYW1lLkxvb2tWZWN0b3IKICAgICAgICAgICAgbG9jYWwgY2FtZXJhUmlnaHRWZWN0b3IgPSBjYW1lcmFDRnJhbWUuUmlnaHRWZWN0b3IKICAgICAgICAgICAgbG9jYWwgY2FtZXJhVXBWZWN0b3IgPSBjYW1lcmFDRnJhbWUuVXBWZWN0b3IKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHZlbG9jaXR5ID0gKGNhbWVyYUxvb2tWZWN0b3IgKiBtb3ZlRGlyZWN0aW9uLlogKiBmbHlTcGVlZCkgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNhbWVyYVJpZ2h0VmVjdG9yICogbW92ZURpcmVjdGlvbi5YICogZmx5U3BlZWQpICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjYW1lcmFVcFZlY3RvciAqIG1vdmVEaXJlY3Rpb24uWSAqIGZseVNwZWVkKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgYnYgdGhlbgogICAgICAgICAgICAgICAgYnYuVmVsb2NpdHkgPSB2ZWxvY2l0eQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG1vdmVEaXJlY3Rpb24uTWFnbml0dWRlID4gMCBhbmQgYmcgdGhlbgogICAgICAgICAgICAgICAgYmcuQ0ZyYW1lID0gY2FtZXJhQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcygKICAgICAgICAgICAgICAgICAgICAtbWF0aC5yYWQobW92ZURpcmVjdGlvbi5aICogMTUpLAogICAgICAgICAgICAgICAgICAgIG1hdGgucmFkKG1vdmVEaXJlY3Rpb24uWCAqIDE1KSwKICAgICAgICAgICAgICAgICAgICAwCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIHN0YXJ0Rmx5aW5nKCkKICAgICAgICBpZiBmbHlpbmcgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgaWYgbm90IGNoYXJhY3RlciB0aGVuIAogICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLpo57ooYzplJnor68iLCAi5om+5LiN5Yiw6KeS6ImyIiwgMykKICAgICAgICAgICAgcmV0dXJuIAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIGh1bWFub2lkID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgIGlmIG5vdCBodW1hbm9pZCB0aGVuIAogICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLpo57ooYzplJnor68iLCAi5om+5LiN5YiwSHVtYW5vaWQiLCAzKQogICAgICAgICAgICByZXR1cm4gCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgZmx5aW5nID0gdHJ1ZQogICAgICAgIAogICAgICAgIGxvY2FsIHRvcnNvID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgCiAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlRvcnNvIikgb3IgCiAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlVwcGVyVG9yc28iKQogICAgICAgIGlmIG5vdCB0b3JzbyB0aGVuIAogICAgICAgICAgICBmbHlpbmcgPSBmYWxzZQogICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLpo57ooYzplJnor68iLCAi5om+5LiN5Yiw6Lqr5L2T6YOo5L2NIiwgMykKICAgICAgICAgICAgcmV0dXJuIAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGJnID0gSW5zdGFuY2UubmV3KCJCb2R5R3lybyIsIHRvcnNvKQogICAgICAgIGJnLlAgPSA5ZTQKICAgICAgICBiZy5tYXhUb3JxdWUgPSBWZWN0b3IzLm5ldyg5ZTksIDllOSwgOWU5KQogICAgICAgIGJnLmNmcmFtZSA9IHRvcnNvLkNGcmFtZQogICAgICAgIAogICAgICAgIGJ2ID0gSW5zdGFuY2UubmV3KCJCb2R5VmVsb2NpdHkiLCB0b3JzbykKICAgICAgICBidi5WZWxvY2l0eSA9IFZlY3RvcjMubmV3KDAsIDAuMSwgMCkKICAgICAgICBidi5NYXhGb3JjZSA9IFZlY3RvcjMubmV3KDllOSwgOWU5LCA5ZTkpCiAgICAgICAgCiAgICAgICAgaHVtYW5vaWQuUGxhdGZvcm1TdGFuZCA9IHRydWUKICAgICAgICAKICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLpo57ooYzmqKHlvI8iLCAi6aOe6KGM5bey5ZCv55SoICjpgJ/luqY6ICIgLi4gZmx5U3BlZWQgLi4gIikiLCAzKQogICAgICAgIAogICAgICAgIGZseUNvbm5lY3Rpb24gPSBSdW5TZXJ2aWNlLkhlYXJ0YmVhdDpDb25uZWN0KGZseUxvb3ApCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gc3RvcEZseWluZygpCiAgICAgICAgaWYgbm90IGZseWluZyB0aGVuIHJldHVybiBlbmQKICAgICAgICBmbHlpbmcgPSBmYWxzZQogICAgICAgIAogICAgICAgIGlmIGJnIHRoZW4gYmc6RGVzdHJveSgpIGJnID0gbmlsIGVuZAogICAgICAgIGlmIGJ2IHRoZW4gYnY6RGVzdHJveSgpIGJ2ID0gbmlsIGVuZAogICAgICAgIGlmIGZseUNvbm5lY3Rpb24gdGhlbiBmbHlDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKSBmbHlDb25uZWN0aW9uID0gbmlsIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIGNoYXJhY3RlciA9IExvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgIGlmIGNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgIGxvY2FsIGh1bWFub2lkID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgICAgICBpZiBodW1hbm9pZCB0aGVuCiAgICAgICAgICAgICAgICBodW1hbm9pZC5QbGF0Zm9ybVN0YW5kID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgY3RybCA9IHtmID0gMCwgYiA9IDAsIGwgPSAwLCByID0gMCwgdSA9IDAsIGQgPSAwfQogICAgICAgIAogICAgICAgIFNob3dOb3RpZmljYXRpb24oIumjnuihjOaooeW8jyIsICLpo57ooYzlt7LnpoHnlKgiLCAzKQogICAgZW5kCiAgICAKICAgIGxvY2FsIGlucHV0QmVnYW5Db25uLCBpbnB1dEVuZGVkQ29ubgogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBzZXR1cElucHV0KCkKICAgICAgICBpZiBpbnB1dEJlZ2FuQ29ubiB0aGVuIGlucHV0QmVnYW5Db25uOkRpc2Nvbm5lY3QoKSBlbmQKICAgICAgICBpZiBpbnB1dEVuZGVkQ29ubiB0aGVuIGlucHV0RW5kZWRDb25uOkRpc2Nvbm5lY3QoKSBlbmQKICAgICAgICAKICAgICAgICBpbnB1dEJlZ2FuQ29ubiA9IFVzZXJJbnB1dFNlcnZpY2UuSW5wdXRCZWdhbjpDb25uZWN0KGZ1bmN0aW9uKGlucHV0KQogICAgICAgICAgICBpZiBub3QgZmx5aW5nIHRoZW4gcmV0dXJuIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVyB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmYgPSAxCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5TIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwuYiA9IDEKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkEgdGhlbgogICAgICAgICAgICAgICAgY3RybC5sID0gMQogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRCB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLnIgPSAxCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5TcGFjZSB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLnUgPSAxCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MZWZ0Q29udHJvbCB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmQgPSAxCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgICAgICAKICAgICAgICBpbnB1dEVuZGVkQ29ubiA9IFVzZXJJbnB1dFNlcnZpY2UuSW5wdXRFbmRlZDpDb25uZWN0KGZ1bmN0aW9uKGlucHV0KQogICAgICAgICAgICBpZiBub3QgZmx5aW5nIHRoZW4gcmV0dXJuIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVyB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmYgPSAwCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5TIHRoZW4KICAgICAgICAgICAgICAgIGN0cmwuYiA9IDAKICAgICAgICAgICAgZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkEgdGhlbgogICAgICAgICAgICAgICAgY3RybC5sID0gMAogICAgICAgICAgICBlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRCB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLnIgPSAwCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5TcGFjZSB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLnUgPSAwCiAgICAgICAgICAgIGVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MZWZ0Q29udHJvbCB0aGVuCiAgICAgICAgICAgICAgICBjdHJsLmQgPSAwCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAogICAgCiAgICBMb2NhbFBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBzdG9wRmx5aW5nKCkKICAgIGVuZCkKICAgIAogICAgVGFiMjpDcmVhdGVTZWN0aW9uKCLpo57ooYzlip/og70iKQogICAgCiAgICBUYWIyOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlkK/nlKjpo57ooYwiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgaWYgdiB0aGVuCiAgICAgICAgICAgICAgICBzdGFydEZseWluZygpCiAgICAgICAgICAgICAgICBzZXR1cElucHV0KCkKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgc3RvcEZseWluZygpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi6aOe6KGM6YCf5bqmIiwKICAgICAgICBSYW5nZSA9IHsxMCwgMjAwfSwKICAgICAgICBJbmNyZW1lbnQgPSA1LAogICAgICAgIFN1ZmZpeCA9ICLljZXkvY0iLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZseVNwZWVkLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIGZseVNwZWVkID0gdmFsdWUKICAgICAgICAgICAgaWYgZmx5aW5nIHRoZW4KICAgICAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oIumjnuihjOaooeW8jyIsICLpo57ooYzpgJ/luqbmm7TmlrDkuLo6ICIgLi4gZmx5U3BlZWQsIDIpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiMjpDcmVhdGVMYWJlbCgi5o6n5Yi25pa55byPOiIpCiAgICBUYWIyOkNyZWF0ZUxhYmVsKCJXL0EvUy9EIC0g5YmN5ZCO5bem5Y+z56e75YqoIikKICAgIFRhYjI6Q3JlYXRlTGFiZWwoIuepuuagvOmUriAtIOWQkeS4iumjnuihjCIpCiAgICBUYWIyOkNyZWF0ZUxhYmVsKCJDdHJs6ZSuIC0g5ZCR5LiL6aOe6KGMIikKCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLS0gQUktQWltYm90IOezu+e7nwogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGxvY2FsIFRhYjMgPSBXaW5kb3c6Q3JlYXRlVGFiKCJBSS1BaW1ib3QiLCA3NzMzOTYxNzQ4KQogICAgCiAgICAtLSBBaW1ib3Qg6YCa55So5Y+C5pWwCiAgICBsb2NhbCBhaW1ib3RFbmFibGVkID0gZmFsc2UKICAgIGxvY2FsIGFpbWJvdFNtb290aCA9IDAuMzUKICAgIGxvY2FsIGFpbWJvdEJvbmUgPSAiSGVhZCIKICAgIGxvY2FsIGFpbWJvdFByZWRpY3Rpb24gPSAwLjEyCiAgICBsb2NhbCBhaW1ib3REZWxheSA9IDAuMDgKICAgIGxvY2FsIGFpbWJvdENoZWNrVGVhbSA9IGZhbHNlCiAgICBsb2NhbCBsYXN0RmlyZSA9IDAKICAgIGxvY2FsIGFpbWJvdENvbm4KICAgIGxvY2FsIGFpbWJvdE1vZGUgPSAiRGlzdGFuY2UiCiAgICBsb2NhbCB3YWxsQ2hlY2tFbmFibGVkID0gZmFsc2UKICAgIGxvY2FsIGFpbUxpbmVFbmFibGVkID0gZmFsc2UKICAgIAogICAgLS0g5Yid5aeL5YyW6Ieq556E57q/5p2hCiAgICBsb2NhbCBhaW1MaW5lID0gRHJhd2luZy5uZXcoIkxpbmUiKQogICAgYWltTGluZS5WaXNpYmxlID0gZmFsc2UKICAgIGFpbUxpbmUuVGhpY2tuZXNzID0gMS41CiAgICBhaW1MaW5lLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMCwgMjU1LCAwKQogICAgYWltTGluZS5aSW5kZXggPSAxMQogICAgCiAgICAtLSBGT1Yg57O757ufCiAgICBsb2NhbCBtb3VzZUZPViA9IDEyMAogICAgbG9jYWwgbW91c2VGb3ZDaXJjbGUgPSBEcmF3aW5nLm5ldygiQ2lyY2xlIikKICAgIG1vdXNlRm92Q2lyY2xlLk51bVNpZGVzID0gNjQKICAgIG1vdXNlRm92Q2lyY2xlLlJhZGl1cyA9IG1vdXNlRk9WCiAgICBtb3VzZUZvdkNpcmNsZS5UaGlja25lc3MgPSAxLjUKICAgIG1vdXNlRm92Q2lyY2xlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LDI1NSwyNTUpCiAgICBtb3VzZUZvdkNpcmNsZS5GaWxsZWQgPSBmYWxzZQogICAgbW91c2VGb3ZDaXJjbGUuVmlzaWJsZSA9IGZhbHNlCiAgICBtb3VzZUZvdkNpcmNsZS5aSW5kZXggPSAxMAogICAgCiAgICBsb2NhbCBmaXhlZEZPViA9IDkwCiAgICBsb2NhbCBmaXhlZEZvdkNpcmNsZSA9IERyYXdpbmcubmV3KCJDaXJjbGUiKQogICAgZml4ZWRGb3ZDaXJjbGUuTnVtU2lkZXMgPSA2NAogICAgZml4ZWRGb3ZDaXJjbGUuUmFkaXVzID0gZml4ZWRGT1YKICAgIGZpeGVkRm92Q2lyY2xlLlRoaWNrbmVzcyA9IDEuNQogICAgZml4ZWRGb3ZDaXJjbGUuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNTUsMTY1LDApCiAgICBmaXhlZEZvdkNpcmNsZS5GaWxsZWQgPSBmYWxzZQogICAgZml4ZWRGb3ZDaXJjbGUuVmlzaWJsZSA9IGZhbHNlCiAgICBmaXhlZEZvdkNpcmNsZS5aSW5kZXggPSA5CiAgICAKICAgIC0tIOWbuuWumuWchuS4reW/g+iuvue9rgogICAgbG9jYWwgZnVuY3Rpb24gc2V0Rml4ZWRDZW50ZXIoKQogICAgICAgIGxvY2FsIGNlbnRlciA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkvMikKICAgICAgICBmaXhlZEZvdkNpcmNsZS5Qb3NpdGlvbiA9IGNlbnRlcgogICAgICAgIGFpbUxpbmUuRnJvbSA9IGNlbnRlcgogICAgZW5kCiAgICBDYW1lcmE6R2V0UHJvcGVydHlDaGFuZ2VkU2lnbmFsKCJWaWV3cG9ydFNpemUiKTpDb25uZWN0KHNldEZpeGVkQ2VudGVyKQogICAgc2V0Rml4ZWRDZW50ZXIoKQogICAgCiAgICAtLSDlt6Xlhbflh73mlbAKICAgIGxvY2FsIGZ1bmN0aW9uIGdldEFpbVBvcyhjaGFyYWN0ZXIpCiAgICAgICAgaWYgbm90IGNoYXJhY3RlciB0aGVuIHJldHVybiBuaWwgZW5kCiAgICAgICAgbG9jYWwgcm9vdCA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgbG9jYWwgYm9uZSA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZChhaW1ib3RCb25lKSBvciBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkhlYWQiKQogICAgICAgIGlmIG5vdCAocm9vdCBhbmQgYm9uZSkgdGhlbiByZXR1cm4gbmlsIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIHZlbCA9IHJvb3QuVmVsb2NpdHkKICAgICAgICByZXR1cm4gYm9uZS5Qb3NpdGlvbiArIHZlbCAqIGFpbWJvdFByZWRpY3Rpb24KICAgIGVuZAogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBpc1Zpc2libGUocG9zLCB0YXJnZXRDaGFyYWN0ZXIpCiAgICAgICAgaWYgbm90IHdhbGxDaGVja0VuYWJsZWQgdGhlbiByZXR1cm4gdHJ1ZSBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBvcmlnaW4gPSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uCiAgICAgICAgbG9jYWwgZGlyZWN0aW9uID0gKHBvcyAtIG9yaWdpbikuVW5pdAogICAgICAgIGxvY2FsIHJheSA9IFJheS5uZXcob3JpZ2luLCBkaXJlY3Rpb24gKiAob3JpZ2luIC0gcG9zKS5NYWduaXR1ZGUpCiAgICAgICAgCiAgICAgICAgbG9jYWwgaWdub3JlTGlzdCA9IHtMb2NhbFBsYXllci5DaGFyYWN0ZXIsIENhbWVyYX0KICAgICAgICBpZiB0YXJnZXRDaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICB0YWJsZS5pbnNlcnQoaWdub3JlTGlzdCwgdGFyZ2V0Q2hhcmFjdGVyKQogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIHBhcnQsIHBvc2l0aW9uID0gd29ya3NwYWNlOkZpbmRQYXJ0T25SYXlXaXRoSWdub3JlTGlzdChyYXksIGlnbm9yZUxpc3QpCiAgICAgICAgcmV0dXJuIHBhcnQgPT0gbmlsCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gaW5BbnlGT1Yod29ybGRQb3MpCiAgICAgICAgbG9jYWwgc2NyZWVuUG9zID0gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KHdvcmxkUG9zKQogICAgICAgIGlmIHNjcmVlblBvcy5aIDw9IDAgdGhlbiByZXR1cm4gZmFsc2UgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgbW91c2VQb3MgPSBVc2VySW5wdXRTZXJ2aWNlOkdldE1vdXNlTG9jYXRpb24oKQogICAgICAgIGxvY2FsIGNlbnRlciA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkvMikKICAgICAgICAKICAgICAgICBpZiBtb3VzZUZvdkNpcmNsZS5WaXNpYmxlIHRoZW4KICAgICAgICAgICAgaWYgKFZlY3RvcjIubmV3KHNjcmVlblBvcy5YLCBzY3JlZW5Qb3MuWSkgLSBtb3VzZVBvcykuTWFnbml0dWRlIDw9IG1vdXNlRk9WIHRoZW4KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGlmIGZpeGVkRm92Q2lyY2xlLlZpc2libGUgdGhlbgogICAgICAgICAgICBpZiAoVmVjdG9yMi5uZXcoc2NyZWVuUG9zLlgsIHNjcmVlblBvcy5ZKSAtIGNlbnRlcikuTWFnbml0dWRlIDw9IGZpeGVkRk9WIHRoZW4KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIHJldHVybiBmYWxzZQogICAgZW5kCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIGdldENsb3Nlc3QoKQogICAgICAgIGxvY2FsIGNsb3Nlc3QsIG1pbkRpc3QgPSBuaWwsIG1hdGguaHVnZQogICAgICAgIGxvY2FsIGNlbnRlciA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkvMikKICAgICAgICAKICAgICAgICBmb3IgXywgcGxyIGluIGlwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICAgICAgaWYgcGxyID09IExvY2FsUGxheWVyIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIGlmIGFpbWJvdENoZWNrVGVhbSBhbmQgcGxyLlRlYW0gYW5kIHBsci5UZWFtID09IExvY2FsUGxheWVyLlRlYW0gdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGNoYXIgPSBwbHIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGlmIG5vdCBjaGFyIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBhaW1Qb3MgPSBnZXRBaW1Qb3MoY2hhcikKICAgICAgICAgICAgaWYgbm90IGFpbVBvcyB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICBpZiBub3QgaW5BbnlGT1YoYWltUG9zKSB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgc3AgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQoYWltUG9zKQogICAgICAgICAgICBpZiBzcC5aIDw9IDAgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGlnbm9yZUxpc3QgPSB7TG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLCBDYW1lcmF9CiAgICAgICAgICAgIGlmIG5vdCBpc1Zpc2libGUoYWltUG9zLCBjaGFyKSB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZGlzdAogICAgICAgICAgICBpZiBhaW1ib3RNb2RlID09ICJEaXN0YW5jZSIgdGhlbgogICAgICAgICAgICAgICAgZGlzdCA9IChhaW1Qb3MgLSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uKS5NYWduaXR1ZGUKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZGlzdCA9IChWZWN0b3IyLm5ldyhzcC5YLCBzcC5ZKSAtIGNlbnRlcikuTWFnbml0dWRlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgZGlzdCA8IG1pbkRpc3QgdGhlbgogICAgICAgICAgICAgICAgbWluRGlzdCwgY2xvc2VzdCA9IGRpc3QsIHBscgogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICByZXR1cm4gY2xvc2VzdAogICAgZW5kCiAgICAKICAgIC0tIOWFvOWuuem8oOagh+eCueWHu+WHveaVsAogICAgbG9jYWwgbW91c2UxcHJlc3MgPSBtb3VzZTFwcmVzcyBvciBmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgdmltID0gZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsSW5wdXRNYW5hZ2VyIikKICAgICAgICB2aW06U2VuZE1vdXNlQnV0dG9uRXZlbnQoMCwwLDAsdHJ1ZSxnYW1lLDEpCiAgICBlbmQKICAgIAogICAgbG9jYWwgbW91c2UxcmVsZWFzZSA9IG1vdXNlMXJlbGVhc2Ugb3IgZnVuY3Rpb24oKQogICAgICAgIGxvY2FsIHZpbSA9IGdhbWU6R2V0U2VydmljZSgiVmlydHVhbElucHV0TWFuYWdlciIpCiAgICAgICAgdmltOlNlbmRNb3VzZUJ1dHRvbkV2ZW50KDAsMCwwLGZhbHNlLGdhbWUsMSkKICAgIGVuZAogICAgCiAgICAtLSDkuLvlvqrnjq8KICAgIGxvY2FsIGZ1bmN0aW9uIHN0YXJ0QWltYm90KCkKICAgICAgICBpZiBhaW1ib3RDb25uIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIAogICAgICAgIGFpbWJvdENvbm4gPSBSdW5TZXJ2aWNlLlJlbmRlclN0ZXBwZWQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIG5vdCBhaW1ib3RFbmFibGVkIHRoZW4gCiAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgcmV0dXJuIAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIG1vdXNlRm92Q2lyY2xlLlBvc2l0aW9uID0gVXNlcklucHV0U2VydmljZTpHZXRNb3VzZUxvY2F0aW9uKCkKCiAgICAgICAgICAgIGxvY2FsIHRhcmdldCA9IGdldENsb3Nlc3QoKQogICAgICAgICAgICBpZiBub3QgdGFyZ2V0IG9yIG5vdCB0YXJnZXQuQ2hhcmFjdGVyIHRoZW4gCiAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgcmV0dXJuIAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGFpbVBvcyA9IGdldEFpbVBvcyh0YXJnZXQuQ2hhcmFjdGVyKQogICAgICAgICAgICBpZiBub3QgYWltUG9zIHRoZW4gCiAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgcmV0dXJuIAogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIGlmIGFpbUxpbmVFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHNjcmVlblBvcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludChhaW1Qb3MpCiAgICAgICAgICAgICAgICBpZiBzY3JlZW5Qb3MuWiA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgIGFpbUxpbmUuRnJvbSA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkvMikKICAgICAgICAgICAgICAgICAgICBhaW1MaW5lLlRvID0gVmVjdG9yMi5uZXcoc2NyZWVuUG9zLlgsIHNjcmVlblBvcy5ZKQogICAgICAgICAgICAgICAgICAgIGFpbUxpbmUuVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGFpbUxpbmUuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZGVsdGEgPSBhaW1Qb3MgLSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uCiAgICAgICAgICAgIGlmIGRlbHRhLk1hZ25pdHVkZSA8IDAuMDEgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCB0YXJnZXRDRiA9IENGcmFtZS5uZXcoQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbiwgQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbiArIGRlbHRhKQogICAgICAgICAgICBsb2NhbCBjdXJyZW50TG9vayA9IENhbWVyYS5DRnJhbWUuTG9va1ZlY3RvcgogICAgICAgICAgICBsb2NhbCB0YXJnZXRMb29rID0gdGFyZ2V0Q0YuTG9va1ZlY3RvcgogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZG90ID0gY3VycmVudExvb2s6RG90KHRhcmdldExvb2spCiAgICAgICAgICAgIGxvY2FsIGFuZ2xlID0gbWF0aC5hY29zKG1hdGguY2xhbXAoZG90LCAtMSwgMSkpCiAgICAgICAgICAgIGxvY2FsIG1heEFuZ2xlID0gbWF0aC5yYWQoOTApCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBhbmdsZSA8PSBtYXhBbmdsZSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCBzbW9vdGhGYWN0b3IgPSBtYXRoLmNsYW1wKGFpbWJvdFNtb290aCwgMC4wMSwgMC45OSkKICAgICAgICAgICAgICAgIGxvY2FsIG5ld0xvb2sgPSBjdXJyZW50TG9vazpMZXJwKHRhcmdldExvb2ssIDEgLSBzbW9vdGhGYWN0b3IpCiAgICAgICAgICAgICAgICBDYW1lcmEuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uLCBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uICsgbmV3TG9vaykKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICBpZiB0aWNrKCkgLSBsYXN0RmlyZSA+IGFpbWJvdERlbGF5IHRoZW4KICAgICAgICAgICAgICAgIG1vdXNlMXByZXNzKCkKICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjA1KQogICAgICAgICAgICAgICAgbW91c2UxcmVsZWFzZSgpCiAgICAgICAgICAgICAgICBsYXN0RmlyZSA9IHRpY2soKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gc3RvcEFpbWJvdCgpCiAgICAgICAgaWYgYWltYm90Q29ubiB0aGVuIAogICAgICAgICAgICBhaW1ib3RDb25uOkRpc2Nvbm5lY3QoKSAKICAgICAgICAgICAgYWltYm90Q29ubiA9IG5pbCAKICAgICAgICBlbmQKICAgICAgICBtb3VzZUZvdkNpcmNsZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICBmaXhlZEZvdkNpcmNsZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICBhaW1MaW5lLlZpc2libGUgPSBmYWxzZQogICAgZW5kCiAgICAKICAgIC0tIEFJLUFpbWJvdCDnlYzpnaIKICAgIFRhYjM6Q3JlYXRlU2VjdGlvbigiQUktQWltYm90IikKICAgIFRhYjM6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWQr+eUqCBBaW1ib3QiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgYWltYm90RW5hYmxlZCA9IHYKICAgICAgICAgICAgaWYgdiB0aGVuIAogICAgICAgICAgICAgICAgc3RhcnRBaW1ib3QoKQogICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigiQWltYm90IiwgIkFJ556E5YeG57O757uf5bey5ZCv55SoIiwgMikKICAgICAgICAgICAgZWxzZSAKICAgICAgICAgICAgICAgIHN0b3BBaW1ib3QoKQogICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigiQWltYm90IiwgIkFJ556E5YeG57O757uf5bey5YWz6ZetIiwgMikKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLku4XnnoTlh4bmlYzkuroiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGFpbWJvdENoZWNrVGVhbSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbWJvdENoZWNrVGVhbSA9IHYgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLlopnkvZPmo4DmtYsiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IHdhbGxDaGVja0VuYWJsZWQsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSB3YWxsQ2hlY2tFbmFibGVkID0gdiBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuiHqueehOe6v+adoSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gYWltTGluZUVuYWJsZWQsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBhaW1MaW5lRW5hYmxlZCA9IHYgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZURyb3Bkb3duKHsKICAgICAgICBOYW1lID0gIueehOWHhuaWueW8jyIsCiAgICAgICAgT3B0aW9ucyA9IHsiRGlzdGFuY2UiLCAiQ3Jvc3NoYWlyIn0sCiAgICAgICAgQ3VycmVudE9wdGlvbiA9IGFpbWJvdE1vZGUsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBhaW1ib3RNb2RlID0gdiBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlU2VjdGlvbigi6Lef6ZqP6byg5qCHIEZPViIpCiAgICBUYWIzOkNyZWF0ZVRvZ2dsZSh7IAogICAgICAgIE5hbWUgPSAi5pi+56S66Lef6ZqPRk9WIiwgCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmFsc2UsIAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgbW91c2VGb3ZDaXJjbGUuVmlzaWJsZSA9IHYgZW5kIAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi5Y2K5b6EIiwKICAgICAgICBSYW5nZSA9IHswLCA1MDB9LAogICAgICAgIEluY3JlbWVudCA9IDUsCiAgICAgICAgU3VmZml4ID0gInB4IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBtb3VzZUZPViwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIAogICAgICAgICAgICBtb3VzZUZPViA9IHYKICAgICAgICAgICAgbW91c2VGb3ZDaXJjbGUuUmFkaXVzID0gdiAKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlU2VjdGlvbigi5Zu65a6a5Lit5b+DIEZPViIpCiAgICBUYWIzOkNyZWF0ZVRvZ2dsZSh7IAogICAgICAgIE5hbWUgPSAi5pi+56S65Zu65a6aRk9WIiwgCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmFsc2UsIAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgZml4ZWRGb3ZDaXJjbGUuVmlzaWJsZSA9IHYgZW5kIAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi5Y2K5b6EIiwKICAgICAgICBSYW5nZSA9IHswLCA1MDB9LAogICAgICAgIEluY3JlbWVudCA9IDUsCiAgICAgICAgU3VmZml4ID0gInB4IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBmaXhlZEZPViwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIAogICAgICAgICAgICBmaXhlZEZPViA9IHYKICAgICAgICAgICAgZml4ZWRGb3ZDaXJjbGUuUmFkaXVzID0gdiAKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjM6Q3JlYXRlU2VjdGlvbigi6YCa55So5Y+C5pWwIikKICAgIFRhYjM6Q3JlYXRlU2xpZGVyKHsKICAgICAgICBOYW1lID0gIuW5s+a7keezu+aVsCIsCiAgICAgICAgUmFuZ2UgPSB7MCwgMX0sCiAgICAgICAgSW5jcmVtZW50ID0gMC4wMSwKICAgICAgICBTdWZmaXggPSAiIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBhaW1ib3RTbW9vdGgsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KSBhaW1ib3RTbW9vdGggPSB2IGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVTbGlkZXIoewogICAgICAgIE5hbWUgPSAi6aKE5rWL5pe26Ze0IiwKICAgICAgICBSYW5nZSA9IHswLCAxfSwKICAgICAgICBJbmNyZW1lbnQgPSAwLjAxLAogICAgICAgIFN1ZmZpeCA9ICJzIiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBhaW1ib3RQcmVkaWN0aW9uLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgYWltYm90UHJlZGljdGlvbiA9IHYgZW5kCiAgICB9KQogICAgCiAgICBUYWIzOkNyZWF0ZVNsaWRlcih7CiAgICAgICAgTmFtZSA9ICLlvIDngavlu7bov58iLAogICAgICAgIFJhbmdlID0gezAsIDF9LAogICAgICAgIEluY3JlbWVudCA9IDAuMDEsCiAgICAgICAgU3VmZml4ID0gInMiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGFpbWJvdERlbGF5LAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikgYWltYm90RGVsYXkgPSB2IGVuZAogICAgfSkKICAgIAogICAgVGFiMzpDcmVhdGVEcm9wZG93bih7CiAgICAgICAgTmFtZSA9ICLnnoTlh4bpqqjpqrwiLAogICAgICAgIE9wdGlvbnMgPSB7IkhlYWQiLCJOZWNrIiwiVXBwZXJUb3JzbyIsIkh1bWFub2lkUm9vdFBhcnQifSwKICAgICAgICBDdXJyZW50T3B0aW9uID0gYWltYm90Qm9uZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpIGFpbWJvdEJvbmUgPSB2IGVuZAogICAgfSkKCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLS0g5L+u5aSN54mIRVNQ57O757ufIC0g566A5YyW56iz5a6a54mICiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgbG9jYWwgVGFiNCA9IFdpbmRvdzpDcmVhdGVUYWIoIumAj+inhuWKn+iDvSIsIDc3MzM5NjE3NDkpCiAgICAKICAgIC0tIEVTUCDln7rnoYDorr7nva4KICAgIGxvY2FsIGVzcEVuYWJsZWQgPSBmYWxzZQogICAgbG9jYWwgZXNwQ2FjaGUgPSB7fQogICAgbG9jYWwgdHJhY2VyUG9zaXRpb24gPSAiQm90dG9tIgogICAgbG9jYWwgZXNwU2hvd0VuZW15T25seSA9IGZhbHNlCiAgICAKICAgIC0tIEVTUCDlip/og73lvIDlhbMKICAgIGxvY2FsIGVzcFNob3dCb3ggPSB0cnVlCiAgICBsb2NhbCBlc3BTaG93TmFtZSA9IHRydWUKICAgIGxvY2FsIGVzcFNob3dEaXN0YW5jZSA9IHRydWUKICAgIGxvY2FsIGVzcFNob3dIZWFsdGhCYXIgPSB0cnVlCiAgICBsb2NhbCBlc3BTaG93VHJhY2VyID0gdHJ1ZQoKICAgIGxvY2FsIGZ1bmN0aW9uIGdldFRlYW1Db2xvcihwbHIpCiAgICAgICAgaWYgcGxyLlRlYW0gYW5kIExvY2FsUGxheWVyLlRlYW0gYW5kIHBsci5UZWFtID09IExvY2FsUGxheWVyLlRlYW0gdGhlbgogICAgICAgICAgICByZXR1cm4gQ29sb3IzLmZyb21SR0IoMCwgMjU1LCAwKSAgLS0g6Zif5Y+L57u/6ImyCiAgICAgICAgZWxzZQogICAgICAgICAgICByZXR1cm4gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSAgLS0g5pWM5Lq657qi6ImyCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBsb2NhbCBmdW5jdGlvbiBpc1RlYW1tYXRlKHBscikKICAgICAgICBpZiBwbHIuVGVhbSBhbmQgTG9jYWxQbGF5ZXIuVGVhbSBhbmQgcGxyLlRlYW0gPT0gTG9jYWxQbGF5ZXIuVGVhbSB0aGVuCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgZW5kCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICBlbmQKCiAgICAtLSDnroDljJbnmoRFU1Dlr7nosaHliJvlu7oKICAgIGxvY2FsIGZ1bmN0aW9uIGNyZWF0ZUVTUE9iamVjdChwbHIpCiAgICAgICAgbG9jYWwgZXNwID0gewogICAgICAgICAgICBCb3ggPSBEcmF3aW5nLm5ldygiU3F1YXJlIiksCiAgICAgICAgICAgIE5hbWUgPSBEcmF3aW5nLm5ldygiVGV4dCIpLAogICAgICAgICAgICBEaXN0YW5jZSA9IERyYXdpbmcubmV3KCJUZXh0IiksCiAgICAgICAgICAgIEhlYWx0aEJhciA9IERyYXdpbmcubmV3KCJTcXVhcmUiKSwKICAgICAgICAgICAgVHJhY2VyID0gRHJhd2luZy5uZXcoIkxpbmUiKQogICAgICAgIH0KICAgICAgICAKICAgICAgICAtLSDmlrnmoYborr7nva4KICAgICAgICBlc3AuQm94LlRoaWNrbmVzcyA9IDIKICAgICAgICBlc3AuQm94LkZpbGxlZCA9IGZhbHNlCiAgICAgICAgZXNwLkJveC5aSW5kZXggPSA1CiAgICAgICAgCiAgICAgICAgLS0g5ZCN56ew6K6+572uCiAgICAgICAgZXNwLk5hbWUuU2l6ZSA9IDE4CiAgICAgICAgZXNwLk5hbWUuQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5OYW1lLk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLk5hbWUuWkluZGV4ID0gNgogICAgICAgIAogICAgICAgIC0tIOi3neemu+iuvue9rgogICAgICAgIGVzcC5EaXN0YW5jZS5TaXplID0gMTYKICAgICAgICBlc3AuRGlzdGFuY2UuQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5EaXN0YW5jZS5PdXRsaW5lID0gdHJ1ZQogICAgICAgIGVzcC5EaXN0YW5jZS5aSW5kZXggPSA2CiAgICAgICAgCiAgICAgICAgLS0g6KGA5p2h6K6+572uCiAgICAgICAgZXNwLkhlYWx0aEJhci5GaWxsZWQgPSB0cnVlCiAgICAgICAgZXNwLkhlYWx0aEJhci5UaGlja25lc3MgPSAzCiAgICAgICAgZXNwLkhlYWx0aEJhci5aSW5kZXggPSA1CiAgICAgICAgCiAgICAgICAgLS0g6L+96Liq57q/6K6+572uCiAgICAgICAgZXNwLlRyYWNlci5UaGlja25lc3MgPSAxLjUKICAgICAgICBlc3AuVHJhY2VyLlpJbmRleCA9IDQKICAgICAgICAKICAgICAgICBlc3BDYWNoZVtwbHJdID0gZXNwCiAgICAgICAgcmV0dXJuIGVzcAogICAgZW5kCgogICAgLS0g5L+u5aSN55qERVNQ5pu05paw5Ye95pWwCiAgICBsb2NhbCBmdW5jdGlvbiB1cGRhdGVFU1AoKQogICAgICAgIGlmIG5vdCBlc3BFbmFibGVkIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIAogICAgICAgIGZvciBfLCBwbHIgaW4gaXBhaXJzKFBsYXllcnM6R2V0UGxheWVycygpKSBkbwogICAgICAgICAgICBpZiBwbHIgPT0gTG9jYWxQbGF5ZXIgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOWmguaenOWPquaYvuekuuaVjOS6uuS4lOaYr+mYn+WPi++8jOWImemakOiXjwogICAgICAgICAgICBpZiBlc3BTaG93RW5lbXlPbmx5IGFuZCBpc1RlYW1tYXRlKHBscikgdGhlbgogICAgICAgICAgICAgICAgaWYgZXNwQ2FjaGVbcGxyXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3BDYWNoZVtwbHJdKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmogYW5kIHR5cGVvZihvYmopID09ICJ1c2VyZGF0YSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBjaGFyID0gcGxyLkNoYXJhY3RlcgogICAgICAgICAgICBpZiBub3QgY2hhciB0aGVuCiAgICAgICAgICAgICAgICBpZiBlc3BDYWNoZVtwbHJdIHRoZW4KICAgICAgICAgICAgICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKGVzcENhY2hlW3Bscl0pIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9iaiBhbmQgdHlwZW9mKG9iaikgPT0gInVzZXJkYXRhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBjb250aW51ZSAKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCByb290ID0gY2hhcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgICAgIGxvY2FsIGhlYWQgPSBjaGFyOkZpbmRGaXJzdENoaWxkKCJIZWFkIikKICAgICAgICAgICAgbG9jYWwgaHVtYW5vaWQgPSBjaGFyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgbm90IChyb290IGFuZCBoZWFkIGFuZCBodW1hbm9pZCkgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIHJvb3RQb3MsIHJvb3RWaXMgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQocm9vdC5Qb3NpdGlvbikKICAgICAgICAgICAgbG9jYWwgaGVhZFBvcywgaGVhZFZpcyA9IENhbWVyYTpXb3JsZFRvVmlld3BvcnRQb2ludChoZWFkLlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMS41LCAwKSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG5vdCAocm9vdFZpcyBhbmQgaGVhZFZpcykgdGhlbgogICAgICAgICAgICAgICAgaWYgZXNwQ2FjaGVbcGxyXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3BDYWNoZVtwbHJdKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmogYW5kIHR5cGVvZihvYmopID09ICJ1c2VyZGF0YSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBlc3AgPSBlc3BDYWNoZVtwbHJdIG9yIGNyZWF0ZUVTUE9iamVjdChwbHIpCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDorqHnrpfmlrnmoYbkvY3nva7lkozlpKflsI8KICAgICAgICAgICAgbG9jYWwgaGVpZ2h0ID0gKGhlYWRQb3MuWSAtIHJvb3RQb3MuWSkgKiAyCiAgICAgICAgICAgIGxvY2FsIHdpZHRoID0gaGVpZ2h0ICogMC42CiAgICAgICAgICAgIGxvY2FsIGxlZnQgPSBoZWFkUG9zLlggLSB3aWR0aCAvIDIKICAgICAgICAgICAgbG9jYWwgdG9wID0gaGVhZFBvcy5ZIC0gaGVpZ2h0ICogMC44CiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBjb2xvciA9IGdldFRlYW1Db2xvcihwbHIpCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDmlrnmoYYKICAgICAgICAgICAgaWYgZXNwU2hvd0JveCB0aGVuCiAgICAgICAgICAgICAgICBlc3AuQm94LlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICBlc3AuQm94LkNvbG9yID0gY29sb3IKICAgICAgICAgICAgICAgIGVzcC5Cb3guU2l6ZSA9IFZlY3RvcjIubmV3KHdpZHRoLCBoZWlnaHQpCiAgICAgICAgICAgICAgICBlc3AuQm94LlBvc2l0aW9uID0gVmVjdG9yMi5uZXcobGVmdCwgdG9wKQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBlc3AuQm94LlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOWQjeensAogICAgICAgICAgICBpZiBlc3BTaG93TmFtZSB0aGVuCiAgICAgICAgICAgICAgICBlc3AuTmFtZS5WaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICAgICAgZXNwLk5hbWUuQ29sb3IgPSBjb2xvcgogICAgICAgICAgICAgICAgZXNwLk5hbWUuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhoZWFkUG9zLlgsIHRvcCAtIDIwKQogICAgICAgICAgICAgICAgZXNwLk5hbWUuVGV4dCA9IHBsci5OYW1lCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGVzcC5OYW1lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIOi3neemuwogICAgICAgICAgICBpZiBlc3BTaG93RGlzdGFuY2UgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgZGlzdGFuY2UgPSBtYXRoLmZsb29yKChyb290LlBvc2l0aW9uIC0gQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbikuTWFnbml0dWRlKQogICAgICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICBlc3AuRGlzdGFuY2UuQ29sb3IgPSBjb2xvcgogICAgICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoaGVhZFBvcy5YLCB0b3AgKyBoZWlnaHQgKyA1KQogICAgICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlRleHQgPSB0b3N0cmluZyhkaXN0YW5jZSkgLi4gIm0iCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGVzcC5EaXN0YW5jZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSDooYDmnaEKICAgICAgICAgICAgaWYgZXNwU2hvd0hlYWx0aEJhciBhbmQgaHVtYW5vaWQgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgaGVhbHRoUGVyY2VudCA9IG1hdGguY2xhbXAoaHVtYW5vaWQuSGVhbHRoIC8gaHVtYW5vaWQuTWF4SGVhbHRoLCAwLCAxKQogICAgICAgICAgICAgICAgbG9jYWwgYmFyV2lkdGggPSB3aWR0aAogICAgICAgICAgICAgICAgbG9jYWwgYmFySGVpZ2h0ID0gNAogICAgICAgICAgICAgICAgbG9jYWwgYmFyWCA9IGxlZnQKICAgICAgICAgICAgICAgIGxvY2FsIGJhclkgPSB0b3AgKyBoZWlnaHQgKyAxNQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlc3AuSGVhbHRoQmFyLlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICBlc3AuSGVhbHRoQmFyLkNvbG9yID0gQ29sb3IzLm5ldygxIC0gaGVhbHRoUGVyY2VudCwgaGVhbHRoUGVyY2VudCwgMCkKICAgICAgICAgICAgICAgIGVzcC5IZWFsdGhCYXIuU2l6ZSA9IFZlY3RvcjIubmV3KGJhcldpZHRoICogaGVhbHRoUGVyY2VudCwgYmFySGVpZ2h0KQogICAgICAgICAgICAgICAgZXNwLkhlYWx0aEJhci5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KGJhclgsIGJhclkpCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGVzcC5IZWFsdGhCYXIuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgLS0g6L+96Liq57q/CiAgICAgICAgICAgIGlmIGVzcFNob3dUcmFjZXIgdGhlbgogICAgICAgICAgICAgICAgZXNwLlRyYWNlci5WaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICAgICAgZXNwLlRyYWNlci5Db2xvciA9IGNvbG9yCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIHN0YXJ0UG9pbnQKICAgICAgICAgICAgICAgIGlmIHRyYWNlclBvc2l0aW9uID09ICJUb3AiIHRoZW4KICAgICAgICAgICAgICAgICAgICBzdGFydFBvaW50ID0gVmVjdG9yMi5uZXcoQ2FtZXJhLlZpZXdwb3J0U2l6ZS5YLzIsIDApCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgc3RhcnRQb2ludCA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWC8yLCBDYW1lcmEuVmlld3BvcnRTaXplLlkpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbG9jYWwgZW5kUG9pbnQgPSBWZWN0b3IyLm5ldyhoZWFkUG9zLlgsIGhlYWRQb3MuWSkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZXNwLlRyYWNlci5Gcm9tID0gc3RhcnRQb2ludAogICAgICAgICAgICAgICAgZXNwLlRyYWNlci5UbyA9IGVuZFBvaW50CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGVzcC5UcmFjZXIuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIC0tIOa4heeQhuS4jeWtmOWcqOeahOeOqeWutgogICAgICAgIGZvciBwbHIsIGVzcCBpbiBwYWlycyhlc3BDYWNoZSkgZG8KICAgICAgICAgICAgaWYgbm90IHBsciBvciBub3QgcGxyLlBhcmVudCBvciBwbHIgPT0gTG9jYWxQbGF5ZXIgdGhlbgogICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3ApIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgb2JqIGFuZCB0eXBlb2Yob2JqKSA9PSAidXNlcmRhdGEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBvYmo6UmVtb3ZlKCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZXNwQ2FjaGVbcGxyXSA9IG5pbAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGxvY2FsIGVzcExvb3AKICAgIAogICAgLS0gTlBDIOmAj+inhuezu+e7nwogICAgbG9jYWwgbnBjRXNwRW5hYmxlZCA9IGZhbHNlCiAgICBsb2NhbCBucGNFc3BDYWNoZSA9IHt9CiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIGNyZWF0ZU5wY0VTUE9iamVjdChtb2RlbCkKICAgICAgICBsb2NhbCBlc3AgPSB7CiAgICAgICAgICAgIEJveCA9IERyYXdpbmcubmV3KCJTcXVhcmUiKSwKICAgICAgICAgICAgTmFtZSA9IERyYXdpbmcubmV3KCJUZXh0IiksCiAgICAgICAgICAgIERpc3RhbmNlID0gRHJhd2luZy5uZXcoIlRleHQiKQogICAgICAgIH0KICAgICAgICAKICAgICAgICBlc3AuQm94LlRoaWNrbmVzcyA9IDEuNQogICAgICAgIGVzcC5Cb3guRmlsbGVkID0gZmFsc2UKICAgICAgICBlc3AuQm94LkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxNjUsIDApCiAgICAgICAgZXNwLkJveC5aSW5kZXggPSA0CiAgICAgICAgCiAgICAgICAgZXNwLk5hbWUuU2l6ZSA9IDE2CiAgICAgICAgZXNwLk5hbWUuQ2VudGVyID0gdHJ1ZQogICAgICAgIGVzcC5OYW1lLk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLk5hbWUuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDE2NSwgMCkKICAgICAgICBlc3AuTmFtZS5aSW5kZXggPSA0CiAgICAgICAgCiAgICAgICAgZXNwLkRpc3RhbmNlLlNpemUgPSAxNAogICAgICAgIGVzcC5EaXN0YW5jZS5DZW50ZXIgPSB0cnVlCiAgICAgICAgZXNwLkRpc3RhbmNlLk91dGxpbmUgPSB0cnVlCiAgICAgICAgZXNwLkRpc3RhbmNlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxNjUsIDApCiAgICAgICAgZXNwLkRpc3RhbmNlLlpJbmRleCA9IDQKICAgICAgICAKICAgICAgICBucGNFc3BDYWNoZVttb2RlbF0gPSBlc3AKICAgICAgICByZXR1cm4gZXNwCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlTnBjRVNQKCkKICAgICAgICBpZiBub3QgbnBjRXNwRW5hYmxlZCB0aGVuIHJldHVybiBlbmQKICAgICAgICAKICAgICAgICBmb3IgXywgbW9kZWwgaW4gaXBhaXJzKHdvcmtzcGFjZTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICBpZiBtb2RlbDpJc0EoIk1vZGVsIikgYW5kIG1vZGVsOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSBhbmQgbm90IFBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3Rlcihtb2RlbCkgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgcm9vdCA9IG1vZGVsOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgbW9kZWw6RmluZEZpcnN0Q2hpbGQoIlRvcnNvIikKICAgICAgICAgICAgICAgIGxvY2FsIGhlYWQgPSBtb2RlbDpGaW5kRmlyc3RDaGlsZCgiSGVhZCIpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIG5vdCAocm9vdCBhbmQgaGVhZCkgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIG5wY0VzcENhY2hlW21vZGVsXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMobnBjRXNwQ2FjaGVbbW9kZWxdKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgb2JqIGFuZCB0eXBlb2Yob2JqKSA9PSAidXNlcmRhdGEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsb2NhbCByb290UG9zLCByb290VmlzID0gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KHJvb3QuUG9zaXRpb24pCiAgICAgICAgICAgICAgICBsb2NhbCBoZWFkUG9zLCBoZWFkVmlzID0gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KGhlYWQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxLjUsIDApKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiBub3QgKHJvb3RWaXMgYW5kIGhlYWRWaXMpIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBucGNFc3BDYWNoZVttb2RlbF0gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKG5wY0VzcENhY2hlW21vZGVsXSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9iaiBhbmQgdHlwZW9mKG9iaikgPT0gInVzZXJkYXRhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbG9jYWwgZXNwID0gbnBjRXNwQ2FjaGVbbW9kZWxdIG9yIGNyZWF0ZU5wY0VTUE9iamVjdChtb2RlbCkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbG9jYWwgaGVpZ2h0ID0gKGhlYWRQb3MuWSAtIHJvb3RQb3MuWSkgKiAyCiAgICAgICAgICAgICAgICBsb2NhbCB3aWR0aCA9IGhlaWdodCAqIDAuNgogICAgICAgICAgICAgICAgbG9jYWwgbGVmdCA9IGhlYWRQb3MuWCAtIHdpZHRoIC8gMgogICAgICAgICAgICAgICAgbG9jYWwgdG9wID0gaGVhZFBvcy5ZIC0gaGVpZ2h0ICogMC44CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGVzcC5Cb3guVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgIGVzcC5Cb3guU2l6ZSA9IFZlY3RvcjIubmV3KHdpZHRoLCBoZWlnaHQpCiAgICAgICAgICAgICAgICBlc3AuQm94LlBvc2l0aW9uID0gVmVjdG9yMi5uZXcobGVmdCwgdG9wKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlc3AuTmFtZS5WaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICAgICAgZXNwLk5hbWUuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhoZWFkUG9zLlgsIHRvcCAtIDE1KQogICAgICAgICAgICAgICAgZXNwLk5hbWUuVGV4dCA9IG1vZGVsLk5hbWUKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbG9jYWwgZGlzdGFuY2UgPSBtYXRoLmZsb29yKChyb290LlBvc2l0aW9uIC0gQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbikuTWFnbml0dWRlKQogICAgICAgICAgICAgICAgZXNwLkRpc3RhbmNlLlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICBlc3AuRGlzdGFuY2UuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhoZWFkUG9zLlgsIHRvcCArIGhlaWdodCArIDUpCiAgICAgICAgICAgICAgICBlc3AuRGlzdGFuY2UuVGV4dCA9IHRvc3RyaW5nKGRpc3RhbmNlKSAuLiAibSIKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgZm9yIG1vZGVsLCBlc3AgaW4gcGFpcnMobnBjRXNwQ2FjaGUpIGRvCiAgICAgICAgICAgIGlmIG5vdCBtb2RlbCBvciBub3QgbW9kZWwuUGFyZW50IHRoZW4KICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIG9iaiBhbmQgdHlwZW9mKG9iaikgPT0gInVzZXJkYXRhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgb2JqOlJlbW92ZSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIG5wY0VzcENhY2hlW21vZGVsXSA9IG5pbAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgCiAgICBsb2NhbCBucGNFc3BMb29wCiAgICAKICAgIC0tIEVTUCDnlYzpnaIKICAgIFRhYjQ6Q3JlYXRlU2VjdGlvbigi546p5a626YCP6KeGIikKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuWQr+eUqOeOqeWutumAj+inhiIsIAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLCAKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcEVuYWJsZWQgPSB2CiAgICAgICAgICAgIGlmIHYgdGhlbgogICAgICAgICAgICAgICAgaWYgbm90IGVzcExvb3AgdGhlbgogICAgICAgICAgICAgICAgICAgIGVzcExvb3AgPSBSdW5TZXJ2aWNlLlJlbmRlclN0ZXBwZWQ6Q29ubmVjdCh1cGRhdGVFU1ApCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oIumAj+inhuezu+e7nyIsICLnjqnlrrbpgI/op4blt7LlkK/nlKgiLCAyKQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBpZiBlc3BMb29wIHRoZW4KICAgICAgICAgICAgICAgICAgICBlc3BMb29wOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgIGVzcExvb3AgPSBuaWwKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZm9yIHBsciwgZXNwIGluIHBhaXJzKGVzcENhY2hlKSBkbwogICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmogYW5kIHR5cGVvZihvYmopID09ICJ1c2VyZGF0YSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKSBvYmo6UmVtb3ZlKCkgZW5kKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgdGFibGUuY2xlYXIoZXNwQ2FjaGUpCiAgICAgICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLpgI/op4bns7vnu58iLCAi546p5a626YCP6KeG5bey56aB55SoIiwgMikKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICB9KQoKICAgIFRhYjQ6Q3JlYXRlRHJvcGRvd24oewogICAgICAgIE5hbWUgPSAi6L+96Liq57q/5L2N572uIiwKICAgICAgICBPcHRpb25zID0geyJUb3AiLCAiQm90dG9tIn0sCiAgICAgICAgQ3VycmVudE9wdGlvbiA9IHRyYWNlclBvc2l0aW9uLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgICAgIHRyYWNlclBvc2l0aW9uID0gdmFsdWUKICAgICAgICBlbmQKICAgIH0pCgogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5Y+q5pi+56S65pWM5Lq6IiwKICAgICAgICBDdXJyZW50VmFsdWUgPSBlc3BTaG93RW5lbXlPbmx5LAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2hvd0VuZW15T25seSA9IHYKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIC0tIEVTUCDlip/og73lvIDlhbMKICAgIFRhYjQ6Q3JlYXRlU2VjdGlvbigiRVNQIOWKn+iDveW8gOWFsyIpCiAgICAKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuaWueahhiIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZXNwU2hvd0JveCwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNob3dCb3ggPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrlkI3np7AiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNob3dOYW1lLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgZXNwU2hvd05hbWUgPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrot53nprsiLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNob3dEaXN0YW5jZSwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNob3dEaXN0YW5jZSA9IHYKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIFRhYjQ6Q3JlYXRlVG9nZ2xlKHsKICAgICAgICBOYW1lID0gIuaYvuekuuihgOadoSIsCiAgICAgICAgQ3VycmVudFZhbHVlID0gZXNwU2hvd0hlYWx0aEJhciwKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgICAgIGVzcFNob3dIZWFsdGhCYXIgPSB2CiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBUYWI0OkNyZWF0ZVRvZ2dsZSh7CiAgICAgICAgTmFtZSA9ICLmmL7npLrov73ouKrnur8iLAogICAgICAgIEN1cnJlbnRWYWx1ZSA9IGVzcFNob3dUcmFjZXIsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgICAgICBlc3BTaG93VHJhY2VyID0gdgogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVGFiNDpDcmVhdGVTZWN0aW9uKCJOUEPpgI/op4YiKQogICAgVGFiNDpDcmVhdGVUb2dnbGUoewogICAgICAgIE5hbWUgPSAi5ZCv55SoTlBD6YCP6KeGIiwgCiAgICAgICAgQ3VycmVudFZhbHVlID0gZmFsc2UsIAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICAgICAgbnBjRXNwRW5hYmxlZCA9IHYKICAgICAgICAgICAgaWYgdiB0aGVuCiAgICAgICAgICAgICAgICBpZiBub3QgbnBjRXNwTG9vcCB0aGVuCiAgICAgICAgICAgICAgICAgICAgbnBjRXNwTG9vcCA9IFJ1blNlcnZpY2UuUmVuZGVyU3RlcHBlZDpDb25uZWN0KHVwZGF0ZU5wY0VTUCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigi6YCP6KeG57O757ufIiwgIk5QQ+mAj+inhuW3suWQr+eUqCIsIDIpCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGlmIG5wY0VzcExvb3AgdGhlbgogICAgICAgICAgICAgICAgICAgIG5wY0VzcExvb3A6RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgbnBjRXNwTG9vcCA9IG5pbAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBmb3IgbW9kZWwsIGVzcCBpbiBwYWlycyhucGNFc3BDYWNoZSkgZG8KICAgICAgICAgICAgICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKGVzcCkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgb2JqIGFuZCB0eXBlb2Yob2JqKSA9PSAidXNlcmRhdGEiIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkgb2JqOlJlbW92ZSgpIGVuZCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIHRhYmxlLmNsZWFyKG5wY0VzcENhY2hlKQogICAgICAgICAgICAgICAgU2hvd05vdGlmaWNhdGlvbigi6YCP6KeG57O757ufIiwgIk5QQ+mAj+inhuW3suemgeeUqCIsIDIpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKCiAgICAtLSDohJrmnKzkuK3lv4MKICAgIGxvY2FsIHNjcmlwdFRhYnMgPSB7CiAgICAgICAgeyJWUuiEmuacrCIsICJGRVZS6ISa5pysIiwgImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9yYW5kb21zdHJpbmcwL1F3ZXJ0eS9yZWZzL2hlYWRzL21haW4vcXdlcnR5NDUubHVhIn0sCiAgICAgICAgeyLmjqfliLblj7AiLCAi5o6n5Yi25Y+w6ISa5pysIiwgImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS95eGdoMTY1L3l4Z2gxNjUvbWFpbi82NjYifSwKICAgICAgICB7IlhB6ISa5pysIiwgIlhBIEhVQiIsICJodHRwczovL3Jhdy5naXRjb2RlLmNvbS9YaW5ndGFpZHVhbi9TY3JpcHRzL3Jhdy9tYWluL0xvYWRlci5sdWEifSwKICAgICAgICB7IlJC6ISa5pysIiwgIlJi6ISa5pysIiwgImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9ZdW5nZW5neGluL3JvYmxveC9yZWZzL2hlYWRzL21haW4vUmItSHViIn0sCiAgICAgICAgeyLnlJ/lrZjkuI7mnYDmiYsiLCAi55Sf5a2Y5LiO5p2A5omLIiwgImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9NaWxhbjA4U3R1ZGlvL0NoYWlyV2FyZS9tYWluL21haW4ubHVhIn0sCiAgICAgICAgeyLniLHlvrfljY4iLCAi54ix5b635Y2OIiwgImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9ndW1hbmJhL1NjcmlwdHMvbWFpbi9FZHdhcmQifSwKICAgICAgICB7Iua0u+S6hjflpKkiLCAi5rS75LqGN+WkqSIsICJodHRwczovL3Jhd3NjcmlwdHMubmV0L3Jhdy9Vbml2ZXJzYWwtU2NyaXB0LTctZGF5cy10by1saXZlLTM2ODI0In0sCiAgICAgICAgeyLmrbvpk4HovagiLCAi5q276ZOB6L2oIiwgImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9pb3Bqa2xibm1zc3MvU2Fuc0h1YlNjcmlwdC9yZWZzL2hlYWRzL21haW4vU2Fuc0h1YiJ9LAogICAgICAgIHsi5LiA6Lev5ZCR6KW/IiwgIuS4gOi3r+WQkeilv+WIt+mSsSIsICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20veXhnaDE2NS95eGdoMTY1L21haW4v5LiA6Lev5ZCR6KW/In0sCiAgICAgICAgeyLoh6rnhLbngb7lrrMiLCAi6Ieq54S254G+5a6z6buR5rSedjYiLCAiaHR0cHM6Ly9yYXdzY3JpcHRzLm5ldC9yYXcvVW5pdmVyc2FsLVNjcmlwdC1TdXBlci1yaW5nLVBhcnRzLVY2LTI4NTgxIn0sCiAgICAgICAgeyLkv4TkuqXkv4Tlt54iLCAiWEHkv4TkuqXkv4Tlt54iLCAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1hpbmd0YWlkdWFuL1NjcmlwdC9yZWZzL2hlYWRzL21haW4vR2FtZXMv5L+E5Lql5L+E5beeLmx1YSJ9LAogICAgICAgIHsi5aKo5rC05ri45oiPIiwgIlhB5aKo5rC05ri45oiPIiwgImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9YaW5ndGFpZHVhbi9TY3JpcHQvcmVmcy9oZWFkcy9tYWluL0dhbWVzL+WiqOawtOa4uOaIjy5sdWEifSwKICAgICAgICB7Ijk55aScIiwgIlhBOTnlpJwiLCAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1hpbmd0YWlkdWFuL1NjcmlwdC9yZWZzL2hlYWRzL21haW4vR2FtZXMv5qOu5p6X5Lit55qEOTnlpJwubHVhIn0sCiAgICAgICAgeyLng4LmopfnpL7ljLoiLCAi54OC5qKX56S+5Yy65Yi36ZKxIiwgImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9YT1RSWE9OWS9FYXN5U2NyaXB0L21haW4vU3Vhby5sdWF1In0KICAgIH0KCiAgICBmb3IgaSwgdGFiRGF0YSBpbiBpcGFpcnMoc2NyaXB0VGFicykgZG8KICAgICAgICBsb2NhbCB0YWIgPSBXaW5kb3c6Q3JlYXRlVGFiKHRhYkRhdGFbMV0sIDc3MzM3Nzk2MTApCiAgICAgICAgdGFiOkNyZWF0ZUJ1dHRvbih7CiAgICAgICAgICAgIE5hbWUgPSB0YWJEYXRhWzJdLCAKICAgICAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLohJrmnKzliqDovb0iLCAi5q2j5Zyo5Yqg6L29OiAiIC4uIHRhYkRhdGFbMl0sIDMpCiAgICAgICAgICAgICAgICBsb2NhbCBzdWNjZXNzLCBlcnIgPSBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQodGFiRGF0YVszXSkpKCkKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgIGlmIHN1Y2Nlc3MgdGhlbgogICAgICAgICAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oIuiEmuacrOWKoOi9vSIsIHRhYkRhdGFbMl0gLi4gIiDliqDovb3miJDlip8iLCAzKQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oIuiEmuacrOWKoOi9vSIsIHRhYkRhdGFbMl0gLi4gIiDliqDovb3lpLHotKUiLCA1KQogICAgICAgICAgICAgICAgICAgIHdhcm4oIuiEmuacrOWKoOi9vemUmeivrzogIiAuLiB0b3N0cmluZyhlcnIpKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIH0pCiAgICBlbmQKCiAgICAtLSDorr7nva5UYWIKICAgIGxvY2FsIFRhYjIwID0gV2luZG93OkNyZWF0ZVRhYigi6K6+572uIiwgNzczMzc3OTYxMCkKICAgIAogICAgVGFiMjA6Q3JlYXRlQnV0dG9uKHsKICAgICAgICBOYW1lID0gIua4heeQhuaJgOaciUVTUCIsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgICAgIC0tIOa4heeQhueOqeWutkVTUAogICAgICAgICAgICBpZiBlc3BMb29wIHRoZW4KICAgICAgICAgICAgICAgIGVzcExvb3A6RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICBlc3BMb29wID0gbmlsCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBmb3IgcGxyLCBlc3AgaW4gcGFpcnMoZXNwQ2FjaGUpIGRvCiAgICAgICAgICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKGVzcCkgZG8KICAgICAgICAgICAgICAgICAgICBpZiBvYmogYW5kIHR5cGVvZihvYmopID09ICJ1c2VyZGF0YSIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpIG9iajpSZW1vdmUoKSBlbmQpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIHRhYmxlLmNsZWFyKGVzcENhY2hlKQogICAgICAgICAgICAKICAgICAgICAgICAgLS0g5riF55CGTlBDIEVTUAogICAgICAgICAgICBpZiBucGNFc3BMb29wIHRoZW4KICAgICAgICAgICAgICAgIG5wY0VzcExvb3A6RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICBucGNFc3BMb29wID0gbmlsCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBmb3IgbW9kZWwsIGVzcCBpbiBwYWlycyhucGNFc3BDYWNoZSkgZG8KICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMoZXNwKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIG9iaiBhbmQgdHlwZW9mKG9iaikgPT0gInVzZXJkYXRhIiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkgb2JqOlJlbW92ZSgpIGVuZCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgdGFibGUuY2xlYXIobnBjRXNwQ2FjaGUpCiAgICAgICAgICAgIAogICAgICAgICAgICBlc3BFbmFibGVkID0gZmFsc2UKICAgICAgICAgICAgbnBjRXNwRW5hYmxlZCA9IGZhbHNlCiAgICAgICAgICAgIAogICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKCLmuIXnkIblrozmiJAiLCAi5omA5pyJRVNQ5bey5riF55CGIiwgMykKICAgICAgICBlbmQKICAgIH0pCiAgICAKICAgIC0tIOW/jeiAheazqOWFpeWZqOWFvOWuueaAp+ajgOafpQogICAgaWYgaWRlbnRpZnlleGVjdXRvciBhbmQgaWRlbnRpZnlleGVjdXRvcigpOmxvd2VyKCk6ZmluZCgibmluamEiKSB0aGVuCiAgICAgICAgU2hvd05vdGlmaWNhdGlvbigi5rOo5YWl5Zmo5qOA5rWLIiwgIuW/jeiAheazqOWFpeWZqOW3suivhuWIq++8jOaJgOacieWKn+iDveWFvOWuuSIsIDMpCiAgICBlbmQKZW5kCgotLSDnm7TmjqXliJvlu7rkuLvnqpflj6PlhoXlrrkKQ3JlYXRlTWFpbldpbmRvd0NvbnRlbnQoKQoKLS0g6ISa5pys5YWz6Zet5pe25riF55CG6LWE5rqQCmdhbWU6QmluZFRvQ2xvc2UoZnVuY3Rpb24oKQogICAgLS0g5riF55CG6aOe6KGM57O757ufCiAgICBpZiBmbHlpbmcgdGhlbgogICAgICAgIHN0b3BGbHlpbmcoKQogICAgZW5kCiAgICAKICAgIC0tIOa4heeQhkFpbWJvdOezu+e7nwogICAgaWYgYWltYm90Q29ubiB0aGVuCiAgICAgICAgYWltYm90Q29ubjpEaXNjb25uZWN0KCkKICAgIGVuZAogICAgaWYgYWltTGluZSB0aGVuCiAgICAgICAgYWltTGluZTpSZW1vdmUoKQogICAgZW5kCiAgICBpZiBtb3VzZUZvdkNpcmNsZSB0aGVuCiAgICAgICAgbW91c2VGb3ZDaXJjbGU6UmVtb3ZlKCkKICAgIGVuZAogICAgaWYgZml4ZWRGb3ZDaXJjbGUgdGhlbgogICAgICAgIGZpeGVkRm92Q2lyY2xlOlJlbW92ZSgpCiAgICBlbmQKICAgIAogICAgLS0g5riF55CGRVNQ57O757ufCiAgICBpZiBlc3BMb29wIHRoZW4KICAgICAgICBlc3BMb29wOkRpc2Nvbm5lY3QoKQogICAgZW5kCiAgICBpZiBucGNFc3BMb29wIHRoZW4KICAgICAgICBucGNFc3BMb29wOkRpc2Nvbm5lY3QoKQogICAgZW5kCiAgICBmb3IgcGxyLCBlc3AgaW4gcGFpcnMoZXNwQ2FjaGUpIGRvCiAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhlc3ApIGRvCiAgICAgICAgICAgIGlmIG9iaiBhbmQgdHlwZW9mKG9iaikgPT0gInVzZXJkYXRhIiB0aGVuCiAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpIG9iajpSZW1vdmUoKSBlbmQpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICBmb3IgbW9kZWwsIGVzcCBpbiBwYWlycyhucGNFc3BDYWNoZSkgZG8KICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKGVzcCkgZG8KICAgICAgICAgICAgaWYgb2JqIGFuZCB0eXBlb2Yob2JqKSA9PSAidXNlcmRhdGEiIHRoZW4KICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkgb2JqOlJlbW92ZSgpIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQoKU2hvd05vdGlmaWNhdGlvbigi5Z2k5Z2k5aSn5bid6ISa5pysIiwgIuWwiuS6q+eJueadg+eJiOWKoOi9veWujOaIkO+8gSIsIDUp")
loadstring(decoded)()
